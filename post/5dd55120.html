<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"timewait7.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"flat"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ToDoList 全栈项目 - 设计与实现一、架构设计1.1 系统架构图text 1234567891011121314151617181920212223242526272829303132┌─────────────────────────────────────────────────────────────┐│                    客户端 (Web浏览器)">
<meta property="og:type" content="article">
<meta property="og:title" content="Java代办清单设计与实现">
<meta property="og:url" content="http://timewait7.github.io/post/5dd55120.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="ToDoList 全栈项目 - 设计与实现一、架构设计1.1 系统架构图text 1234567891011121314151617181920212223242526272829303132┌─────────────────────────────────────────────────────────────┐│                    客户端 (Web浏览器)">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-12-17T11:00:04.000Z">
<meta property="article:modified_time" content="2025-12-17T11:20:57.639Z">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://timewait7.github.io/post/5dd55120.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://timewait7.github.io/post/5dd55120.html","path":"post/5dd55120.html","title":"Java代办清单设计与实现"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Java代办清单设计与实现 | Hexo</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hexo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-archives"><a href="/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ToDoList-%E5%85%A8%E6%A0%88%E9%A1%B9%E7%9B%AE-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.</span> <span class="nav-text">ToDoList 全栈项目 - 设计与实现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="nav-number">1.1.</span> <span class="nav-text">一、架构设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1 系统架构图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E6%8A%80%E6%9C%AF%E6%A0%88%E9%80%89%E6%8B%A9"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.2 技术栈选择</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3"><span class="nav-number">1.2.</span> <span class="nav-text">二、详细设计文档</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 核心功能模块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-1-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">2.1.1 用户管理模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-2-%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">2.1.2 任务管理模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-3-%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">2.1.3 高级功能模块</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 数据库设计</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="nav-number">1.3.</span> <span class="nav-text">三、项目结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.4.</span> <span class="nav-text">四、核心代码实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%90%8E%E7%AB%AF%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 后端核心代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-%E5%90%AF%E5%8A%A8%E7%B1%BB"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">4.1.1 启动类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">4.1.2 任务实体类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-3-%E4%BB%BB%E5%8A%A1%E6%9C%8D%E5%8A%A1%E5%B1%82"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">4.1.3 任务服务层</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-4-%E4%BB%BB%E5%8A%A1%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">4.1.4 任务控制器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-5-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.4.1.5.</span> <span class="nav-text">4.1.5 数据导出服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-6-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E6%8F%90%E9%86%92"><span class="nav-number">1.4.1.6.</span> <span class="nav-text">4.1.6 定时任务提醒</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%89%8D%E7%AB%AF%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 前端核心代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-%E4%B8%BB%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">4.2.1 主应用组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">4.2.2 任务列表组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-3-Vuex%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">4.2.3 Vuex状态管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-4-API%E8%AF%B7%E6%B1%82%E5%B0%81%E8%A3%85"><span class="nav-number">1.4.2.4.</span> <span class="nav-text">4.2.4 API请求封装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-Docker%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 Docker部署配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-Docker-Compose%E9%85%8D%E7%BD%AE"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">4.3.1 Docker Compose配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-2-Nginx%E9%85%8D%E7%BD%AE"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">4.3.2 Nginx配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E9%83%A8%E7%BD%B2%E5%92%8C%E8%BF%90%E8%A1%8C%E6%8C%87%E5%8D%97"><span class="nav-number">1.5.</span> <span class="nav-text">五、部署和运行指南</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 环境要求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 快速启动步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2"><span class="nav-number">1.5.3.</span> <span class="nav-text">5.3 生产环境部署</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E6%8A%80%E8%83%BD%E7%82%B9%E6%80%BB%E7%BB%93"><span class="nav-number">1.6.</span> <span class="nav-text">六、技能点总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF%E6%8A%80%E8%83%BD-Java-Spring-Boot"><span class="nav-number">1.6.1.</span> <span class="nav-text">后端技能 (Java&#x2F;Spring Boot)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E6%8A%80%E8%83%BD-Vue-js-TypeScript"><span class="nav-number">1.6.2.</span> <span class="nav-text">前端技能 (Vue.js&#x2F;TypeScript)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%BB%B4%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%8A%80%E8%83%BD"><span class="nav-number">1.6.3.</span> <span class="nav-text">运维与部署技能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%8A%80%E8%83%BD"><span class="nav-number">1.6.4.</span> <span class="nav-text">架构设计技能</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BA%AF-HTML-CSS-JavaScript-%E5%AE%9E%E7%8E%B0%E7%9A%84-ToDoList-%E5%89%8D%E7%AB%AF"><span class="nav-number">2.</span> <span class="nav-text">纯 HTML&#x2F;CSS&#x2F;JavaScript 实现的 ToDoList 前端</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">2.1.</span> <span class="nav-text">目录结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E4%B8%BB%E9%A1%B5%E9%9D%A2-index-html"><span class="nav-number">2.2.</span> <span class="nav-text">1. 主页面 (index.html)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6-style-css"><span class="nav-number">2.3.</span> <span class="nav-text">2. 样式文件 (style.css)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E4%B8%BBJavaScript%E6%96%87%E4%BB%B6-script-js"><span class="nav-number">2.4.</span> <span class="nav-text">3. 主JavaScript文件 (script.js)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B-components-task-card-js"><span class="nav-number">2.5.</span> <span class="nav-text">4. 组件示例 (components&#x2F;task-card.js)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0-utils-storage-js"><span class="nav-number">2.6.</span> <span class="nav-text">5. 工具函数 (utils&#x2F;storage.js)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E-README-md"><span class="nav-number">2.7.</span> <span class="nav-text">6. 使用说明 (README.md)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E9%83%A8%E7%BD%B2%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="nav-number">2.8.</span> <span class="nav-text">7. 部署和使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E4%BD%BF%E7%94%A8"><span class="nav-number">2.8.1.</span> <span class="nav-text">本地使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E7%BA%BF%E9%83%A8%E7%BD%B2"><span class="nav-number">2.8.2.</span> <span class="nav-text">在线部署</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E7%89%B9%E7%82%B9%E6%80%BB%E7%BB%93"><span class="nav-number">2.9.</span> <span class="nav-text">项目特点总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%8E%B0%E4%BB%A3JavaScript%E6%8A%80%E8%83%BD"><span class="nav-number">2.9.1.</span> <span class="nav-text">1. 现代JavaScript技能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-CSS3%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7"><span class="nav-number">2.9.2.</span> <span class="nav-text">2. CSS3高级特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-HTML5%E8%AF%AD%E4%B9%89%E5%8C%96"><span class="nav-number">2.9.3.</span> <span class="nav-text">3. HTML5语义化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5"><span class="nav-number">2.9.4.</span> <span class="nav-text">4. 软件工程实践</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E8%AE%BE%E8%AE%A1"><span class="nav-number">2.9.5.</span> <span class="nav-text">5. 用户体验设计</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-Spring-Boot-%E5%90%8E%E7%AB%AF%E7%9A%84%E7%BA%AF-HTML-CSS-JavaScript-%E5%89%8D%E7%AB%AF"><span class="nav-number">3.</span> <span class="nav-text">基于 Spring Boot 后端的纯 HTML&#x2F;CSS&#x2F;JavaScript 前端</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E8%B0%83%E6%95%B4"><span class="nav-number">3.1.</span> <span class="nav-text">项目结构调整</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%89%8D%E7%AB%AF-HTML-index-html"><span class="nav-number">3.2.</span> <span class="nav-text">1. 前端 HTML (index.html)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-CSS-%E6%A0%B7%E5%BC%8F-style-css"><span class="nav-number">3.3.</span> <span class="nav-text">2. CSS 样式 (style.css)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-JavaScript-%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="nav-number">3.4.</span> <span class="nav-text">3. JavaScript 文件结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E8%AE%A4%E8%AF%81%E6%A8%A1%E5%9D%97-auth-js"><span class="nav-number">3.4.1.</span> <span class="nav-text">3.1 认证模块 (auth.js)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-API-%E6%A8%A1%E5%9D%97-api-js"><span class="nav-number">3.4.2.</span> <span class="nav-text">3.2 API 模块 (api.js)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-%E5%B7%A5%E5%85%B7%E6%A8%A1%E5%9D%97-utils-js"><span class="nav-number">3.4.3.</span> <span class="nav-text">3.3 工具模块 (utils.js)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E4%B8%BB%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9D%97-main-js"><span class="nav-number">3.4.4.</span> <span class="nav-text">3.4 主应用模块 (main.js)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%90%8E%E7%AB%AF%E8%B0%83%E6%95%B4-Spring-Boot-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE"><span class="nav-number">3.5.</span> <span class="nav-text">4. 后端调整 - Spring Boot 静态资源配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E6%9E%84%E5%BB%BA%E8%84%9A%E6%9C%AC-build-js"><span class="nav-number">3.6.</span> <span class="nav-text">5. 构建脚本 (build.js)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E9%83%A8%E7%BD%B2%E5%92%8C%E8%BF%90%E8%A1%8C"><span class="nav-number">3.7.</span> <span class="nav-text">6. 部署和运行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.7.1.</span> <span class="nav-text">方式一：开发模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E7%94%9F%E4%BA%A7%E6%9E%84%E5%BB%BA"><span class="nav-number">3.7.2.</span> <span class="nav-text">方式二：生产构建</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E9%A1%B9%E7%9B%AE%E7%89%B9%E7%82%B9"><span class="nav-number">3.8.</span> <span class="nav-text">7. 项目特点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9E%B6%E6%9E%84"><span class="nav-number">3.8.1.</span> <span class="nav-text">1. 前后端分离架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%A8%A1%E5%9D%97%E5%8C%96%E8%AE%BE%E8%AE%A1"><span class="nav-number">3.8.2.</span> <span class="nav-text">2. 模块化设计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%8E%B0%E4%BB%A3-JavaScript-%E7%89%B9%E6%80%A7"><span class="nav-number">3.8.3.</span> <span class="nav-text">3. 现代 JavaScript 特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1"><span class="nav-number">3.8.4.</span> <span class="nav-text">4. 响应式设计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%AE%8C%E6%95%B4%E7%9A%84-CRUD-%E5%8A%9F%E8%83%BD"><span class="nav-number">3.8.5.</span> <span class="nav-text">5. 完整的 CRUD 功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%BC%98%E5%8C%96"><span class="nav-number">3.8.6.</span> <span class="nav-text">6. 用户体验优化</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/">
          <span class="site-state-item-count">53</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="Back to top">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://timewait7.github.io/post/5dd55120.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Java代办清单设计与实现 | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java代办清单设计与实现
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-12-17 19:00:04" itemprop="dateCreated datePublished" datetime="2025-12-17T19:00:04+08:00">2025-12-17</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>22k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1:21</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="ToDoList-全栈项目-设计与实现"><a href="#ToDoList-全栈项目-设计与实现" class="headerlink" title="ToDoList 全栈项目 - 设计与实现"></a>ToDoList 全栈项目 - 设计与实现</h1><h2 id="一、架构设计"><a href="#一、架构设计" class="headerlink" title="一、架构设计"></a>一、架构设计</h2><h3 id="1-1-系统架构图"><a href="#1-1-系统架构图" class="headerlink" title="1.1 系统架构图"></a>1.1 系统架构图</h3><p>text</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">┌─────────────────────────────────────────────────────────────┐</span><br><span class="line">│                    客户端 (Web浏览器)                        │</span><br><span class="line">└───────────────────┬─────────────────────────────────────────┘</span><br><span class="line">                    │ HTTP/HTTPS</span><br><span class="line">┌───────────────────▼─────────────────────────────────────────┐</span><br><span class="line">│                    负载均衡器 (Nginx)                        │</span><br><span class="line">└───────────────────┬─────────────────────────────────────────┘</span><br><span class="line">                    │</span><br><span class="line">    ┌───────────────┼───────────────┐</span><br><span class="line">    │               │               │</span><br><span class="line">┌───▼──────┐   ┌───▼──────┐   ┌───▼──────┐</span><br><span class="line">│ Web服务器  │   │ Web服务器  │   │ Web服务器  │</span><br><span class="line">│ (Spring Boot)│   │ (Spring Boot)│   │ (Spring Boot)│</span><br><span class="line">└───┬──────┘   └───┬──────┘   └───┬──────┘</span><br><span class="line">    │               │               │</span><br><span class="line">    └───────────────┼───────────────┘</span><br><span class="line">                    │</span><br><span class="line">┌───────────────────▼─────────────────────────────────────────┐</span><br><span class="line">│                    业务逻辑层                               │</span><br><span class="line">│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐          │</span><br><span class="line">│  │用户模块  │ │任务模块  │ │分类模块  │ │评论模块  │          │</span><br><span class="line">│  └─────────┘ └─────────┘ └─────────┘ └─────────┘          │</span><br><span class="line">└───────────────────┬─────────────────────────────────────────┘</span><br><span class="line">                    │</span><br><span class="line">┌───────────────────▼─────────────────────────────────────────┐</span><br><span class="line">│                    数据访问层                               │</span><br><span class="line">│  ┌─────────┐ ┌─────────┐ ┌─────────┐                       │</span><br><span class="line">│  │ MySQL   │ │ Redis   │ │ Elastic │                       │</span><br><span class="line">│  │ (主数据) │ │ (缓存)   │ │ Search  │                       │</span><br><span class="line">│  │         │ │         │ │ (搜索)   │                       │</span><br><span class="line">│  └─────────┘ └─────────┘ └─────────┘                       │</span><br><span class="line">└─────────────────────────────────────────────────────────────┘</span><br></pre></td></tr></table></figure>



<h3 id="1-2-技术栈选择"><a href="#1-2-技术栈选择" class="headerlink" title="1.2 技术栈选择"></a>1.2 技术栈选择</h3><ul>
<li><strong>后端框架</strong>: Spring Boot 3.x + Spring Security + JWT</li>
<li><strong>前端框架</strong>: Vue 3 + Element Plus + TypeScript</li>
<li><strong>数据库</strong>: MySQL 8.0 + Redis 7.x</li>
<li><strong>搜索</strong>: Elasticsearch 8.x</li>
<li><strong>文件存储</strong>: MinIO &#x2F; AWS S3</li>
<li><strong>消息队列</strong>: RabbitMQ (异步导出)</li>
<li><strong>容器化</strong>: Docker + Docker Compose</li>
<li><strong>部署</strong>: Kubernetes (可选) 或 Docker 直接部署</li>
</ul>
<h2 id="二、详细设计文档"><a href="#二、详细设计文档" class="headerlink" title="二、详细设计文档"></a>二、详细设计文档</h2><h3 id="2-1-核心功能模块"><a href="#2-1-核心功能模块" class="headerlink" title="2.1 核心功能模块"></a>2.1 核心功能模块</h3><h4 id="2-1-1-用户管理模块"><a href="#2-1-1-用户管理模块" class="headerlink" title="2.1.1 用户管理模块"></a>2.1.1 用户管理模块</h4><ul>
<li>注册&#x2F;登录 (JWT认证)</li>
<li>个人资料管理</li>
<li>权限控制 (RBAC)</li>
</ul>
<h4 id="2-1-2-任务管理模块"><a href="#2-1-2-任务管理模块" class="headerlink" title="2.1.2 任务管理模块"></a>2.1.2 任务管理模块</h4><ul>
<li>增删改查基础任务</li>
<li>任务分类&#x2F;标签系统</li>
<li>优先级管理 (紧急&#x2F;重要四象限)</li>
<li>截止日期提醒</li>
<li>重复任务设置</li>
<li>任务依赖关系</li>
</ul>
<h4 id="2-1-3-高级功能模块"><a href="#2-1-3-高级功能模块" class="headerlink" title="2.1.3 高级功能模块"></a>2.1.3 高级功能模块</h4><ul>
<li>任务评论与讨论</li>
<li>Markdown笔记支持</li>
<li>文件附件上传</li>
<li>任务时间追踪</li>
<li>甘特图视图</li>
<li>日历视图</li>
<li>智能搜索 (全文检索)</li>
<li>数据导出 (Excel, PDF, JSON)</li>
<li>数据导入</li>
<li>任务模板</li>
<li>团队协作 (共享任务)</li>
<li>Webhook&#x2F;API集成</li>
<li>移动端适配</li>
</ul>
<h3 id="2-2-数据库设计"><a href="#2-2-数据库设计" class="headerlink" title="2.2 数据库设计"></a>2.2 数据库设计</h3><p>sql</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">-- 用户表</span><br><span class="line">CREATE TABLE users (</span><br><span class="line">    id BIGINT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">    username VARCHAR(50) UNIQUE NOT NULL,</span><br><span class="line">    email VARCHAR(100) UNIQUE NOT NULL,</span><br><span class="line">    password_hash VARCHAR(255) NOT NULL,</span><br><span class="line">    avatar_url VARCHAR(500),</span><br><span class="line">    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 任务表</span><br><span class="line">CREATE TABLE tasks (</span><br><span class="line">    id BIGINT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">    user_id BIGINT NOT NULL,</span><br><span class="line">    title VARCHAR(200) NOT NULL,</span><br><span class="line">    description TEXT,</span><br><span class="line">    status ENUM(&#x27;TODO&#x27;, &#x27;IN_PROGRESS&#x27;, &#x27;DONE&#x27;, &#x27;ARCHIVED&#x27;) DEFAULT &#x27;TODO&#x27;,</span><br><span class="line">    priority ENUM(&#x27;LOW&#x27;, &#x27;MEDIUM&#x27;, &#x27;HIGH&#x27;, &#x27;URGENT&#x27;) DEFAULT &#x27;MEDIUM&#x27;,</span><br><span class="line">    due_date DATETIME,</span><br><span class="line">    completed_at DATETIME,</span><br><span class="line">    estimated_minutes INT,</span><br><span class="line">    actual_minutes INT DEFAULT 0,</span><br><span class="line">    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,</span><br><span class="line">    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 分类表</span><br><span class="line">CREATE TABLE categories (</span><br><span class="line">    id BIGINT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">    user_id BIGINT NOT NULL,</span><br><span class="line">    name VARCHAR(100) NOT NULL,</span><br><span class="line">    color VARCHAR(7) DEFAULT &#x27;#1890ff&#x27;,</span><br><span class="line">    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">    UNIQUE KEY uk_user_category (user_id, name),</span><br><span class="line">    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 任务-分类关联表</span><br><span class="line">CREATE TABLE task_categories (</span><br><span class="line">    task_id BIGINT NOT NULL,</span><br><span class="line">    category_id BIGINT NOT NULL,</span><br><span class="line">    PRIMARY KEY (task_id, category_id),</span><br><span class="line">    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,</span><br><span class="line">    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 评论表</span><br><span class="line">CREATE TABLE comments (</span><br><span class="line">    id BIGINT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">    task_id BIGINT NOT NULL,</span><br><span class="line">    user_id BIGINT NOT NULL,</span><br><span class="line">    content TEXT NOT NULL,</span><br><span class="line">    parent_id BIGINT,</span><br><span class="line">    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,</span><br><span class="line">    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,</span><br><span class="line">    FOREIGN KEY (parent_id) REFERENCES comments(id) ON DELETE CASCADE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 附件表</span><br><span class="line">CREATE TABLE attachments (</span><br><span class="line">    id BIGINT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">    task_id BIGINT NOT NULL,</span><br><span class="line">    user_id BIGINT NOT NULL,</span><br><span class="line">    file_name VARCHAR(255) NOT NULL,</span><br><span class="line">    file_path VARCHAR(500) NOT NULL,</span><br><span class="line">    file_size BIGINT,</span><br><span class="line">    mime_type VARCHAR(100),</span><br><span class="line">    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,</span><br><span class="line">    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h2 id="三、项目结构"><a href="#三、项目结构" class="headerlink" title="三、项目结构"></a>三、项目结构</h2><p>text</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">todolist-project/</span><br><span class="line">├── backend/                            # Spring Boot 后端</span><br><span class="line">│   ├── src/main/java/com/todolist/</span><br><span class="line">│   │   ├── config/                     # 配置类</span><br><span class="line">│   │   │   ├── SecurityConfig.java     # Spring Security 配置</span><br><span class="line">│   │   │   ├── RedisConfig.java        # Redis 配置</span><br><span class="line">│   │   │   ├── ElasticsearchConfig.java # ES 配置</span><br><span class="line">│   │   │   └── WebConfig.java          # Web 相关配置</span><br><span class="line">│   │   ├── controller/                 # 控制器层</span><br><span class="line">│   │   │   ├── AuthController.java     # 认证相关</span><br><span class="line">│   │   │   ├── TaskController.java     # 任务管理</span><br><span class="line">│   │   │   ├── CommentController.java  # 评论管理</span><br><span class="line">│   │   │   └── ExportController.java   # 导出功能</span><br><span class="line">│   │   ├── service/                    # 服务层</span><br><span class="line">│   │   │   ├── impl/                   # 实现类</span><br><span class="line">│   │   │   ├── TaskService.java        # 任务业务逻辑</span><br><span class="line">│   │   │   ├── SearchService.java      # 搜索业务逻辑</span><br><span class="line">│   │   │   └── ExportService.java      # 导出业务逻辑</span><br><span class="line">│   │   ├── repository/                 # 数据访问层</span><br><span class="line">│   │   │   ├── TaskRepository.java     # 任务数据访问</span><br><span class="line">│   │   │   └── UserRepository.java     # 用户数据访问</span><br><span class="line">│   │   ├── model/                      # 实体类</span><br><span class="line">│   │   │   ├── entity/                 # 数据库实体</span><br><span class="line">│   │   │   ├── dto/                    # 数据传输对象</span><br><span class="line">│   │   │   └── vo/                     # 视图对象</span><br><span class="line">│   │   ├── security/                   # 安全相关</span><br><span class="line">│   │   │   ├── JwtTokenProvider.java   # JWT Token 生成与验证</span><br><span class="line">│   │   │   └── UserPrincipal.java      # 用户主体</span><br><span class="line">│   │   ├── util/                       # 工具类</span><br><span class="line">│   │   │   ├── ExcelExporter.java      # Excel 导出工具</span><br><span class="line">│   │   │   └── FileUploadUtil.java     # 文件上传工具</span><br><span class="line">│   │   └── TodoListApplication.java    # 启动类</span><br><span class="line">│   └── src/main/resources/</span><br><span class="line">│       ├── application.yml              # 主配置文件</span><br><span class="line">│       └── db/migration/                # 数据库迁移脚本</span><br><span class="line">│</span><br><span class="line">├── frontend/                           # Vue 3 前端</span><br><span class="line">│   ├── public/</span><br><span class="line">│   ├── src/</span><br><span class="line">│   │   ├── api/                        # API 请求封装</span><br><span class="line">│   │   ├── assets/                     # 静态资源</span><br><span class="line">│   │   ├── components/                 # 组件</span><br><span class="line">│   │   │   ├── common/                 # 通用组件</span><br><span class="line">│   │   │   ├── task/                   # 任务相关组件</span><br><span class="line">│   │   │   └── layout/                 # 布局组件</span><br><span class="line">│   │   ├── router/                     # 路由配置</span><br><span class="line">│   │   ├── store/                      # Vuex 状态管理</span><br><span class="line">│   │   ├── views/                      # 页面视图</span><br><span class="line">│   │   │   ├── Login.vue               # 登录页</span><br><span class="line">│   │   │   ├── Dashboard.vue           # 仪表板</span><br><span class="line">│   │   │   ├── TaskList.vue            # 任务列表</span><br><span class="line">│   │   │   └── TaskDetail.vue          # 任务详情</span><br><span class="line">│   │   └── main.ts                     # 入口文件</span><br><span class="line">│   └── package.json</span><br><span class="line">│</span><br><span class="line">├── docker/                             # Docker 配置</span><br><span class="line">│   ├── docker-compose.yml              # 服务编排</span><br><span class="line">│   ├── nginx/                          # Nginx 配置</span><br><span class="line">│   └── mysql/                          # MySQL 初始化脚本</span><br><span class="line">│</span><br><span class="line">├── docs/                               # 文档</span><br><span class="line">└── README.md                           # 项目说明</span><br></pre></td></tr></table></figure>



<h2 id="四、核心代码实现"><a href="#四、核心代码实现" class="headerlink" title="四、核心代码实现"></a>四、核心代码实现</h2><h3 id="4-1-后端核心代码"><a href="#4-1-后端核心代码" class="headerlink" title="4.1 后端核心代码"></a>4.1 后端核心代码</h3><h4 id="4-1-1-启动类"><a href="#4-1-1-启动类" class="headerlink" title="4.1.1 启动类"></a>4.1.1 启动类</h4><p>java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package com.todolist;</span><br><span class="line"></span><br><span class="line">import org.springframework.boot.SpringApplication;</span><br><span class="line">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line">import org.springframework.cache.annotation.EnableCaching;</span><br><span class="line">import org.springframework.scheduling.annotation.EnableAsync;</span><br><span class="line">import org.springframework.scheduling.annotation.EnableScheduling;</span><br><span class="line"></span><br><span class="line">@SpringBootApplication</span><br><span class="line">@EnableCaching  // 启用缓存</span><br><span class="line">@EnableAsync    // 启用异步处理</span><br><span class="line">@EnableScheduling  // 启用定时任务</span><br><span class="line">public class TodoListApplication &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        SpringApplication.run(TodoListApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-1-2-任务实体类"><a href="#4-1-2-任务实体类" class="headerlink" title="4.1.2 任务实体类"></a>4.1.2 任务实体类</h4><p>java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">package com.todolist.model.entity;</span><br><span class="line"></span><br><span class="line">import jakarta.persistence.*;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.experimental.Accessors;</span><br><span class="line">import org.hibernate.annotations.CreationTimestamp;</span><br><span class="line">import org.hibernate.annotations.UpdateTimestamp;</span><br><span class="line"></span><br><span class="line">import java.time.LocalDateTime;</span><br><span class="line">import java.util.HashSet;</span><br><span class="line">import java.util.Set;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 任务实体类</span><br><span class="line"> * 使用了JPA注解进行ORM映射</span><br><span class="line"> */</span><br><span class="line">@Entity</span><br><span class="line">@Table(name = &quot;tasks&quot;)</span><br><span class="line">@Data</span><br><span class="line">@Accessors(chain = true)</span><br><span class="line">public class Task &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue(strategy = GenerationType.IDENTITY)</span><br><span class="line">    private Long id;</span><br><span class="line">    </span><br><span class="line">    @Column(nullable = false)</span><br><span class="line">    private String title;</span><br><span class="line">    </span><br><span class="line">    @Column(columnDefinition = &quot;TEXT&quot;)</span><br><span class="line">    private String description;</span><br><span class="line">    </span><br><span class="line">    @Enumerated(EnumType.STRING)</span><br><span class="line">    private TaskStatus status = TaskStatus.TODO;</span><br><span class="line">    </span><br><span class="line">    @Enumerated(EnumType.STRING)</span><br><span class="line">    private Priority priority = Priority.MEDIUM;</span><br><span class="line">    </span><br><span class="line">    private LocalDateTime dueDate;</span><br><span class="line">    </span><br><span class="line">    private LocalDateTime completedAt;</span><br><span class="line">    </span><br><span class="line">    private Integer estimatedMinutes;</span><br><span class="line">    </span><br><span class="line">    private Integer actualMinutes = 0;</span><br><span class="line">    </span><br><span class="line">    @ManyToOne(fetch = FetchType.LAZY)</span><br><span class="line">    @JoinColumn(name = &quot;user_id&quot;, nullable = false)</span><br><span class="line">    private User user;</span><br><span class="line">    </span><br><span class="line">    @ManyToMany</span><br><span class="line">    @JoinTable(</span><br><span class="line">        name = &quot;task_categories&quot;,</span><br><span class="line">        joinColumns = @JoinColumn(name = &quot;task_id&quot;),</span><br><span class="line">        inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;)</span><br><span class="line">    )</span><br><span class="line">    private Set&lt;Category&gt; categories = new HashSet&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    @OneToMany(mappedBy = &quot;task&quot;, cascade = CascadeType.ALL, orphanRemoval = true)</span><br><span class="line">    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    @OneToMany(mappedBy = &quot;task&quot;, cascade = CascadeType.ALL, orphanRemoval = true)</span><br><span class="line">    private Set&lt;Attachment&gt; attachments = new HashSet&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    @CreationTimestamp</span><br><span class="line">    private LocalDateTime createdAt;</span><br><span class="line">    </span><br><span class="line">    @UpdateTimestamp</span><br><span class="line">    private LocalDateTime updatedAt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enum TaskStatus &#123;</span><br><span class="line">    TODO, IN_PROGRESS, DONE, ARCHIVED</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enum Priority &#123;</span><br><span class="line">    LOW, MEDIUM, HIGH, URGENT</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-1-3-任务服务层"><a href="#4-1-3-任务服务层" class="headerlink" title="4.1.3 任务服务层"></a>4.1.3 任务服务层</h4><p>java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">package com.todolist.service.impl;</span><br><span class="line"></span><br><span class="line">import com.todolist.model.dto.TaskDTO;</span><br><span class="line">import com.todolist.model.entity.Task;</span><br><span class="line">import com.todolist.repository.TaskRepository;</span><br><span class="line">import com.todolist.service.TaskService;</span><br><span class="line">import lombok.RequiredArgsConstructor;</span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">import org.springframework.cache.annotation.CacheEvict;</span><br><span class="line">import org.springframework.cache.annotation.Cacheable;</span><br><span class="line">import org.springframework.data.domain.Page;</span><br><span class="line">import org.springframework.data.domain.Pageable;</span><br><span class="line">import org.springframework.data.jpa.domain.Specification;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line">import org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line">import java.time.LocalDateTime;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 任务服务实现类</span><br><span class="line"> * 演示了：事务管理、缓存、日志、异常处理、复杂查询等技能</span><br><span class="line"> */</span><br><span class="line">@Service</span><br><span class="line">@RequiredArgsConstructor</span><br><span class="line">@Slf4j</span><br><span class="line">public class TaskServiceImpl implements TaskService &#123;</span><br><span class="line">    </span><br><span class="line">    private final TaskRepository taskRepository;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 创建任务 - 演示事务管理</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    @Transactional</span><br><span class="line">    @CacheEvict(value = &quot;tasks&quot;, key = &quot;#userId&quot;)</span><br><span class="line">    public Task createTask(TaskDTO taskDTO, Long userId) &#123;</span><br><span class="line">        log.info(&quot;创建任务，用户ID: &#123;&#125;, 任务标题: &#123;&#125;&quot;, userId, taskDTO.getTitle());</span><br><span class="line">        </span><br><span class="line">        Task task = new Task()</span><br><span class="line">            .setTitle(taskDTO.getTitle())</span><br><span class="line">            .setDescription(taskDTO.getDescription())</span><br><span class="line">            .setPriority(taskDTO.getPriority())</span><br><span class="line">            .setDueDate(taskDTO.getDueDate())</span><br><span class="line">            .setEstimatedMinutes(taskDTO.getEstimatedMinutes());</span><br><span class="line">        </span><br><span class="line">        // 这里应该设置用户关联</span><br><span class="line">        return taskRepository.save(task);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 获取用户任务列表 - 演示缓存和分页</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    @Cacheable(value = &quot;tasks&quot;, key = &quot;#userId + &#x27;_&#x27; + #pageable.pageNumber&quot;)</span><br><span class="line">    public Page&lt;Task&gt; getUserTasks(Long userId, Pageable pageable) &#123;</span><br><span class="line">        log.debug(&quot;获取用户任务列表，用户ID: &#123;&#125;&quot;, userId);</span><br><span class="line">        return taskRepository.findByUserId(userId, pageable);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 搜索任务 - 演示复杂查询和Specification</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public Page&lt;Task&gt; searchTasks(Long userId, String keyword, </span><br><span class="line">                                  String status, String priority,</span><br><span class="line">                                  LocalDateTime startDate, </span><br><span class="line">                                  LocalDateTime endDate,</span><br><span class="line">                                  Pageable pageable) &#123;</span><br><span class="line">        </span><br><span class="line">        Specification&lt;Task&gt; spec = Specification.where((root, query, cb) -&gt; </span><br><span class="line">            cb.equal(root.get(&quot;user&quot;).get(&quot;id&quot;), userId));</span><br><span class="line">        </span><br><span class="line">        if (keyword != null &amp;&amp; !keyword.trim().isEmpty()) &#123;</span><br><span class="line">            spec = spec.and((root, query, cb) -&gt; </span><br><span class="line">                cb.or(</span><br><span class="line">                    cb.like(root.get(&quot;title&quot;), &quot;%&quot; + keyword + &quot;%&quot;),</span><br><span class="line">                    cb.like(root.get(&quot;description&quot;), &quot;%&quot; + keyword + &quot;%&quot;)</span><br><span class="line">                ));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if (status != null) &#123;</span><br><span class="line">            spec = spec.and((root, query, cb) -&gt; </span><br><span class="line">                cb.equal(root.get(&quot;status&quot;), status));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if (priority != null) &#123;</span><br><span class="line">            spec = spec.and((root, query, cb) -&gt; </span><br><span class="line">                cb.equal(root.get(&quot;priority&quot;), priority));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if (startDate != null) &#123;</span><br><span class="line">            spec = spec.and((root, query, cb) -&gt; </span><br><span class="line">                cb.greaterThanOrEqualTo(root.get(&quot;dueDate&quot;), startDate));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if (endDate != null) &#123;</span><br><span class="line">            spec = spec.and((root, query, cb) -&gt; </span><br><span class="line">                cb.lessThanOrEqualTo(root.get(&quot;dueDate&quot;), endDate));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return taskRepository.findAll(spec, pageable);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 更新任务状态 - 演示乐观锁和业务逻辑</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    @Transactional</span><br><span class="line">    @CacheEvict(value = &quot;tasks&quot;, allEntries = true)</span><br><span class="line">    public Task updateTaskStatus(Long taskId, String status, Long userId) &#123;</span><br><span class="line">        Task task = taskRepository.findByIdAndUserId(taskId, userId)</span><br><span class="line">            .orElseThrow(() -&gt; new RuntimeException(&quot;任务不存在或无权访问&quot;));</span><br><span class="line">        </span><br><span class="line">        task.setStatus(TaskStatus.valueOf(status));</span><br><span class="line">        </span><br><span class="line">        if (TaskStatus.DONE.toString().equals(status)) &#123;</span><br><span class="line">            task.setCompletedAt(LocalDateTime.now());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return taskRepository.save(task);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 获取即将到期的任务 - 演示定时任务调用的方法</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;Task&gt; getUpcomingTasks(LocalDateTime now, int hours) &#123;</span><br><span class="line">        LocalDateTime deadline = now.plusHours(hours);</span><br><span class="line">        return taskRepository.findUpcomingTasks(now, deadline);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-1-4-任务控制器"><a href="#4-1-4-任务控制器" class="headerlink" title="4.1.4 任务控制器"></a>4.1.4 任务控制器</h4><p>java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">package com.todolist.controller;</span><br><span class="line"></span><br><span class="line">import com.todolist.model.dto.TaskDTO;</span><br><span class="line">import com.todolist.model.entity.Task;</span><br><span class="line">import com.todolist.service.TaskService;</span><br><span class="line">import io.swagger.v3.oas.annotations.Operation;</span><br><span class="line">import io.swagger.v3.oas.annotations.tags.Tag;</span><br><span class="line">import jakarta.validation.Valid;</span><br><span class="line">import lombok.RequiredArgsConstructor;</span><br><span class="line">import org.springframework.data.domain.Page;</span><br><span class="line">import org.springframework.data.domain.Pageable;</span><br><span class="line">import org.springframework.data.web.PageableDefault;</span><br><span class="line">import org.springframework.format.annotation.DateTimeFormat;</span><br><span class="line">import org.springframework.http.ResponseEntity;</span><br><span class="line">import org.springframework.security.access.prepost.PreAuthorize;</span><br><span class="line">import org.springframework.security.core.annotation.AuthenticationPrincipal;</span><br><span class="line">import org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line">import java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 任务控制器</span><br><span class="line"> * 演示了：RESTful API设计、参数校验、权限控制、Swagger文档、统一响应格式</span><br><span class="line"> */</span><br><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;/api/tasks&quot;)</span><br><span class="line">@RequiredArgsConstructor</span><br><span class="line">@Tag(name = &quot;任务管理&quot;, description = &quot;任务相关的CRUD操作&quot;)</span><br><span class="line">public class TaskController &#123;</span><br><span class="line">    </span><br><span class="line">    private final TaskService taskService;</span><br><span class="line">    </span><br><span class="line">    @PostMapping</span><br><span class="line">    @Operation(summary = &quot;创建任务&quot;)</span><br><span class="line">    @PreAuthorize(&quot;isAuthenticated()&quot;)</span><br><span class="line">    public ResponseEntity&lt;Task&gt; createTask(</span><br><span class="line">            @Valid @RequestBody TaskDTO taskDTO,</span><br><span class="line">            @AuthenticationPrincipal Long userId) &#123;</span><br><span class="line">        Task task = taskService.createTask(taskDTO, userId);</span><br><span class="line">        return ResponseEntity.ok(task);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @GetMapping</span><br><span class="line">    @Operation(summary = &quot;获取任务列表&quot;)</span><br><span class="line">    @PreAuthorize(&quot;isAuthenticated()&quot;)</span><br><span class="line">    public ResponseEntity&lt;Page&lt;Task&gt;&gt; getTasks(</span><br><span class="line">            @AuthenticationPrincipal Long userId,</span><br><span class="line">            @PageableDefault(size = 20) Pageable pageable) &#123;</span><br><span class="line">        Page&lt;Task&gt; tasks = taskService.getUserTasks(userId, pageable);</span><br><span class="line">        return ResponseEntity.ok(tasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @GetMapping(&quot;/search&quot;)</span><br><span class="line">    @Operation(summary = &quot;搜索任务&quot;)</span><br><span class="line">    @PreAuthorize(&quot;isAuthenticated()&quot;)</span><br><span class="line">    public ResponseEntity&lt;Page&lt;Task&gt;&gt; searchTasks(</span><br><span class="line">            @AuthenticationPrincipal Long userId,</span><br><span class="line">            @RequestParam(required = false) String keyword,</span><br><span class="line">            @RequestParam(required = false) String status,</span><br><span class="line">            @RequestParam(required = false) String priority,</span><br><span class="line">            @RequestParam(required = false) </span><br><span class="line">            @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) </span><br><span class="line">            LocalDateTime startDate,</span><br><span class="line">            @RequestParam(required = false)</span><br><span class="line">            @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)</span><br><span class="line">            LocalDateTime endDate,</span><br><span class="line">            @PageableDefault(size = 20) Pageable pageable) &#123;</span><br><span class="line">        </span><br><span class="line">        Page&lt;Task&gt; tasks = taskService.searchTasks(</span><br><span class="line">            userId, keyword, status, priority, startDate, endDate, pageable);</span><br><span class="line">        return ResponseEntity.ok(tasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @PutMapping(&quot;/&#123;id&#125;/status&quot;)</span><br><span class="line">    @Operation(summary = &quot;更新任务状态&quot;)</span><br><span class="line">    @PreAuthorize(&quot;isAuthenticated()&quot;)</span><br><span class="line">    public ResponseEntity&lt;Task&gt; updateStatus(</span><br><span class="line">            @PathVariable Long id,</span><br><span class="line">            @RequestParam String status,</span><br><span class="line">            @AuthenticationPrincipal Long userId) &#123;</span><br><span class="line">        Task task = taskService.updateTaskStatus(id, status, userId);</span><br><span class="line">        return ResponseEntity.ok(task);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @GetMapping(&quot;/upcoming&quot;)</span><br><span class="line">    @Operation(summary = &quot;获取即将到期的任务&quot;)</span><br><span class="line">    @PreAuthorize(&quot;isAuthenticated()&quot;)</span><br><span class="line">    public ResponseEntity&lt;List&lt;Task&gt;&gt; getUpcomingTasks(</span><br><span class="line">            @AuthenticationPrincipal Long userId,</span><br><span class="line">            @RequestParam(defaultValue = &quot;24&quot;) int hours) &#123;</span><br><span class="line">        List&lt;Task&gt; tasks = taskService.getUpcomingTasks(LocalDateTime.now(), hours);</span><br><span class="line">        return ResponseEntity.ok(tasks);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-1-5-数据导出服务"><a href="#4-1-5-数据导出服务" class="headerlink" title="4.1.5 数据导出服务"></a>4.1.5 数据导出服务</h4><p>java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">package com.todolist.service.impl;</span><br><span class="line"></span><br><span class="line">import com.todolist.model.entity.Task;</span><br><span class="line">import com.todolist.service.ExportService;</span><br><span class="line">import lombok.RequiredArgsConstructor;</span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">import org.apache.poi.ss.usermodel.*;</span><br><span class="line">import org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line">import java.io.ByteArrayOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.time.format.DateTimeFormatter;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 导出服务实现</span><br><span class="line"> * 演示了：Excel导出、文件操作、流处理</span><br><span class="line"> */</span><br><span class="line">@Service</span><br><span class="line">@RequiredArgsConstructor</span><br><span class="line">@Slf4j</span><br><span class="line">public class ExportServiceImpl implements ExportService &#123;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 导出任务为Excel</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public byte[] exportTasksToExcel(List&lt;Task&gt; tasks) throws IOException &#123;</span><br><span class="line">        try (Workbook workbook = new XSSFWorkbook();</span><br><span class="line">             ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) &#123;</span><br><span class="line">            </span><br><span class="line">            Sheet sheet = workbook.createSheet(&quot;Tasks&quot;);</span><br><span class="line">            </span><br><span class="line">            // 创建表头</span><br><span class="line">            Row headerRow = sheet.createRow(0);</span><br><span class="line">            String[] headers = &#123;&quot;ID&quot;, &quot;标题&quot;, &quot;描述&quot;, &quot;状态&quot;, &quot;优先级&quot;, &quot;截止时间&quot;, &quot;创建时间&quot;&#125;;</span><br><span class="line">            for (int i = 0; i &lt; headers.length; i++) &#123;</span><br><span class="line">                Cell cell = headerRow.createCell(i);</span><br><span class="line">                cell.setCellValue(headers[i]);</span><br><span class="line">                </span><br><span class="line">                // 设置样式</span><br><span class="line">                CellStyle headerStyle = workbook.createCellStyle();</span><br><span class="line">                Font headerFont = workbook.createFont();</span><br><span class="line">                headerFont.setBold(true);</span><br><span class="line">                headerStyle.setFont(headerFont);</span><br><span class="line">                headerStyle.setFillForegroundColor(IndexedColors.GREY_25_PERCENT.getIndex());</span><br><span class="line">                headerStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);</span><br><span class="line">                cell.setCellStyle(headerStyle);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 填充数据</span><br><span class="line">            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);</span><br><span class="line">            int rowNum = 1;</span><br><span class="line">            for (Task task : tasks) &#123;</span><br><span class="line">                Row row = sheet.createRow(rowNum++);</span><br><span class="line">                </span><br><span class="line">                row.createCell(0).setCellValue(task.getId());</span><br><span class="line">                row.createCell(1).setCellValue(task.getTitle());</span><br><span class="line">                row.createCell(2).setCellValue(task.getDescription());</span><br><span class="line">                row.createCell(3).setCellValue(task.getStatus().toString());</span><br><span class="line">                row.createCell(4).setCellValue(task.getPriority().toString());</span><br><span class="line">                </span><br><span class="line">                if (task.getDueDate() != null) &#123;</span><br><span class="line">                    row.createCell(5).setCellValue(task.getDueDate().format(formatter));</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                row.createCell(6).setCellValue(task.getCreatedAt().format(formatter));</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 自动调整列宽</span><br><span class="line">            for (int i = 0; i &lt; headers.length; i++) &#123;</span><br><span class="line">                sheet.autoSizeColumn(i);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            workbook.write(outputStream);</span><br><span class="line">            return outputStream.toByteArray();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 导出任务为PDF</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public byte[] exportTasksToPdf(List&lt;Task&gt; tasks) &#123;</span><br><span class="line">        // 使用PDF库如iText或Apache PDFBox实现</span><br><span class="line">        // 这里省略具体实现</span><br><span class="line">        return new byte[0];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 导出任务为JSON</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public String exportTasksToJson(List&lt;Task&gt; tasks) &#123;</span><br><span class="line">        // 使用Jackson或Gson实现</span><br><span class="line">        // 这里省略具体实现</span><br><span class="line">        return &quot;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-1-6-定时任务提醒"><a href="#4-1-6-定时任务提醒" class="headerlink" title="4.1.6 定时任务提醒"></a>4.1.6 定时任务提醒</h4><p>java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">package com.todolist.scheduler;</span><br><span class="line"></span><br><span class="line">import com.todolist.model.entity.Task;</span><br><span class="line">import com.todolist.service.NotificationService;</span><br><span class="line">import com.todolist.service.TaskService;</span><br><span class="line">import lombok.RequiredArgsConstructor;</span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">import org.springframework.scheduling.annotation.Scheduled;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">import java.time.LocalDateTime;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 定时任务调度器</span><br><span class="line"> * 演示了：Spring定时任务、任务调度</span><br><span class="line"> */</span><br><span class="line">@Component</span><br><span class="line">@RequiredArgsConstructor</span><br><span class="line">@Slf4j</span><br><span class="line">public class TaskReminderScheduler &#123;</span><br><span class="line">    </span><br><span class="line">    private final TaskService taskService;</span><br><span class="line">    private final NotificationService notificationService;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 每小时检查一次即将到期的任务</span><br><span class="line">     */</span><br><span class="line">    @Scheduled(cron = &quot;0 0 * * * *&quot;)  // 每小时执行一次</span><br><span class="line">    public void checkDueTasks() &#123;</span><br><span class="line">        log.info(&quot;开始检查即将到期的任务&quot;);</span><br><span class="line">        </span><br><span class="line">        LocalDateTime now = LocalDateTime.now();</span><br><span class="line">        List&lt;Task&gt; upcomingTasks = taskService.getUpcomingTasks(now, 24);</span><br><span class="line">        </span><br><span class="line">        for (Task task : upcomingTasks) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                notificationService.sendDueReminder(task);</span><br><span class="line">                log.info(&quot;已发送任务到期提醒: &#123;&#125;&quot;, task.getTitle());</span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">                log.error(&quot;发送提醒失败: &#123;&#125;&quot;, task.getTitle(), e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        log.info(&quot;任务到期检查完成，共检查 &#123;&#125; 个任务&quot;, upcomingTasks.size());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 每天清理已归档的旧任务</span><br><span class="line">     */</span><br><span class="line">    @Scheduled(cron = &quot;0 0 2 * * *&quot;)  // 每天凌晨2点执行</span><br><span class="line">    public void cleanupArchivedTasks() &#123;</span><br><span class="line">        log.info(&quot;开始清理已归档的任务&quot;);</span><br><span class="line">        // 清理逻辑</span><br><span class="line">        log.info(&quot;任务清理完成&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-2-前端核心代码"><a href="#4-2-前端核心代码" class="headerlink" title="4.2 前端核心代码"></a>4.2 前端核心代码</h3><h4 id="4-2-1-主应用组件"><a href="#4-2-1-主应用组件" class="headerlink" title="4.2.1 主应用组件"></a>4.2.1 主应用组件</h4><p>vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;el-config-provider :locale=&quot;locale&quot;&gt;</span><br><span class="line">      &lt;router-view /&gt;</span><br><span class="line">    &lt;/el-config-provider&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ElConfigProvider &#125; from &#x27;element-plus&#x27;</span><br><span class="line">import zhCn from &#x27;element-plus/dist/locale/zh-cn.mjs&#x27;</span><br><span class="line">import &#123; RouterView &#125; from &#x27;vue-router&#x27;</span><br><span class="line"></span><br><span class="line">const locale = zhCn</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  min-height: 100vh;</span><br><span class="line">  background-color: #f5f7fa;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 全局样式 */</span><br><span class="line">.task-card &#123;</span><br><span class="line">  transition: all 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-card:hover &#123;</span><br><span class="line">  transform: translateY(-2px);</span><br><span class="line">  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 响应式设计 */</span><br><span class="line">@media (max-width: 768px) &#123;</span><br><span class="line">  .container &#123;</span><br><span class="line">    padding: 0 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="4-2-2-任务列表组件"><a href="#4-2-2-任务列表组件" class="headerlink" title="4.2.2 任务列表组件"></a>4.2.2 任务列表组件</h4><p>vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;task-list-container&quot;&gt;</span><br><span class="line">    &lt;!-- 搜索和过滤区域 --&gt;</span><br><span class="line">    &lt;div class=&quot;filter-section&quot;&gt;</span><br><span class="line">      &lt;el-row :gutter=&quot;20&quot;&gt;</span><br><span class="line">        &lt;el-col :span=&quot;8&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            v-model=&quot;searchKeyword&quot;</span><br><span class="line">            placeholder=&quot;搜索任务...&quot;</span><br><span class="line">            clearable</span><br><span class="line">            @input=&quot;handleSearch&quot;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;template #prefix&gt;</span><br><span class="line">              &lt;el-icon&gt;&lt;Search /&gt;&lt;/el-icon&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/el-input&gt;</span><br><span class="line">        &lt;/el-col&gt;</span><br><span class="line">        &lt;el-col :span=&quot;4&quot;&gt;</span><br><span class="line">          &lt;el-select</span><br><span class="line">            v-model=&quot;filterStatus&quot;</span><br><span class="line">            placeholder=&quot;状态&quot;</span><br><span class="line">            clearable</span><br><span class="line">            @change=&quot;handleFilterChange&quot;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;el-option label=&quot;待办&quot; value=&quot;TODO&quot; /&gt;</span><br><span class="line">            &lt;el-option label=&quot;进行中&quot; value=&quot;IN_PROGRESS&quot; /&gt;</span><br><span class="line">            &lt;el-option label=&quot;已完成&quot; value=&quot;DONE&quot; /&gt;</span><br><span class="line">          &lt;/el-select&gt;</span><br><span class="line">        &lt;/el-col&gt;</span><br><span class="line">        &lt;el-col :span=&quot;4&quot;&gt;</span><br><span class="line">          &lt;el-select</span><br><span class="line">            v-model=&quot;filterPriority&quot;</span><br><span class="line">            placeholder=&quot;优先级&quot;</span><br><span class="line">            clearable</span><br><span class="line">            @change=&quot;handleFilterChange&quot;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;el-option label=&quot;低&quot; value=&quot;LOW&quot; /&gt;</span><br><span class="line">            &lt;el-option label=&quot;中&quot; value=&quot;MEDIUM&quot; /&gt;</span><br><span class="line">            &lt;el-option label=&quot;高&quot; value=&quot;HIGH&quot; /&gt;</span><br><span class="line">            &lt;el-option label=&quot;紧急&quot; value=&quot;URGENT&quot; /&gt;</span><br><span class="line">          &lt;/el-select&gt;</span><br><span class="line">        &lt;/el-col&gt;</span><br><span class="line">        &lt;el-col :span=&quot;8&quot; class=&quot;action-buttons&quot;&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot; @click=&quot;handleCreate&quot;&gt;</span><br><span class="line">            &lt;el-icon&gt;&lt;Plus /&gt;&lt;/el-icon&gt;新建任务</span><br><span class="line">          &lt;/el-button&gt;</span><br><span class="line">          &lt;el-button @click=&quot;handleExport&quot;&gt;</span><br><span class="line">            &lt;el-icon&gt;&lt;Download /&gt;&lt;/el-icon&gt;导出</span><br><span class="line">          &lt;/el-button&gt;</span><br><span class="line">        &lt;/el-col&gt;</span><br><span class="line">      &lt;/el-row&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 任务列表 --&gt;</span><br><span class="line">    &lt;div class=&quot;task-list&quot;&gt;</span><br><span class="line">      &lt;el-row :gutter=&quot;20&quot;&gt;</span><br><span class="line">        &lt;el-col</span><br><span class="line">          v-for=&quot;task in paginatedTasks&quot;</span><br><span class="line">          :key=&quot;task.id&quot;</span><br><span class="line">          :xs=&quot;24&quot;</span><br><span class="line">          :sm=&quot;12&quot;</span><br><span class="line">          :md=&quot;8&quot;</span><br><span class="line">          :lg=&quot;6&quot;</span><br><span class="line">          :xl=&quot;4&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;task-card</span><br><span class="line">            :task=&quot;task&quot;</span><br><span class="line">            @edit=&quot;handleEdit&quot;</span><br><span class="line">            @delete=&quot;handleDelete&quot;</span><br><span class="line">            @status-change=&quot;handleStatusChange&quot;</span><br><span class="line">          /&gt;</span><br><span class="line">        &lt;/el-col&gt;</span><br><span class="line">      &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- 空状态 --&gt;</span><br><span class="line">      &lt;el-empty</span><br><span class="line">        v-if=&quot;tasks.length === 0&quot;</span><br><span class="line">        description=&quot;暂无任务&quot;</span><br><span class="line">        :image-size=&quot;200&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleCreate&quot;&gt;</span><br><span class="line">          创建第一个任务</span><br><span class="line">        &lt;/el-button&gt;</span><br><span class="line">      &lt;/el-empty&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 分页 --&gt;</span><br><span class="line">    &lt;div v-if=&quot;tasks.length &gt; 0&quot; class=&quot;pagination&quot;&gt;</span><br><span class="line">      &lt;el-pagination</span><br><span class="line">        v-model:current-page=&quot;currentPage&quot;</span><br><span class="line">        v-model:page-size=&quot;pageSize&quot;</span><br><span class="line">        :page-sizes=&quot;[12, 24, 48, 96]&quot;</span><br><span class="line">        :total=&quot;filteredTasks.length&quot;</span><br><span class="line">        layout=&quot;total, sizes, prev, pager, next, jumper&quot;</span><br><span class="line">        @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">        @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 创建/编辑对话框 --&gt;</span><br><span class="line">    &lt;task-dialog</span><br><span class="line">      v-model=&quot;dialogVisible&quot;</span><br><span class="line">      :task=&quot;currentTask&quot;</span><br><span class="line">      :mode=&quot;dialogMode&quot;</span><br><span class="line">      @success=&quot;handleDialogSuccess&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref, computed, onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123; ElMessage, ElMessageBox &#125; from &#x27;element-plus&#x27;</span><br><span class="line">import &#123; Search, Plus, Download &#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">import TaskCard from &#x27;./TaskCard.vue&#x27;</span><br><span class="line">import TaskDialog from &#x27;./TaskDialog.vue&#x27;</span><br><span class="line">import &#123; useTaskStore &#125; from &#x27;@/stores/task&#x27;</span><br><span class="line">import type &#123; Task &#125; from &#x27;@/types/task&#x27;</span><br><span class="line"></span><br><span class="line">// 状态管理</span><br><span class="line">const taskStore = useTaskStore()</span><br><span class="line">const tasks = computed(() =&gt; taskStore.tasks)</span><br><span class="line"></span><br><span class="line">// 搜索和过滤</span><br><span class="line">const searchKeyword = ref(&#x27;&#x27;)</span><br><span class="line">const filterStatus = ref(&#x27;&#x27;)</span><br><span class="line">const filterPriority = ref(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">// 分页</span><br><span class="line">const currentPage = ref(1)</span><br><span class="line">const pageSize = ref(12)</span><br><span class="line"></span><br><span class="line">// 对话框</span><br><span class="line">const dialogVisible = ref(false)</span><br><span class="line">const dialogMode = ref&lt;&#x27;create&#x27; | &#x27;edit&#x27;&gt;(&#x27;create&#x27;)</span><br><span class="line">const currentTask = ref&lt;Task | null&gt;(null)</span><br><span class="line"></span><br><span class="line">// 计算过滤后的任务</span><br><span class="line">const filteredTasks = computed(() =&gt; &#123;</span><br><span class="line">  return tasks.value.filter(task =&gt; &#123;</span><br><span class="line">    const matchesKeyword = !searchKeyword.value ||</span><br><span class="line">      task.title.includes(searchKeyword.value) ||</span><br><span class="line">      (task.description &amp;&amp; task.description.includes(searchKeyword.value))</span><br><span class="line">    </span><br><span class="line">    const matchesStatus = !filterStatus.value || task.status === filterStatus.value</span><br><span class="line">    const matchesPriority = !filterPriority.value || task.priority === filterPriority.value</span><br><span class="line">    </span><br><span class="line">    return matchesKeyword &amp;&amp; matchesStatus &amp;&amp; matchesPriority</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 计算分页后的任务</span><br><span class="line">const paginatedTasks = computed(() =&gt; &#123;</span><br><span class="line">  const start = (currentPage.value - 1) * pageSize.value</span><br><span class="line">  const end = start + pageSize.value</span><br><span class="line">  return filteredTasks.value.slice(start, end)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 事件处理</span><br><span class="line">const handleSearch = () =&gt; &#123;</span><br><span class="line">  currentPage.value = 1</span><br><span class="line">  loadTasks()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleFilterChange = () =&gt; &#123;</span><br><span class="line">  currentPage.value = 1</span><br><span class="line">  loadTasks()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleCreate = () =&gt; &#123;</span><br><span class="line">  currentTask.value = null</span><br><span class="line">  dialogMode.value = &#x27;create&#x27;</span><br><span class="line">  dialogVisible.value = true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleEdit = (task: Task) =&gt; &#123;</span><br><span class="line">  currentTask.value = &#123; ...task &#125;</span><br><span class="line">  dialogMode.value = &#x27;edit&#x27;</span><br><span class="line">  dialogVisible.value = true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleDelete = async (task: Task) =&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    await ElMessageBox.confirm(</span><br><span class="line">      `确定要删除任务&quot;$&#123;task.title&#125;&quot;吗？`,</span><br><span class="line">      &#x27;确认删除&#x27;,</span><br><span class="line">      &#123;</span><br><span class="line">        type: &#x27;warning&#x27;,</span><br><span class="line">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class="line">        cancelButtonText: &#x27;取消&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    await taskStore.deleteTask(task.id!)</span><br><span class="line">    ElMessage.success(&#x27;删除成功&#x27;)</span><br><span class="line">  &#125; catch &#123;</span><br><span class="line">    // 用户取消删除</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleStatusChange = async (taskId: number, status: string) =&gt; &#123;</span><br><span class="line">  await taskStore.updateTaskStatus(taskId, status)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleExport = async () =&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    await taskStore.exportTasks()</span><br><span class="line">    ElMessage.success(&#x27;导出成功&#x27;)</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    ElMessage.error(&#x27;导出失败&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleDialogSuccess = () =&gt; &#123;</span><br><span class="line">  dialogVisible.value = false</span><br><span class="line">  loadTasks()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleSizeChange = (size: number) =&gt; &#123;</span><br><span class="line">  pageSize.value = size</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleCurrentChange = (page: number) =&gt; &#123;</span><br><span class="line">  currentPage.value = page</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 加载任务</span><br><span class="line">const loadTasks = async () =&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    await taskStore.fetchTasks(&#123;</span><br><span class="line">      keyword: searchKeyword.value,</span><br><span class="line">      status: filterStatus.value,</span><br><span class="line">      priority: filterPriority.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    ElMessage.error(&#x27;加载任务失败&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 生命周期</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  loadTasks()</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.task-list-container &#123;</span><br><span class="line">  padding: 20px;</span><br><span class="line">  max-width: 1400px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-section &#123;</span><br><span class="line">  margin-bottom: 20px;</span><br><span class="line">  padding: 20px;</span><br><span class="line">  background: white;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.action-buttons &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: flex-end;</span><br><span class="line">  gap: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-list &#123;</span><br><span class="line">  margin-bottom: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pagination &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  padding: 20px;</span><br><span class="line">  background: white;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media (max-width: 768px) &#123;</span><br><span class="line">  .filter-section &#123;</span><br><span class="line">    padding: 15px;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .action-buttons &#123;</span><br><span class="line">    justify-content: flex-start;</span><br><span class="line">    margin-top: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="4-2-3-Vuex状态管理"><a href="#4-2-3-Vuex状态管理" class="headerlink" title="4.2.3 Vuex状态管理"></a>4.2.3 Vuex状态管理</h4><p>typescript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">// stores/task.ts</span><br><span class="line">import &#123; defineStore &#125; from &#x27;pinia&#x27;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import taskApi from &#x27;@/api/task&#x27;</span><br><span class="line">import type &#123; Task, TaskQuery, ExportFormat &#125; from &#x27;@/types/task&#x27;</span><br><span class="line"></span><br><span class="line">export const useTaskStore = defineStore(&#x27;task&#x27;, () =&gt; &#123;</span><br><span class="line">  // 状态</span><br><span class="line">  const tasks = ref&lt;Task[]&gt;([])</span><br><span class="line">  const loading = ref(false)</span><br><span class="line">  const error = ref&lt;string | null&gt;(null)</span><br><span class="line">  </span><br><span class="line">  // Action：获取任务列表</span><br><span class="line">  const fetchTasks = async (query: TaskQuery = &#123;&#125;) =&gt; &#123;</span><br><span class="line">    loading.value = true</span><br><span class="line">    error.value = null</span><br><span class="line">    </span><br><span class="line">    try &#123;</span><br><span class="line">      const response = await taskApi.getTasks(query)</span><br><span class="line">      tasks.value = response.data.content || response.data</span><br><span class="line">    &#125; catch (err: any) &#123;</span><br><span class="line">      error.value = err.message || &#x27;获取任务失败&#x27;</span><br><span class="line">      throw err</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">      loading.value = false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  // Action：创建任务</span><br><span class="line">  const createTask = async (taskData: Partial&lt;Task&gt;) =&gt; &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      const response = await taskApi.createTask(taskData)</span><br><span class="line">      tasks.value.unshift(response.data)</span><br><span class="line">      return response.data</span><br><span class="line">    &#125; catch (err: any) &#123;</span><br><span class="line">      error.value = err.message || &#x27;创建任务失败&#x27;</span><br><span class="line">      throw err</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  // Action：更新任务</span><br><span class="line">  const updateTask = async (taskId: number, taskData: Partial&lt;Task&gt;) =&gt; &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      const response = await taskApi.updateTask(taskId, taskData)</span><br><span class="line">      const index = tasks.value.findIndex(t =&gt; t.id === taskId)</span><br><span class="line">      if (index !== -1) &#123;</span><br><span class="line">        tasks.value[index] = &#123; ...tasks.value[index], ...response.data &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return response.data</span><br><span class="line">    &#125; catch (err: any) &#123;</span><br><span class="line">      error.value = err.message || &#x27;更新任务失败&#x27;</span><br><span class="line">      throw err</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  // Action：删除任务</span><br><span class="line">  const deleteTask = async (taskId: number) =&gt; &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      await taskApi.deleteTask(taskId)</span><br><span class="line">      tasks.value = tasks.value.filter(t =&gt; t.id !== taskId)</span><br><span class="line">    &#125; catch (err: any) &#123;</span><br><span class="line">      error.value = err.message || &#x27;删除任务失败&#x27;</span><br><span class="line">      throw err</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  // Action：导出任务</span><br><span class="line">  const exportTasks = async (format: ExportFormat = &#x27;excel&#x27;) =&gt; &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      const response = await taskApi.exportTasks(format)</span><br><span class="line">      </span><br><span class="line">      // 创建下载链接</span><br><span class="line">      const blob = new Blob([response.data], &#123;</span><br><span class="line">        type: format === &#x27;excel&#x27; </span><br><span class="line">          ? &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;</span><br><span class="line">          : format === &#x27;pdf&#x27;</span><br><span class="line">          ? &#x27;application/pdf&#x27;</span><br><span class="line">          : &#x27;application/json&#x27;</span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line">      const url = window.URL.createObjectURL(blob)</span><br><span class="line">      const link = document.createElement(&#x27;a&#x27;)</span><br><span class="line">      link.href = url</span><br><span class="line">      link.download = `tasks_$&#123;new Date().getTime()&#125;.$&#123;format&#125;`</span><br><span class="line">      document.body.appendChild(link)</span><br><span class="line">      link.click()</span><br><span class="line">      document.body.removeChild(link)</span><br><span class="line">      window.URL.revokeObjectURL(url)</span><br><span class="line">    &#125; catch (err: any) &#123;</span><br><span class="line">      error.value = err.message || &#x27;导出任务失败&#x27;</span><br><span class="line">      throw err</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  // Getters</span><br><span class="line">  const todoTasks = computed(() =&gt; </span><br><span class="line">    tasks.value.filter(t =&gt; t.status === &#x27;TODO&#x27;)</span><br><span class="line">  )</span><br><span class="line">  </span><br><span class="line">  const inProgressTasks = computed(() =&gt; </span><br><span class="line">    tasks.value.filter(t =&gt; t.status === &#x27;IN_PROGRESS&#x27;)</span><br><span class="line">  )</span><br><span class="line">  </span><br><span class="line">  const doneTasks = computed(() =&gt; </span><br><span class="line">    tasks.value.filter(t =&gt; t.status === &#x27;DONE&#x27;)</span><br><span class="line">  )</span><br><span class="line">  </span><br><span class="line">  const urgentTasks = computed(() =&gt; </span><br><span class="line">    tasks.value.filter(t =&gt; t.priority === &#x27;URGENT&#x27;)</span><br><span class="line">  )</span><br><span class="line">  </span><br><span class="line">  return &#123;</span><br><span class="line">    // State</span><br><span class="line">    tasks,</span><br><span class="line">    loading,</span><br><span class="line">    error,</span><br><span class="line">    </span><br><span class="line">    // Actions</span><br><span class="line">    fetchTasks,</span><br><span class="line">    createTask,</span><br><span class="line">    updateTask,</span><br><span class="line">    deleteTask,</span><br><span class="line">    exportTasks,</span><br><span class="line">    </span><br><span class="line">    // Getters</span><br><span class="line">    todoTasks,</span><br><span class="line">    inProgressTasks,</span><br><span class="line">    doneTasks,</span><br><span class="line">    urgentTasks</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="4-2-4-API请求封装"><a href="#4-2-4-API请求封装" class="headerlink" title="4.2.4 API请求封装"></a>4.2.4 API请求封装</h4><p>typescript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">// api/task.ts</span><br><span class="line">import request from &#x27;@/utils/request&#x27;</span><br><span class="line">import type &#123; Task, TaskQuery, ExportFormat &#125; from &#x27;@/types/task&#x27;</span><br><span class="line"></span><br><span class="line">const taskApi = &#123;</span><br><span class="line">  // 获取任务列表</span><br><span class="line">  getTasks(query?: TaskQuery) &#123;</span><br><span class="line">    return request.get(&#x27;/api/tasks&#x27;, &#123; params: query &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 搜索任务</span><br><span class="line">  searchTasks(query: TaskQuery) &#123;</span><br><span class="line">    return request.get(&#x27;/api/tasks/search&#x27;, &#123; params: query &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 获取任务详情</span><br><span class="line">  getTask(id: number) &#123;</span><br><span class="line">    return request.get(`/api/tasks/$&#123;id&#125;`)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 创建任务</span><br><span class="line">  createTask(taskData: Partial&lt;Task&gt;) &#123;</span><br><span class="line">    return request.post(&#x27;/api/tasks&#x27;, taskData)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 更新任务</span><br><span class="line">  updateTask(id: number, taskData: Partial&lt;Task&gt;) &#123;</span><br><span class="line">    return request.put(`/api/tasks/$&#123;id&#125;`, taskData)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 删除任务</span><br><span class="line">  deleteTask(id: number) &#123;</span><br><span class="line">    return request.delete(`/api/tasks/$&#123;id&#125;`)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 更新任务状态</span><br><span class="line">  updateTaskStatus(id: number, status: string) &#123;</span><br><span class="line">    return request.put(`/api/tasks/$&#123;id&#125;/status`, null, &#123;</span><br><span class="line">      params: &#123; status &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 导出任务</span><br><span class="line">  exportTasks(format: ExportFormat = &#x27;excel&#x27;) &#123;</span><br><span class="line">    return request.get(&#x27;/api/tasks/export&#x27;, &#123;</span><br><span class="line">      params: &#123; format &#125;,</span><br><span class="line">      responseType: &#x27;blob&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 获取统计信息</span><br><span class="line">  getStatistics() &#123;</span><br><span class="line">    return request.get(&#x27;/api/tasks/statistics&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default taskApi</span><br></pre></td></tr></table></figure>



<h3 id="4-3-Docker部署配置"><a href="#4-3-Docker部署配置" class="headerlink" title="4.3 Docker部署配置"></a>4.3 Docker部署配置</h3><h4 id="4-3-1-Docker-Compose配置"><a href="#4-3-1-Docker-Compose配置" class="headerlink" title="4.3.1 Docker Compose配置"></a>4.3.1 Docker Compose配置</h4><p>yaml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">version: &#x27;3.8&#x27;</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  # MySQL数据库</span><br><span class="line">  mysql:</span><br><span class="line">    image: mysql:8.0</span><br><span class="line">    container_name: todolist-mysql</span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_ROOT_PASSWORD: $&#123;MYSQL_ROOT_PASSWORD:-rootpassword&#125;</span><br><span class="line">      MYSQL_DATABASE: todolist</span><br><span class="line">      MYSQL_USER: todolist_user</span><br><span class="line">      MYSQL_PASSWORD: $&#123;MYSQL_PASSWORD:-todolistpass&#125;</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;3306:3306&quot;</span><br><span class="line">    volumes:</span><br><span class="line">      - mysql_data:/var/lib/mysql</span><br><span class="line">      - ./docker/mysql/init.sql:/docker-entrypoint-initdb.d/init.sql</span><br><span class="line">    healthcheck:</span><br><span class="line">      test: [&quot;CMD&quot;, &quot;mysqladmin&quot;, &quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]</span><br><span class="line">      timeout: 20s</span><br><span class="line">      retries: 10</span><br><span class="line">    networks:</span><br><span class="line">      - todolist-network</span><br><span class="line"></span><br><span class="line">  # Redis缓存</span><br><span class="line">  redis:</span><br><span class="line">    image: redis:7-alpine</span><br><span class="line">    container_name: todolist-redis</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;6379:6379&quot;</span><br><span class="line">    volumes:</span><br><span class="line">      - redis_data:/data</span><br><span class="line">    command: redis-server --appendonly yes</span><br><span class="line">    healthcheck:</span><br><span class="line">      test: [&quot;CMD&quot;, &quot;redis-cli&quot;, &quot;ping&quot;]</span><br><span class="line">      interval: 10s</span><br><span class="line">      timeout: 5s</span><br><span class="line">      retries: 5</span><br><span class="line">    networks:</span><br><span class="line">      - todolist-network</span><br><span class="line"></span><br><span class="line">  # Elasticsearch搜索</span><br><span class="line">  elasticsearch:</span><br><span class="line">    image: elasticsearch:8.11.0</span><br><span class="line">    container_name: todolist-elasticsearch</span><br><span class="line">    environment:</span><br><span class="line">      - discovery.type=single-node</span><br><span class="line">      - xpack.security.enabled=false</span><br><span class="line">      - &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;9200:9200&quot;</span><br><span class="line">    volumes:</span><br><span class="line">      - elasticsearch_data:/usr/share/elasticsearch/data</span><br><span class="line">    healthcheck:</span><br><span class="line">      test: [&quot;CMD-SHELL&quot;, &quot;curl -f http://localhost:9200/_cluster/health || exit 1&quot;]</span><br><span class="line">      interval: 30s</span><br><span class="line">      timeout: 10s</span><br><span class="line">      retries: 3</span><br><span class="line">    networks:</span><br><span class="line">      - todolist-network</span><br><span class="line"></span><br><span class="line">  # Spring Boot应用</span><br><span class="line">  backend:</span><br><span class="line">    build:</span><br><span class="line">      context: ./backend</span><br><span class="line">      dockerfile: Dockerfile</span><br><span class="line">    container_name: todolist-backend</span><br><span class="line">    environment:</span><br><span class="line">      - SPRING_PROFILES_ACTIVE=docker</span><br><span class="line">      - DB_HOST=mysql</span><br><span class="line">      - REDIS_HOST=redis</span><br><span class="line">      - ES_HOST=elasticsearch</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;8080:8080&quot;</span><br><span class="line">    depends_on:</span><br><span class="line">      mysql:</span><br><span class="line">        condition: service_healthy</span><br><span class="line">      redis:</span><br><span class="line">        condition: service_healthy</span><br><span class="line">      elasticsearch:</span><br><span class="line">        condition: service_healthy</span><br><span class="line">    volumes:</span><br><span class="line">      - ./logs:/app/logs</span><br><span class="line">      - ./uploads:/app/uploads</span><br><span class="line">    networks:</span><br><span class="line">      - todolist-network</span><br><span class="line"></span><br><span class="line">  # Nginx反向代理</span><br><span class="line">  nginx:</span><br><span class="line">    image: nginx:alpine</span><br><span class="line">    container_name: todolist-nginx</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;80:80&quot;</span><br><span class="line">      - &quot;443:443&quot;</span><br><span class="line">    volumes:</span><br><span class="line">      - ./docker/nginx/nginx.conf:/etc/nginx/nginx.conf</span><br><span class="line">      - ./docker/nginx/conf.d:/etc/nginx/conf.d</span><br><span class="line">      - ./frontend/dist:/usr/share/nginx/html</span><br><span class="line">      - ./ssl:/etc/nginx/ssl</span><br><span class="line">    depends_on:</span><br><span class="line">      - backend</span><br><span class="line">    networks:</span><br><span class="line">      - todolist-network</span><br><span class="line"></span><br><span class="line">  # 前端应用（开发模式）</span><br><span class="line">  frontend-dev:</span><br><span class="line">    build:</span><br><span class="line">      context: ./frontend</span><br><span class="line">      dockerfile: Dockerfile.dev</span><br><span class="line">    container_name: todolist-frontend-dev</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;3000:3000&quot;</span><br><span class="line">    volumes:</span><br><span class="line">      - ./frontend:/app</span><br><span class="line">      - /app/node_modules</span><br><span class="line">    environment:</span><br><span class="line">      - NODE_ENV=development</span><br><span class="line">    networks:</span><br><span class="line">      - todolist-network</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">  mysql_data:</span><br><span class="line">  redis_data:</span><br><span class="line">  elasticsearch_data:</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  todolist-network:</span><br><span class="line">    driver: bridge</span><br></pre></td></tr></table></figure>



<h4 id="4-3-2-Nginx配置"><a href="#4-3-2-Nginx配置" class="headerlink" title="4.3.2 Nginx配置"></a>4.3.2 Nginx配置</h4><p>nginx</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># docker/nginx/nginx.conf</span><br><span class="line">user nginx;</span><br><span class="line">worker_processes auto;</span><br><span class="line">error_log /var/log/nginx/error.log warn;</span><br><span class="line">pid /var/run/nginx.pid;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">    multi_accept on;</span><br><span class="line">    use epoll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include /etc/nginx/mime.types;</span><br><span class="line">    default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">    # 日志格式</span><br><span class="line">    log_format main &#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span><br><span class="line">                    &#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span><br><span class="line">                    &#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;;</span><br><span class="line"></span><br><span class="line">    access_log /var/log/nginx/access.log main;</span><br><span class="line"></span><br><span class="line">    # 基础配置</span><br><span class="line">    sendfile on;</span><br><span class="line">    tcp_nopush on;</span><br><span class="line">    tcp_nodelay on;</span><br><span class="line">    keepalive_timeout 65;</span><br><span class="line">    types_hash_max_size 2048;</span><br><span class="line">    client_max_body_size 100M;</span><br><span class="line"></span><br><span class="line">    # Gzip压缩</span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_vary on;</span><br><span class="line">    gzip_min_length 1024;</span><br><span class="line">    gzip_types text/plain text/css text/xml text/javascript </span><br><span class="line">               application/json application/javascript application/xml+rss </span><br><span class="line">               application/xml;</span><br><span class="line"></span><br><span class="line">    # 安全头</span><br><span class="line">    add_header X-Frame-Options SAMEORIGIN;</span><br><span class="line">    add_header X-Content-Type-Options nosniff;</span><br><span class="line">    add_header X-XSS-Protection &quot;1; mode=block&quot;;</span><br><span class="line"></span><br><span class="line">    # 包含服务配置</span><br><span class="line">    include /etc/nginx/conf.d/*.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>nginx</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"># docker/nginx/conf.d/todolist.conf</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name todolist.example.com;  # 改为你的域名</span><br><span class="line">    return 301 https://$server_name$request_uri;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line">    server_name todolist.example.com;  # 改为你的域名</span><br><span class="line"></span><br><span class="line">    # SSL配置</span><br><span class="line">    ssl_certificate /etc/nginx/ssl/todolist.crt;</span><br><span class="line">    ssl_certificate_key /etc/nginx/ssl/todolist.key;</span><br><span class="line">    ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;</span><br><span class="line">    ssl_prefer_server_ciphers off;</span><br><span class="line">    ssl_session_cache shared:SSL:10m;</span><br><span class="line">    ssl_session_timeout 10m;</span><br><span class="line"></span><br><span class="line">    # 前端静态文件</span><br><span class="line">    location / &#123;</span><br><span class="line">        root /usr/share/nginx/html;</span><br><span class="line">        index index.html;</span><br><span class="line">        try_files $uri $uri/ /index.html;</span><br><span class="line">        </span><br><span class="line">        # 缓存静态资源</span><br><span class="line">        location ~* \.(jpg|jpeg|png|gif|ico|css|js)$ &#123;</span><br><span class="line">            expires 1y;</span><br><span class="line">            add_header Cache-Control &quot;public, immutable&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 后端API代理</span><br><span class="line">    location /api/ &#123;</span><br><span class="line">        proxy_pass http://backend:8080;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">        </span><br><span class="line">        # WebSocket支持</span><br><span class="line">        proxy_http_version 1.1;</span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">        </span><br><span class="line">        # 超时设置</span><br><span class="line">        proxy_connect_timeout 60s;</span><br><span class="line">        proxy_send_timeout 60s;</span><br><span class="line">        proxy_read_timeout 60s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 文件上传代理</span><br><span class="line">    location /uploads/ &#123;</span><br><span class="line">        proxy_pass http://backend:8080;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 健康检查</span><br><span class="line">    location /health &#123;</span><br><span class="line">        access_log off;</span><br><span class="line">        return 200 &quot;healthy\n&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="五、部署和运行指南"><a href="#五、部署和运行指南" class="headerlink" title="五、部署和运行指南"></a>五、部署和运行指南</h2><h3 id="5-1-环境要求"><a href="#5-1-环境要求" class="headerlink" title="5.1 环境要求"></a>5.1 环境要求</h3><ul>
<li>Docker 20.10+ 和 Docker Compose</li>
<li>Java 17+</li>
<li>Node.js 18+</li>
<li>MySQL 8.0+</li>
<li>Redis 7.0+</li>
</ul>
<h3 id="5-2-快速启动步骤"><a href="#5-2-快速启动步骤" class="headerlink" title="5.2 快速启动步骤"></a>5.2 快速启动步骤</h3><ol>
<li><strong>克隆项目</strong></li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/yourusername/todolist-project.git</span><br><span class="line">cd todolist-project</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>配置环境变量</strong></li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp .env.example .env</span><br><span class="line"># 编辑.env文件，设置数据库密码等</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>构建并启动服务</strong></li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 使用Docker Compose启动所有服务</span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"># 查看服务状态</span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"># 查看日志</span><br><span class="line">docker-compose logs -f</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>访问应用</strong></li>
</ol>
<ul>
<li>前端应用: <a target="_blank" rel="noopener" href="http://localhost/">http://localhost</a></li>
<li>后端API: <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a></li>
<li>API文档: <a target="_blank" rel="noopener" href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a></li>
</ul>
<h3 id="5-3-生产环境部署"><a href="#5-3-生产环境部署" class="headerlink" title="5.3 生产环境部署"></a>5.3 生产环境部署</h3><ol>
<li><strong>配置域名和SSL证书</strong></li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 生成SSL证书（使用Let&#x27;s Encrypt）</span><br><span class="line">certbot certonly --nginx -d todolist.example.com</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>配置生产环境变量</strong></li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 在.env文件中设置生产环境配置</span><br><span class="line">NODE_ENV=production</span><br><span class="line">SPRING_PROFILES_ACTIVE=production</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>使用Docker Swarm或Kubernetes部署</strong></li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Docker Swarm</span><br><span class="line">docker stack deploy -c docker-compose.prod.yml todolist</span><br><span class="line"></span><br><span class="line"># Kubernetes</span><br><span class="line">kubectl apply -f k8s/</span><br></pre></td></tr></table></figure>



<h2 id="六、技能点总结"><a href="#六、技能点总结" class="headerlink" title="六、技能点总结"></a>六、技能点总结</h2><p>通过这个项目，你实践了以下核心技能：</p>
<h3 id="后端技能-Java-Spring-Boot"><a href="#后端技能-Java-Spring-Boot" class="headerlink" title="后端技能 (Java&#x2F;Spring Boot)"></a>后端技能 (Java&#x2F;Spring Boot)</h3><ol>
<li><strong>Spring Boot项目搭建与配置</strong></li>
<li><strong>JPA&#x2F;Hibernate ORM映射</strong></li>
<li><strong>Spring Security + JWT认证授权</strong></li>
<li><strong>RESTful API设计与实现</strong></li>
<li><strong>数据库设计与优化（MySQL）</strong></li>
<li><strong>缓存技术（Redis）</strong></li>
<li><strong>全文搜索引擎（Elasticsearch）</strong></li>
<li><strong>文件上传与存储</strong></li>
<li><strong>Excel&#x2F;PDF导出</strong></li>
<li><strong>定时任务调度</strong></li>
<li><strong>异步处理与消息队列</strong></li>
<li><strong>Docker容器化</strong></li>
<li><strong>单元测试与集成测试</strong></li>
<li><strong>API文档（Swagger&#x2F;OpenAPI）</strong></li>
<li><strong>日志管理与监控</strong></li>
</ol>
<h3 id="前端技能-Vue-js-TypeScript"><a href="#前端技能-Vue-js-TypeScript" class="headerlink" title="前端技能 (Vue.js&#x2F;TypeScript)"></a>前端技能 (Vue.js&#x2F;TypeScript)</h3><ol>
<li><strong>Vue 3 + Composition API</strong></li>
<li><strong>TypeScript类型系统</strong></li>
<li><strong>Element Plus UI组件库</strong></li>
<li><strong>Vue Router路由管理</strong></li>
<li><strong>Pinia状态管理</strong></li>
<li><strong>Axios HTTP请求封装</strong></li>
<li><strong>响应式设计与CSS3</strong></li>
<li><strong>组件化开发</strong></li>
<li><strong>前端工程化</strong></li>
<li><strong>性能优化</strong></li>
</ol>
<h3 id="运维与部署技能"><a href="#运维与部署技能" class="headerlink" title="运维与部署技能"></a>运维与部署技能</h3><ol>
<li><strong>Docker容器化</strong></li>
<li><strong>Docker Compose多服务编排</strong></li>
<li><strong>Nginx反向代理配置</strong></li>
<li><strong>SSL&#x2F;TLS配置</strong></li>
<li><strong>多环境配置管理</strong></li>
<li><strong>CI&#x2F;CD流水线</strong></li>
<li><strong>监控与日志收集</strong></li>
</ol>
<h3 id="架构设计技能"><a href="#架构设计技能" class="headerlink" title="架构设计技能"></a>架构设计技能</h3><ol>
<li><strong>微服务架构思想</strong></li>
<li><strong>前后端分离架构</strong></li>
<li><strong>数据库分库分表设计</strong></li>
<li><strong>缓存策略设计</strong></li>
<li><strong>安全防护设计</strong></li>
<li><strong>高可用与容灾设计</strong></li>
</ol>
<p>这个项目涵盖了企业级应用开发所需的大部分核心技能，是一个完整的全栈项目实践。通过实现这个项目，你可以系统地掌握现代Web应用开发的全流程。</p>
<p>对于本地使用，能否通过只使用html&#x2F;css&#x2F;javascript重写前端页面</p>
<p>我们只使用HTML、CSS和JavaScript来重写前端页面，同时为了能够与后端API交互，我们需要使用原生的JavaScript来发送HTTP请求，并且处理响应数据。<br>由于不使用任何前端框架，我们将通过原生JavaScript来操作DOM，实现数据的动态渲染和用户交互。</p>
<p>我们将按照以下步骤进行：</p>
<ol>
<li>设计一个简单的界面，包含登录、任务列表、任务详情、创建任务等基本功能。</li>
<li>使用原生JavaScript编写与后端API交互的代码。</li>
<li>使用CSS进行样式设计，使其尽可能美观。</li>
<li>考虑到本地使用，我们假设后端API运行在本地8080端口，并且已经解决了跨域问题（后端配置了CORS）。</li>
</ol>
<p>注意：由于不使用框架，我们将采用模块化的方式组织代码，但使用原生JavaScript，我们将使用ES6模块，并在HTML中通过type&#x3D;”module”引入。</p>
<p>由于功能较多，我们不可能在这里实现所有功能，但会提供一个基本框架，包括：</p>
<ul>
<li>登录页面和登录功能</li>
<li>任务列表展示</li>
<li>创建任务</li>
</ul>
<p>其他功能（如评论、搜索、分类、导出等）可以根据这个框架扩展。</p>
<p>我们首先创建以下文件结构：<br>todolist-frontend&#x2F;<br>index.html # 主页面<br>login.html # 登录页面（或者我们也可以做成单页应用，这里为了简单，分开两个页面）<br>style.css # 样式文件<br>script.js # 主JavaScript文件，处理页面逻辑<br>api.js # 封装与后端API交互的函数</p>
<p>但是，由于我们只使用静态文件，并且要考虑跨域，我们需要确保后端允许前端所在的域访问。</p>
<p>这里我们假设后端已经允许了跨域，前端可以直接调用API。</p>
<p>由于时间有限，我们只实现一个简单的任务列表和创建任务的功能。</p>
<p>步骤：</p>
<ol>
<li>登录：用户输入用户名和密码，获取token，并存储到localStorage中。</li>
<li>跳转到主页面，主页面加载任务列表。</li>
<li>实现创建任务的功能。</li>
</ol>
<p>我们先写登录页面（login.html）和主页面（index.html）。</p>
<p>注意：为了简化，我们不在前端做路由，而是使用两个页面。登录成功后跳转到index.html。</p>
<p>下面开始编写代码。</p>
<h1 id="纯-HTML-CSS-JavaScript-实现的-ToDoList-前端"><a href="#纯-HTML-CSS-JavaScript-实现的-ToDoList-前端" class="headerlink" title="纯 HTML&#x2F;CSS&#x2F;JavaScript 实现的 ToDoList 前端"></a>纯 HTML&#x2F;CSS&#x2F;JavaScript 实现的 ToDoList 前端</h1><p>我将提供一个完整的、无需框架的纯前端实现，包含所有核心功能。</p>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>text</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">todolist-pure/</span><br><span class="line">├── index.html              # 主页面</span><br><span class="line">├── login.html             # 登录页面</span><br><span class="line">├── style.css              # 主样式文件</span><br><span class="line">├── script.js              # 主JavaScript文件</span><br><span class="line">├── components/            # 组件目录</span><br><span class="line">│   ├── task-modal.js     # 任务模态框组件</span><br><span class="line">│   ├── task-card.js      # 任务卡片组件</span><br><span class="line">│   ├── search-bar.js     # 搜索栏组件</span><br><span class="line">│   └── export-modal.js   # 导出模态框组件</span><br><span class="line">├── utils/                # 工具函数</span><br><span class="line">│   ├── storage.js        # 本地存储管理</span><br><span class="line">│   ├── api.js           # API模拟接口</span><br><span class="line">│   ├── export.js        # 导出功能</span><br><span class="line">│   └── validation.js    # 表单验证</span><br><span class="line">├── assets/               # 静态资源</span><br><span class="line">│   ├── images/          # 图片</span><br><span class="line">│   └── icons/           # 图标</span><br><span class="line">└── README.md            # 使用说明</span><br></pre></td></tr></table></figure>



<h2 id="1-主页面-index-html"><a href="#1-主页面-index-html" class="headerlink" title="1. 主页面 (index.html)"></a>1. 主页面 (index.html)</h2><p>html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh-CN&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;智能待办清单 - 纯前端版&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css&quot;&gt;</span><br><span class="line">    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;assets/favicon.ico&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 导航栏 --&gt;</span><br><span class="line">    &lt;nav class=&quot;navbar&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;nav-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;nav-brand&quot;&gt;</span><br><span class="line">                &lt;i class=&quot;fas fa-tasks&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;span&gt;智能待办清单&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;nav-search&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;search-box&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-search&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot; id=&quot;searchInput&quot; placeholder=&quot;搜索任务...&quot;&gt;</span><br><span class="line">                    &lt;button id=&quot;advancedSearchBtn&quot; title=&quot;高级搜索&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-sliders-h&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;nav-actions&quot;&gt;</span><br><span class="line">                &lt;button id=&quot;themeToggle&quot; class=&quot;icon-btn&quot; title=&quot;切换主题&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-moon&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &lt;button id=&quot;exportBtn&quot; class=&quot;icon-btn&quot; title=&quot;导出数据&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-file-export&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &lt;button id=&quot;importBtn&quot; class=&quot;icon-btn&quot; title=&quot;导入数据&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-file-import&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;input type=&quot;file&quot; id=&quot;importFile&quot; accept=&quot;.json,.txt&quot; style=&quot;display:none;&quot;&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &lt;div class=&quot;user-menu&quot;&gt;</span><br><span class="line">                    &lt;img src=&quot;https://ui-avatars.com/api/?name=User&amp;background=1890ff&amp;color=fff&quot; </span><br><span class="line">                         alt=&quot;用户头像&quot; class=&quot;user-avatar&quot;&gt;</span><br><span class="line">                    &lt;span class=&quot;username&quot;&gt;用户&lt;/span&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-chevron-down&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 高级搜索面板 --&gt;</span><br><span class="line">    &lt;div id=&quot;advancedSearchPanel&quot; class=&quot;advanced-search-panel hidden&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;search-filters&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;filter-group&quot;&gt;</span><br><span class="line">                &lt;label&gt;状态:&lt;/label&gt;</span><br><span class="line">                &lt;div class=&quot;filter-options&quot;&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;status&quot; value=&quot;todo&quot; checked&gt; 待办&lt;/label&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;status&quot; value=&quot;in-progress&quot; checked&gt; 进行中&lt;/label&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;status&quot; value=&quot;done&quot;&gt; 已完成&lt;/label&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;status&quot; value=&quot;archived&quot;&gt; 已归档&lt;/label&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;filter-group&quot;&gt;</span><br><span class="line">                &lt;label&gt;优先级:&lt;/label&gt;</span><br><span class="line">                &lt;div class=&quot;filter-options&quot;&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;priority&quot; value=&quot;low&quot; checked&gt; 低&lt;/label&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;priority&quot; value=&quot;medium&quot; checked&gt; 中&lt;/label&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;priority&quot; value=&quot;high&quot; checked&gt; 高&lt;/label&gt;</span><br><span class="line">                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;priority&quot; value=&quot;urgent&quot; checked&gt; 紧急&lt;/label&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;filter-group&quot;&gt;</span><br><span class="line">                &lt;label&gt;截止日期:&lt;/label&gt;</span><br><span class="line">                &lt;div class=&quot;date-filters&quot;&gt;</span><br><span class="line">                    &lt;select id=&quot;dateFilter&quot;&gt;</span><br><span class="line">                        &lt;option value=&quot;all&quot;&gt;全部&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;today&quot;&gt;今天&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;tomorrow&quot;&gt;明天&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;this-week&quot;&gt;本周&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;next-week&quot;&gt;下周&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;overdue&quot;&gt;已过期&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;custom&quot;&gt;自定义范围&lt;/option&gt;</span><br><span class="line">                    &lt;/select&gt;</span><br><span class="line">                    &lt;div id=&quot;customDateRange&quot; class=&quot;hidden&quot;&gt;</span><br><span class="line">                        &lt;input type=&quot;date&quot; id=&quot;startDate&quot;&gt;</span><br><span class="line">                        &lt;span&gt;至&lt;/span&gt;</span><br><span class="line">                        &lt;input type=&quot;date&quot; id=&quot;endDate&quot;&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;filter-group&quot;&gt;</span><br><span class="line">                &lt;label&gt;分类:&lt;/label&gt;</span><br><span class="line">                &lt;select id=&quot;categoryFilter&quot; multiple&gt;</span><br><span class="line">                    &lt;option value=&quot;work&quot;&gt;工作&lt;/option&gt;</span><br><span class="line">                    &lt;option value=&quot;personal&quot;&gt;个人&lt;/option&gt;</span><br><span class="line">                    &lt;option value=&quot;shopping&quot;&gt;购物&lt;/option&gt;</span><br><span class="line">                    &lt;option value=&quot;health&quot;&gt;健康&lt;/option&gt;</span><br><span class="line">                    &lt;option value=&quot;learning&quot;&gt;学习&lt;/option&gt;</span><br><span class="line">                &lt;/select&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;filter-actions&quot;&gt;</span><br><span class="line">                &lt;button id=&quot;applyFilters&quot; class=&quot;btn btn-primary&quot;&gt;应用筛选&lt;/button&gt;</span><br><span class="line">                &lt;button id=&quot;clearFilters&quot; class=&quot;btn btn-secondary&quot;&gt;清除筛选&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 主内容区域 --&gt;</span><br><span class="line">    &lt;div class=&quot;main-container&quot;&gt;</span><br><span class="line">        &lt;!-- 侧边栏 --&gt;</span><br><span class="line">        &lt;aside class=&quot;sidebar&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;快捷操作&lt;/h3&gt;</span><br><span class="line">                &lt;button id=&quot;newTaskBtn&quot; class=&quot;sidebar-btn primary&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; 新建任务</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &lt;button id=&quot;quickNoteBtn&quot; class=&quot;sidebar-btn&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-sticky-note&quot;&gt;&lt;/i&gt; 快速笔记</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;视图&lt;/h3&gt;</span><br><span class="line">                &lt;div class=&quot;view-options&quot;&gt;</span><br><span class="line">                    &lt;button class=&quot;view-btn active&quot; data-view=&quot;list&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-list&quot;&gt;&lt;/i&gt; 列表视图</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                    &lt;button class=&quot;view-btn&quot; data-view=&quot;board&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-columns&quot;&gt;&lt;/i&gt; 看板视图</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                    &lt;button class=&quot;view-btn&quot; data-view=&quot;calendar&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-calendar-alt&quot;&gt;&lt;/i&gt; 日历视图</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                    &lt;button class=&quot;view-btn&quot; data-view=&quot;gantt&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-chart-bar&quot;&gt;&lt;/i&gt; 甘特图</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;分类&lt;/h3&gt;</span><br><span class="line">                &lt;div class=&quot;categories&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;category-item&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;category-color&quot; style=&quot;background-color:#1890ff;&quot;&gt;&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;所有任务&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;category-count&quot; id=&quot;allCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;category-item&quot; data-category=&quot;work&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;category-color&quot; style=&quot;background-color:#52c41a;&quot;&gt;&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;工作&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;category-count&quot; id=&quot;workCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;category-item&quot; data-category=&quot;personal&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;category-color&quot; style=&quot;background-color:#fa8c16;&quot;&gt;&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;个人&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;category-count&quot; id=&quot;personalCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;category-item&quot; data-category=&quot;shopping&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;category-color&quot; style=&quot;background-color:#f5222d;&quot;&gt;&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;购物&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;category-count&quot; id=&quot;shoppingCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;category-item&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;添加分类&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;智能筛选&lt;/h3&gt;</span><br><span class="line">                &lt;div class=&quot;smart-filters&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;smart-filter&quot; data-filter=&quot;today&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-sun&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;今天到期&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;filter-count&quot; id=&quot;todayCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;smart-filter&quot; data-filter=&quot;priority&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;高优先级&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;filter-count&quot; id=&quot;priorityCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;smart-filter&quot; data-filter=&quot;overdue&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-clock&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;已过期&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;filter-count&quot; id=&quot;overdueCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;smart-filter&quot; data-filter=&quot;no-date&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-calendar-times&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;无截止日期&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;filter-count&quot; id=&quot;noDateCount&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;统计&lt;/h3&gt;</span><br><span class="line">                &lt;div class=&quot;stats&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;stat-item&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-value&quot; id=&quot;totalTasks&quot;&gt;0&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-label&quot;&gt;总任务数&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;stat-item&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-value&quot; id=&quot;completedTasks&quot;&gt;0&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-label&quot;&gt;已完成&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;stat-item&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-value&quot; id=&quot;completionRate&quot;&gt;0%&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-label&quot;&gt;完成率&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/aside&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 主要内容 --&gt;</span><br><span class="line">        &lt;main class=&quot;content&quot;&gt;</span><br><span class="line">            &lt;!-- 任务工具栏 --&gt;</span><br><span class="line">            &lt;div class=&quot;task-toolbar&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;toolbar-left&quot;&gt;</span><br><span class="line">                    &lt;h2 id=&quot;viewTitle&quot;&gt;所有任务&lt;/h2&gt;</span><br><span class="line">                    &lt;div class=&quot;sort-options&quot;&gt;</span><br><span class="line">                        &lt;span&gt;排序:&lt;/span&gt;</span><br><span class="line">                        &lt;select id=&quot;sortSelect&quot;&gt;</span><br><span class="line">                            &lt;option value=&quot;created-desc&quot;&gt;创建时间（新到旧）&lt;/option&gt;</span><br><span class="line">                            &lt;option value=&quot;created-asc&quot;&gt;创建时间（旧到新）&lt;/option&gt;</span><br><span class="line">                            &lt;option value=&quot;due-date&quot;&gt;截止日期&lt;/option&gt;</span><br><span class="line">                            &lt;option value=&quot;priority&quot;&gt;优先级&lt;/option&gt;</span><br><span class="line">                            &lt;option value=&quot;title&quot;&gt;标题&lt;/option&gt;</span><br><span class="line">                        &lt;/select&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;div class=&quot;toolbar-right&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;view-controls&quot;&gt;</span><br><span class="line">                        &lt;button id=&quot;toggleCompleted&quot; class=&quot;icon-btn&quot; title=&quot;显示/隐藏已完成&quot;&gt;</span><br><span class="line">                            &lt;i class=&quot;fas fa-eye&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;/button&gt;</span><br><span class="line">                        &lt;button id=&quot;bulkEdit&quot; class=&quot;icon-btn&quot; title=&quot;批量操作&quot;&gt;</span><br><span class="line">                            &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;/button&gt;</span><br><span class="line">                        &lt;div class=&quot;display-density&quot;&gt;</span><br><span class="line">                            &lt;button class=&quot;density-btn active&quot; data-density=&quot;comfortable&quot;&gt;</span><br><span class="line">                                &lt;i class=&quot;fas fa-square&quot;&gt;&lt;/i&gt;</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                            &lt;button class=&quot;density-btn&quot; data-density=&quot;compact&quot;&gt;</span><br><span class="line">                                &lt;i class=&quot;fas fa-th&quot;&gt;&lt;/i&gt;</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;!-- 任务列表区域 --&gt;</span><br><span class="line">            &lt;div class=&quot;tasks-container&quot;&gt;</span><br><span class="line">                &lt;div id=&quot;tasksList&quot; class=&quot;tasks-list&quot;&gt;</span><br><span class="line">                    &lt;!-- 任务卡片将通过JavaScript动态生成 --&gt;</span><br><span class="line">                    &lt;div class=&quot;empty-state&quot; id=&quot;emptyState&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-tasks&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;h3&gt;暂无任务&lt;/h3&gt;</span><br><span class="line">                        &lt;p&gt;点击&quot;新建任务&quot;按钮开始创建您的第一个待办事项&lt;/p&gt;</span><br><span class="line">                        &lt;button id=&quot;createFirstTask&quot; class=&quot;btn btn-primary&quot;&gt;创建第一个任务&lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;!-- 看板视图（默认隐藏） --&gt;</span><br><span class="line">                &lt;div id=&quot;boardView&quot; class=&quot;board-view hidden&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;board-column&quot; data-status=&quot;todo&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;column-header&quot;&gt;</span><br><span class="line">                            &lt;h4&gt;待办&lt;/h4&gt;</span><br><span class="line">                            &lt;span class=&quot;column-count&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;column-content&quot; data-status=&quot;todo&quot;&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;board-column&quot; data-status=&quot;in-progress&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;column-header&quot;&gt;</span><br><span class="line">                            &lt;h4&gt;进行中&lt;/h4&gt;</span><br><span class="line">                            &lt;span class=&quot;column-count&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;column-content&quot; data-status=&quot;in-progress&quot;&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;board-column&quot; data-status=&quot;done&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;column-header&quot;&gt;</span><br><span class="line">                            &lt;h4&gt;已完成&lt;/h4&gt;</span><br><span class="line">                            &lt;span class=&quot;column-count&quot;&gt;0&lt;/span&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;column-content&quot; data-status=&quot;done&quot;&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;!-- 日历视图（默认隐藏） --&gt;</span><br><span class="line">                &lt;div id=&quot;calendarView&quot; class=&quot;calendar-view hidden&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;calendar-header&quot;&gt;</span><br><span class="line">                        &lt;button id=&quot;prevMonth&quot;&gt;&lt;i class=&quot;fas fa-chevron-left&quot;&gt;&lt;/i&gt;&lt;/button&gt;</span><br><span class="line">                        &lt;h3 id=&quot;currentMonth&quot;&gt;2023年12月&lt;/h3&gt;</span><br><span class="line">                        &lt;button id=&quot;nextMonth&quot;&gt;&lt;i class=&quot;fas fa-chevron-right&quot;&gt;&lt;/i&gt;&lt;/button&gt;</span><br><span class="line">                        &lt;button id=&quot;todayBtn&quot; class=&quot;btn btn-secondary&quot;&gt;今天&lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;calendar-grid&quot;&gt;</span><br><span class="line">                        &lt;!-- 日历将通过JavaScript动态生成 --&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;!-- 任务详情面板（右侧） --&gt;</span><br><span class="line">            &lt;aside id=&quot;taskDetailPanel&quot; class=&quot;task-detail-panel hidden&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;panel-header&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;任务详情&lt;/h3&gt;</span><br><span class="line">                    &lt;button id=&quot;closeDetailPanel&quot; class=&quot;icon-btn&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;panel-content&quot;&gt;</span><br><span class="line">                    &lt;!-- 任务详情将通过JavaScript动态生成 --&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/aside&gt;</span><br><span class="line">        &lt;/main&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 任务模态框 --&gt;</span><br><span class="line">    &lt;div id=&quot;taskModal&quot; class=&quot;modal hidden&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;modal-content&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;modal-header&quot;&gt;</span><br><span class="line">                &lt;h3 id=&quot;modalTitle&quot;&gt;新建任务&lt;/h3&gt;</span><br><span class="line">                &lt;button id=&quot;closeModal&quot; class=&quot;icon-btn&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;modal-body&quot;&gt;</span><br><span class="line">                &lt;form id=&quot;taskForm&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label for=&quot;taskTitle&quot;&gt;任务标题 *&lt;/label&gt;</span><br><span class="line">                        &lt;input type=&quot;text&quot; id=&quot;taskTitle&quot; required </span><br><span class="line">                               placeholder=&quot;请输入任务标题&quot; maxlength=&quot;200&quot;&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label for=&quot;taskDescription&quot;&gt;任务描述&lt;/label&gt;</span><br><span class="line">                        &lt;textarea id=&quot;taskDescription&quot; rows=&quot;4&quot; </span><br><span class="line">                                  placeholder=&quot;请输入任务描述（支持Markdown）&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">                        &lt;div class=&quot;markdown-hint&quot;&gt;</span><br><span class="line">                            &lt;small&gt;支持Markdown语法&lt;/small&gt;</span><br><span class="line">                            &lt;button type=&quot;button&quot; id=&quot;previewMarkdown&quot; class=&quot;btn-text&quot;&gt;</span><br><span class="line">                                &lt;i class=&quot;fas fa-eye&quot;&gt;&lt;/i&gt; 预览</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-row&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;taskPriority&quot;&gt;优先级&lt;/label&gt;</span><br><span class="line">                            &lt;div class=&quot;priority-options&quot;&gt;</span><br><span class="line">                                &lt;label class=&quot;priority-option&quot; data-priority=&quot;low&quot;&gt;</span><br><span class="line">                                    &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;low&quot;&gt;</span><br><span class="line">                                    &lt;span class=&quot;priority-dot low&quot;&gt;&lt;/span&gt;</span><br><span class="line">                                    &lt;span&gt;低&lt;/span&gt;</span><br><span class="line">                                &lt;/label&gt;</span><br><span class="line">                                &lt;label class=&quot;priority-option&quot; data-priority=&quot;medium&quot;&gt;</span><br><span class="line">                                    &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;medium&quot; checked&gt;</span><br><span class="line">                                    &lt;span class=&quot;priority-dot medium&quot;&gt;&lt;/span&gt;</span><br><span class="line">                                    &lt;span&gt;中&lt;/span&gt;</span><br><span class="line">                                &lt;/label&gt;</span><br><span class="line">                                &lt;label class=&quot;priority-option&quot; data-priority=&quot;high&quot;&gt;</span><br><span class="line">                                    &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;high&quot;&gt;</span><br><span class="line">                                    &lt;span class=&quot;priority-dot high&quot;&gt;&lt;/span&gt;</span><br><span class="line">                                    &lt;span&gt;高&lt;/span&gt;</span><br><span class="line">                                &lt;/label&gt;</span><br><span class="line">                                &lt;label class=&quot;priority-option&quot; data-priority=&quot;urgent&quot;&gt;</span><br><span class="line">                                    &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;urgent&quot;&gt;</span><br><span class="line">                                    &lt;span class=&quot;priority-dot urgent&quot;&gt;&lt;/span&gt;</span><br><span class="line">                                    &lt;span&gt;紧急&lt;/span&gt;</span><br><span class="line">                                &lt;/label&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        </span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;taskStatus&quot;&gt;状态&lt;/label&gt;</span><br><span class="line">                            &lt;select id=&quot;taskStatus&quot;&gt;</span><br><span class="line">                                &lt;option value=&quot;todo&quot;&gt;待办&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;in-progress&quot;&gt;进行中&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;done&quot;&gt;已完成&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;archived&quot;&gt;已归档&lt;/option&gt;</span><br><span class="line">                            &lt;/select&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-row&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;dueDate&quot;&gt;截止日期&lt;/label&gt;</span><br><span class="line">                            &lt;input type=&quot;date&quot; id=&quot;dueDate&quot;&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        </span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;estimatedTime&quot;&gt;预估时间 (分钟)&lt;/label&gt;</span><br><span class="line">                            &lt;input type=&quot;number&quot; id=&quot;estimatedTime&quot; min=&quot;0&quot; step=&quot;15&quot; </span><br><span class="line">                                   placeholder=&quot;例如：60&quot;&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label&gt;分类&lt;/label&gt;</span><br><span class="line">                        &lt;div class=&quot;category-tags&quot; id=&quot;categoryTags&quot;&gt;</span><br><span class="line">                            &lt;span class=&quot;category-tag&quot; data-category=&quot;work&quot;&gt;工作&lt;/span&gt;</span><br><span class="line">                            &lt;span class=&quot;category-tag&quot; data-category=&quot;personal&quot;&gt;个人&lt;/span&gt;</span><br><span class="line">                            &lt;span class=&quot;category-tag&quot; data-category=&quot;shopping&quot;&gt;购物&lt;/span&gt;</span><br><span class="line">                            &lt;span class=&quot;category-tag&quot; data-category=&quot;learning&quot;&gt;学习&lt;/span&gt;</span><br><span class="line">                            &lt;button type=&quot;button&quot; id=&quot;addCategory&quot; class=&quot;btn-text&quot;&gt;</span><br><span class="line">                                &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; 添加</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label&gt;附件&lt;/label&gt;</span><br><span class="line">                        &lt;div class=&quot;file-upload&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;fileUpload&quot; class=&quot;upload-area&quot;&gt;</span><br><span class="line">                                &lt;i class=&quot;fas fa-cloud-upload-alt&quot;&gt;&lt;/i&gt;</span><br><span class="line">                                &lt;p&gt;点击或拖拽文件到此区域&lt;/p&gt;</span><br><span class="line">                                &lt;span&gt;支持图片、文档、压缩文件，最大10MB&lt;/span&gt;</span><br><span class="line">                                &lt;input type=&quot;file&quot; id=&quot;fileUpload&quot; multiple </span><br><span class="line">                                       style=&quot;display:none;&quot;&gt;</span><br><span class="line">                            &lt;/label&gt;</span><br><span class="line">                            &lt;div id=&quot;fileList&quot; class=&quot;file-list&quot;&gt;&lt;/div&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label for=&quot;taskNotes&quot;&gt;备注&lt;/label&gt;</span><br><span class="line">                        &lt;textarea id=&quot;taskNotes&quot; rows=&quot;3&quot; </span><br><span class="line">                                  placeholder=&quot;添加备注或额外信息&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-actions&quot;&gt;</span><br><span class="line">                        &lt;button type=&quot;button&quot; id=&quot;cancelTask&quot; class=&quot;btn btn-secondary&quot;&gt;</span><br><span class="line">                            取消</span><br><span class="line">                        &lt;/button&gt;</span><br><span class="line">                        &lt;button type=&quot;submit&quot; id=&quot;saveTask&quot; class=&quot;btn btn-primary&quot;&gt;</span><br><span class="line">                            保存任务</span><br><span class="line">                        &lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 导出模态框 --&gt;</span><br><span class="line">    &lt;div id=&quot;exportModal&quot; class=&quot;modal hidden&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;modal-content export-modal&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;modal-header&quot;&gt;</span><br><span class="line">                &lt;h3&gt;导出数据&lt;/h3&gt;</span><br><span class="line">                &lt;button class=&quot;close-export-modal icon-btn&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;modal-body&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;export-options&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;export-option&quot;&gt;</span><br><span class="line">                        &lt;input type=&quot;radio&quot; name=&quot;exportType&quot; id=&quot;exportExcel&quot; value=&quot;excel&quot; checked&gt;</span><br><span class="line">                        &lt;label for=&quot;exportExcel&quot;&gt;</span><br><span class="line">                            &lt;i class=&quot;fas fa-file-excel&quot;&gt;&lt;/i&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                                &lt;h4&gt;Excel 格式&lt;/h4&gt;</span><br><span class="line">                                &lt;p&gt;导出为.xlsx文件，适合数据分析和打印&lt;/p&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;export-option&quot;&gt;</span><br><span class="line">                        &lt;input type=&quot;radio&quot; name=&quot;exportType&quot; id=&quot;exportJson&quot; value=&quot;json&quot;&gt;</span><br><span class="line">                        &lt;label for=&quot;exportJson&quot;&gt;</span><br><span class="line">                            &lt;i class=&quot;fas fa-code&quot;&gt;&lt;/i&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                                &lt;h4&gt;JSON 格式&lt;/h4&gt;</span><br><span class="line">                                &lt;p&gt;导出为.json文件，适合备份和数据迁移&lt;/p&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;export-option&quot;&gt;</span><br><span class="line">                        &lt;input type=&quot;radio&quot; name=&quot;exportType&quot; id=&quot;exportText&quot; value=&quot;text&quot;&gt;</span><br><span class="line">                        &lt;label for=&quot;exportText&quot;&gt;</span><br><span class="line">                            &lt;i class=&quot;fas fa-file-alt&quot;&gt;&lt;/i&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                                &lt;h4&gt;纯文本格式&lt;/h4&gt;</span><br><span class="line">                                &lt;p&gt;导出为.txt文件，适合快速查看&lt;/p&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;div class=&quot;export-filters&quot;&gt;</span><br><span class="line">                    &lt;h4&gt;导出范围&lt;/h4&gt;</span><br><span class="line">                    &lt;div class=&quot;filter-options&quot;&gt;</span><br><span class="line">                        &lt;label&gt;</span><br><span class="line">                            &lt;input type=&quot;radio&quot; name=&quot;exportScope&quot; value=&quot;all&quot; checked&gt;</span><br><span class="line">                            所有任务</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                        &lt;label&gt;</span><br><span class="line">                            &lt;input type=&quot;radio&quot; name=&quot;exportScope&quot; value=&quot;filtered&quot;&gt;</span><br><span class="line">                            当前筛选结果</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                        &lt;label&gt;</span><br><span class="line">                            &lt;input type=&quot;radio&quot; name=&quot;exportScope&quot; value=&quot;selected&quot;&gt;</span><br><span class="line">                            仅选中的任务</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;div class=&quot;export-actions&quot;&gt;</span><br><span class="line">                    &lt;button id=&quot;exportData&quot; class=&quot;btn btn-primary&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-download&quot;&gt;&lt;/i&gt; 导出数据</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 通知容器 --&gt;</span><br><span class="line">    &lt;div id=&quot;notificationContainer&quot; class=&quot;notification-container&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- JavaScript文件 --&gt;</span><br><span class="line">    &lt;script src=&quot;script.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h2 id="2-样式文件-style-css"><a href="#2-样式文件-style-css" class="headerlink" title="2. 样式文件 (style.css)"></a>2. 样式文件 (style.css)</h2><p>css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br></pre></td><td class="code"><pre><span class="line">/* CSS Reset 和基础样式 */</span><br><span class="line">:root &#123;</span><br><span class="line">    --primary-color: #1890ff;</span><br><span class="line">    --primary-dark: #096dd9;</span><br><span class="line">    --secondary-color: #f0f2f5;</span><br><span class="line">    --success-color: #52c41a;</span><br><span class="line">    --warning-color: #faad14;</span><br><span class="line">    --error-color: #f5222d;</span><br><span class="line">    --text-primary: #262626;</span><br><span class="line">    --text-secondary: #595959;</span><br><span class="line">    --text-tertiary: #8c8c8c;</span><br><span class="line">    --border-color: #d9d9d9;</span><br><span class="line">    --background-color: #ffffff;</span><br><span class="line">    --sidebar-bg: #fafafa;</span><br><span class="line">    --card-bg: #ffffff;</span><br><span class="line">    --hover-color: #f5f5f5;</span><br><span class="line">    --shadow-color: rgba(0, 0, 0, 0.1);</span><br><span class="line">    </span><br><span class="line">    /* 间距 */</span><br><span class="line">    --space-xs: 4px;</span><br><span class="line">    --space-sm: 8px;</span><br><span class="line">    --space-md: 16px;</span><br><span class="line">    --space-lg: 24px;</span><br><span class="line">    --space-xl: 32px;</span><br><span class="line">    </span><br><span class="line">    /* 圆角 */</span><br><span class="line">    --radius-sm: 4px;</span><br><span class="line">    --radius-md: 8px;</span><br><span class="line">    --radius-lg: 12px;</span><br><span class="line">    </span><br><span class="line">    /* 过渡动画 */</span><br><span class="line">    --transition-fast: 0.15s ease;</span><br><span class="line">    --transition-normal: 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] &#123;</span><br><span class="line">    --primary-color: #177ddc;</span><br><span class="line">    --primary-dark: #0958d9;</span><br><span class="line">    --secondary-color: #1f1f1f;</span><br><span class="line">    --text-primary: #e6e6e6;</span><br><span class="line">    --text-secondary: #a6a6a6;</span><br><span class="line">    --text-tertiary: #666666;</span><br><span class="line">    --border-color: #434343;</span><br><span class="line">    --background-color: #141414;</span><br><span class="line">    --sidebar-bg: #1f1f1f;</span><br><span class="line">    --card-bg: #262626;</span><br><span class="line">    --hover-color: #333333;</span><br><span class="line">    --shadow-color: rgba(0, 0, 0, 0.3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">* &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">    font-family: &#x27;Inter&#x27;, -apple-system, BlinkMacSystemFont, &#x27;Segoe UI&#x27;, Roboto, sans-serif;</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    line-height: 1.6;</span><br><span class="line">    transition: background-color var(--transition-normal);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 导航栏样式 */</span><br><span class="line">.navbar &#123;</span><br><span class="line">    height: 64px;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">    position: sticky;</span><br><span class="line">    top: 0;</span><br><span class="line">    z-index: 100;</span><br><span class="line">    transition: all var(--transition-normal);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-container &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    height: 100%;</span><br><span class="line">    padding: 0 var(--space-lg);</span><br><span class="line">    max-width: 1400px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-brand &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-brand i &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-search &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    max-width: 600px;</span><br><span class="line">    margin: 0 var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    background-color: var(--secondary-color);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    padding: var(--space-xs) var(--space-md);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box i &#123;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box input &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    border: none;</span><br><span class="line">    background: transparent;</span><br><span class="line">    padding: var(--space-sm);</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    outline: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box button &#123;</span><br><span class="line">    background: none;</span><br><span class="line">    border: none;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    padding: var(--space-xs);</span><br><span class="line">    border-radius: var(--radius-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box button:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-actions &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.icon-btn &#123;</span><br><span class="line">    width: 36px;</span><br><span class="line">    height: 36px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    border: none;</span><br><span class="line">    background: none;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    transition: all var(--transition-fast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.icon-btn:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-menu &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    padding: var(--space-xs) var(--space-sm);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: background-color var(--transition-fast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-menu:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-avatar &#123;</span><br><span class="line">    width: 32px;</span><br><span class="line">    height: 32px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.username &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 高级搜索面板 */</span><br><span class="line">.advanced-search-panel &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">    box-shadow: 0 2px 8px var(--shadow-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-filters &#123;</span><br><span class="line">    max-width: 1200px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));</span><br><span class="line">    gap: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-group &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-group label &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-options &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-options label &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.date-filters &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.date-filters select,</span><br><span class="line">.date-filters input &#123;</span><br><span class="line">    padding: var(--space-sm);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: var(--radius-sm);</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-actions &#123;</span><br><span class="line">    grid-column: 1 / -1;</span><br><span class="line">    display: flex;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    justify-content: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 主布局 */</span><br><span class="line">.main-container &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    height: calc(100vh - 64px);</span><br><span class="line">    max-width: 1400px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 侧边栏 */</span><br><span class="line">.sidebar &#123;</span><br><span class="line">    width: 280px;</span><br><span class="line">    background-color: var(--sidebar-bg);</span><br><span class="line">    border-right: 1px solid var(--border-color);</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">    transition: all var(--transition-normal);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-section &#123;</span><br><span class="line">    margin-bottom: var(--space-xl);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-section h3 &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    margin-bottom: var(--space-md);</span><br><span class="line">    text-transform: uppercase;</span><br><span class="line">    letter-spacing: 0.5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: var(--space-md);</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    margin-bottom: var(--space-sm);</span><br><span class="line">    transition: all var(--transition-fast);</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn.primary &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn.primary:hover &#123;</span><br><span class="line">    background-color: var(--primary-dark);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.view-options &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.view-btn &#123;</span><br><span class="line">    padding: var(--space-sm) var(--space-md);</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    background: none;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    transition: all var(--transition-fast);</span><br><span class="line">    text-align: left;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.view-btn:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.view-btn.active &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.categories &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-item &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    padding: var(--space-sm) var(--space-md);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: background-color var(--transition-fast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-item:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-color &#123;</span><br><span class="line">    width: 12px;</span><br><span class="line">    height: 12px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-count &#123;</span><br><span class="line">    margin-left: auto;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">    background-color: var(--secondary-color);</span><br><span class="line">    padding: 2px 6px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.smart-filters &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.smart-filter &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    padding: var(--space-sm) var(--space-md);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: background-color var(--transition-fast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.smart-filter:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-count &#123;</span><br><span class="line">    margin-left: auto;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stats &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(3, 1fr);</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stat-item &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    padding: var(--space-md);</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stat-value &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stat-label &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">    margin-top: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 主要内容区域 */</span><br><span class="line">.content &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-toolbar &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    align-items: center;</span><br><span class="line">    margin-bottom: var(--space-lg);</span><br><span class="line">    padding-bottom: var(--space-md);</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.toolbar-left &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.toolbar-left h2 &#123;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sort-options &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sort-options select &#123;</span><br><span class="line">    padding: var(--space-xs) var(--space-sm);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: var(--radius-sm);</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.toolbar-right &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.view-controls &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.display-density &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    background-color: var(--secondary-color);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    padding: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.density-btn &#123;</span><br><span class="line">    width: 32px;</span><br><span class="line">    height: 32px;</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: var(--radius-sm);</span><br><span class="line">    background: none;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.density-btn:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.density-btn.active &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 任务列表 */</span><br><span class="line">.tasks-container &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tasks-list &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.empty-state &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    padding: var(--space-xl) var(--space-lg);</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.empty-state i &#123;</span><br><span class="line">    font-size: 64px;</span><br><span class="line">    color: var(--border-color);</span><br><span class="line">    margin-bottom: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.empty-state h3 &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    margin-bottom: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.empty-state p &#123;</span><br><span class="line">    margin-bottom: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 任务卡片 */</span><br><span class="line">.task-card &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    padding: var(--space-md);</span><br><span class="line">    transition: all var(--transition-fast);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-card:hover &#123;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">    box-shadow: 0 4px 12px var(--shadow-color);</span><br><span class="line">    transform: translateY(-2px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-card-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: flex-start;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    margin-bottom: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-checkbox &#123;</span><br><span class="line">    width: 18px;</span><br><span class="line">    height: 18px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    border: 2px solid var(--border-color);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-checkbox.checked &#123;</span><br><span class="line">    background-color: var(--success-color);</span><br><span class="line">    border-color: var(--success-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-title &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    margin: 0 var(--space-md);</span><br><span class="line">    font-weight: 500;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-title.completed &#123;</span><br><span class="line">    text-decoration: line-through;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-priority &#123;</span><br><span class="line">    width: 8px;</span><br><span class="line">    height: 8px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-dot.low &#123; background-color: #52c41a; &#125;</span><br><span class="line">.priority-dot.medium &#123; background-color: #faad14; &#125;</span><br><span class="line">.priority-dot.high &#123; background-color: #f5222d; &#125;</span><br><span class="line">.priority-dot.urgent &#123; background-color: #722ed1; &#125;</span><br><span class="line"></span><br><span class="line">.task-meta &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">    margin-top: var(--space-sm);</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-due &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-due.overdue &#123;</span><br><span class="line">    color: var(--error-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-categories &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-category &#123;</span><br><span class="line">    padding: 2px 6px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    font-size: 11px;</span><br><span class="line">    background-color: var(--secondary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-actions &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: var(--space-md);</span><br><span class="line">    right: var(--space-md);</span><br><span class="line">    display: none;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-card:hover .task-actions &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 看板视图 */</span><br><span class="line">.board-view &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(3, 1fr);</span><br><span class="line">    gap: var(--space-lg);</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.board-column &#123;</span><br><span class="line">    background-color: var(--sidebar-bg);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    padding: var(--space-md);</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.column-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    margin-bottom: var(--space-md);</span><br><span class="line">    padding-bottom: var(--space-sm);</span><br><span class="line">    border-bottom: 2px solid var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.column-content &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">    min-height: 400px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 日历视图 */</span><br><span class="line">.calendar-view &#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.calendar-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    margin-bottom: var(--space-lg);</span><br><span class="line">    padding: var(--space-md);</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.calendar-grid &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(7, 1fr);</span><br><span class="line">    grid-template-rows: auto repeat(6, 1fr);</span><br><span class="line">    gap: 1px;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.calendar-day-header &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    padding: var(--space-sm);</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.calendar-day &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    padding: var(--space-sm);</span><br><span class="line">    min-height: 100px;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.calendar-day:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.calendar-day-number &#123;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    margin-bottom: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.calendar-day.today .calendar-day-number &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">    width: 24px;</span><br><span class="line">    height: 24px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 任务详情面板 */</span><br><span class="line">.task-detail-panel &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 64px;</span><br><span class="line">    right: 0;</span><br><span class="line">    width: 400px;</span><br><span class="line">    height: calc(100vh - 64px);</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-left: 1px solid var(--border-color);</span><br><span class="line">    box-shadow: -2px 0 8px var(--shadow-color);</span><br><span class="line">    z-index: 99;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.panel-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.panel-content &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 模态框 */</span><br><span class="line">.modal &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: rgba(0, 0, 0, 0.5);</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    z-index: 1000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal.hidden &#123;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-content &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-radius: var(--radius-lg);</span><br><span class="line">    width: 90%;</span><br><span class="line">    max-width: 600px;</span><br><span class="line">    max-height: 90vh;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    animation: modalSlideIn 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes modalSlideIn &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        opacity: 0;</span><br><span class="line">        transform: translateY(-20px);</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        opacity: 1;</span><br><span class="line">        transform: translateY(0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-body &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 表单样式 */</span><br><span class="line">.form-group &#123;</span><br><span class="line">    margin-bottom: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-group label &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    margin-bottom: var(--space-xs);</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-group input,</span><br><span class="line">.form-group textarea,</span><br><span class="line">.form-group select &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: var(--space-sm);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: var(--radius-sm);</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    font-family: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-group input:focus,</span><br><span class="line">.form-group textarea:focus,</span><br><span class="line">.form-group select:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-row &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(2, 1fr);</span><br><span class="line">    gap: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-options &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-option &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-xs);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    padding: var(--space-sm);</span><br><span class="line">    border-radius: var(--radius-sm);</span><br><span class="line">    transition: background-color var(--transition-fast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-option:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-dot &#123;</span><br><span class="line">    width: 12px;</span><br><span class="line">    height: 12px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tags &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tag &#123;</span><br><span class="line">    padding: 4px 8px;</span><br><span class="line">    background-color: var(--secondary-color);</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: all var(--transition-fast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tag:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tag.selected &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.file-upload &#123;</span><br><span class="line">    border: 2px dashed var(--border-color);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    padding: var(--space-lg);</span><br><span class="line">    text-align: center;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.file-upload:hover &#123;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.upload-area &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.upload-area i &#123;</span><br><span class="line">    font-size: 32px;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.file-list &#123;</span><br><span class="line">    margin-top: var(--space-md);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.file-item &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    padding: var(--space-sm);</span><br><span class="line">    background-color: var(--secondary-color);</span><br><span class="line">    border-radius: var(--radius-sm);</span><br><span class="line">    margin-bottom: var(--space-xs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-actions &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: flex-end;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    margin-top: var(--space-xl);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 按钮样式 */</span><br><span class="line">.btn &#123;</span><br><span class="line">    padding: var(--space-sm) var(--space-lg);</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: all var(--transition-fast);</span><br><span class="line">    display: inline-flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-primary &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-primary:hover &#123;</span><br><span class="line">    background-color: var(--primary-dark);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-secondary &#123;</span><br><span class="line">    background-color: var(--secondary-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-secondary:hover &#123;</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-text &#123;</span><br><span class="line">    background: none;</span><br><span class="line">    border: none;</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-text:hover &#123;</span><br><span class="line">    text-decoration: underline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 导出模态框特定样式 */</span><br><span class="line">.export-modal &#123;</span><br><span class="line">    max-width: 500px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-options &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">    margin-bottom: var(--space-lg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-option &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">    padding: var(--space-md);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: all var(--transition-fast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-option:hover &#123;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">    background-color: var(--hover-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-option input &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-option label &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    flex: 1;</span><br><span class="line">    margin: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-option i &#123;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-option h4 &#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    margin-bottom: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.export-option p &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 通知 */</span><br><span class="line">.notification-container &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    bottom: var(--space-lg);</span><br><span class="line">    right: var(--space-lg);</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">    z-index: 1001;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: var(--radius-md);</span><br><span class="line">    padding: var(--space-md);</span><br><span class="line">    box-shadow: 0 4px 12px var(--shadow-color);</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: var(--space-md);</span><br><span class="line">    min-width: 300px;</span><br><span class="line">    animation: notificationSlideIn 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes notificationSlideIn &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        opacity: 0;</span><br><span class="line">        transform: translateX(100%);</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        opacity: 1;</span><br><span class="line">        transform: translateX(0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification.success &#123;</span><br><span class="line">    border-left: 4px solid var(--success-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification.error &#123;</span><br><span class="line">    border-left: 4px solid var(--error-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification.warning &#123;</span><br><span class="line">    border-left: 4px solid var(--warning-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification-content &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification-title &#123;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    margin-bottom: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification-message &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 实用类 */</span><br><span class="line">.hidden &#123;</span><br><span class="line">    display: none !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text-sm &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text-muted &#123;</span><br><span class="line">    color: var(--text-tertiary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.flex &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.items-center &#123;</span><br><span class="line">    align-items: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.justify-between &#123;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.gap-2 &#123;</span><br><span class="line">    gap: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mt-2 &#123;</span><br><span class="line">    margin-top: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mb-2 &#123;</span><br><span class="line">    margin-bottom: var(--space-sm);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 响应式设计 */</span><br><span class="line">@media (max-width: 1024px) &#123;</span><br><span class="line">    .sidebar &#123;</span><br><span class="line">        width: 240px;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .board-view &#123;</span><br><span class="line">        grid-template-columns: repeat(2, 1fr);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .task-detail-panel &#123;</span><br><span class="line">        width: 350px;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media (max-width: 768px) &#123;</span><br><span class="line">    .main-container &#123;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .sidebar &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: auto;</span><br><span class="line">        max-height: 300px;</span><br><span class="line">        overflow-y: auto;</span><br><span class="line">        border-right: none;</span><br><span class="line">        border-bottom: 1px solid var(--border-color);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .nav-container &#123;</span><br><span class="line">        padding: 0 var(--space-md);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .nav-search &#123;</span><br><span class="line">        display: none;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .form-row &#123;</span><br><span class="line">        grid-template-columns: 1fr;</span><br><span class="line">        gap: var(--space-md);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .board-view &#123;</span><br><span class="line">        grid-template-columns: 1fr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .task-detail-panel &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 70vh;</span><br><span class="line">        top: auto;</span><br><span class="line">        bottom: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .calendar-grid &#123;</span><br><span class="line">        grid-template-rows: auto repeat(5, 1fr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media (max-width: 480px) &#123;</span><br><span class="line">    .nav-actions .username &#123;</span><br><span class="line">        display: none;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .toolbar-left &#123;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        align-items: flex-start;</span><br><span class="line">        gap: var(--space-sm);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .sort-options &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .stats &#123;</span><br><span class="line">        grid-template-columns: repeat(2, 1fr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-主JavaScript文件-script-js"><a href="#3-主JavaScript文件-script-js" class="headerlink" title="3. 主JavaScript文件 (script.js)"></a>3. 主JavaScript文件 (script.js)</h2><p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br></pre></td><td class="code"><pre><span class="line">// script.js - 主JavaScript文件</span><br><span class="line">// 使用模块化方式组织代码</span><br><span class="line"></span><br><span class="line">// 导入组件和工具</span><br><span class="line">import &#123; showNotification &#125; from &#x27;./utils/notification.js&#x27;;</span><br><span class="line">import &#123; saveTasks, loadTasks &#125; from &#x27;./utils/storage.js&#x27;;</span><br><span class="line">import &#123; exportToExcel, exportToJSON, exportToText &#125; from &#x27;./utils/export.js&#x27;;</span><br><span class="line">import TaskModal from &#x27;./components/task-modal.js&#x27;;</span><br><span class="line">import TaskCard from &#x27;./components/task-card.js&#x27;;</span><br><span class="line"></span><br><span class="line">// 应用状态管理</span><br><span class="line">class TodoApp &#123;</span><br><span class="line">    constructor() &#123;</span><br><span class="line">        this.tasks = [];</span><br><span class="line">        this.currentView = &#x27;list&#x27;;</span><br><span class="line">        this.currentFilter = &#x27;all&#x27;;</span><br><span class="line">        this.sortOrder = &#x27;created-desc&#x27;;</span><br><span class="line">        this.showCompleted = true;</span><br><span class="line">        this.selectedTaskId = null;</span><br><span class="line">        </span><br><span class="line">        // 初始化</span><br><span class="line">        this.init();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    init() &#123;</span><br><span class="line">        // 加载数据</span><br><span class="line">        this.loadData();</span><br><span class="line">        </span><br><span class="line">        // 设置事件监听器</span><br><span class="line">        this.setupEventListeners();</span><br><span class="line">        </span><br><span class="line">        // 渲染初始视图</span><br><span class="line">        this.render();</span><br><span class="line">        </span><br><span class="line">        // 初始化主题</span><br><span class="line">        this.initTheme();</span><br><span class="line">        </span><br><span class="line">        // 显示欢迎通知</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            showNotification(&#x27;欢迎使用智能待办清单！&#x27;, &#x27;success&#x27;);</span><br><span class="line">        &#125;, 1000);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    loadData() &#123;</span><br><span class="line">        const savedTasks = loadTasks();</span><br><span class="line">        if (savedTasks &amp;&amp; savedTasks.length &gt; 0) &#123;</span><br><span class="line">            this.tasks = savedTasks;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // 加载示例数据</span><br><span class="line">            this.loadSampleData();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    loadSampleData() &#123;</span><br><span class="line">        this.tasks = [</span><br><span class="line">            &#123;</span><br><span class="line">                id: 1,</span><br><span class="line">                title: &#x27;完成项目需求文档&#x27;,</span><br><span class="line">                description: &#x27;编写详细的用户故事和功能规格说明&#x27;,</span><br><span class="line">                status: &#x27;todo&#x27;,</span><br><span class="line">                priority: &#x27;high&#x27;,</span><br><span class="line">                categories: [&#x27;work&#x27;],</span><br><span class="line">                dueDate: new Date(Date.now() + 86400000 * 2).toISOString().split(&#x27;T&#x27;)[0],</span><br><span class="line">                estimatedTime: 120,</span><br><span class="line">                createdAt: new Date().toISOString(),</span><br><span class="line">                completed: false</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                id: 2,</span><br><span class="line">                title: &#x27;购买周末食材&#x27;,</span><br><span class="line">                description: &#x27;鸡蛋、牛奶、面包、水果、蔬菜&#x27;,</span><br><span class="line">                status: &#x27;todo&#x27;,</span><br><span class="line">                priority: &#x27;medium&#x27;,</span><br><span class="line">                categories: [&#x27;shopping&#x27;],</span><br><span class="line">                dueDate: new Date().toISOString().split(&#x27;T&#x27;)[0],</span><br><span class="line">                estimatedTime: 45,</span><br><span class="line">                createdAt: new Date().toISOString(),</span><br><span class="line">                completed: false</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                id: 3,</span><br><span class="line">                title: &#x27;学习React Hooks&#x27;,</span><br><span class="line">                description: &#x27;完成React官方文档中Hooks章节的学习&#x27;,</span><br><span class="line">                status: &#x27;in-progress&#x27;,</span><br><span class="line">                priority: &#x27;high&#x27;,</span><br><span class="line">                categories: [&#x27;learning&#x27;],</span><br><span class="line">                dueDate: new Date(Date.now() + 86400000 * 5).toISOString().split(&#x27;T&#x27;)[0],</span><br><span class="line">                estimatedTime: 180,</span><br><span class="line">                createdAt: new Date(Date.now() - 86400000).toISOString(),</span><br><span class="line">                completed: false</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                id: 4,</span><br><span class="line">                title: &#x27;整理工作台&#x27;,</span><br><span class="line">                description: &#x27;清理桌面，整理文件，优化工作空间&#x27;,</span><br><span class="line">                status: &#x27;done&#x27;,</span><br><span class="line">                priority: &#x27;low&#x27;,</span><br><span class="line">                categories: [&#x27;personal&#x27;],</span><br><span class="line">                dueDate: new Date(Date.now() - 86400000).toISOString().split(&#x27;T&#x27;)[0],</span><br><span class="line">                estimatedTime: 60,</span><br><span class="line">                createdAt: new Date(Date.now() - 86400000 * 3).toISOString(),</span><br><span class="line">                completed: true,</span><br><span class="line">                completedAt: new Date(Date.now() - 86400000).toISOString()</span><br><span class="line">            &#125;</span><br><span class="line">        ];</span><br><span class="line">        this.saveData();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    saveData() &#123;</span><br><span class="line">        saveTasks(this.tasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    setupEventListeners() &#123;</span><br><span class="line">        // 主题切换</span><br><span class="line">        document.getElementById(&#x27;themeToggle&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.toggleTheme());</span><br><span class="line">        </span><br><span class="line">        // 新建任务</span><br><span class="line">        document.getElementById(&#x27;newTaskBtn&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.openTaskModal());</span><br><span class="line">        document.getElementById(&#x27;createFirstTask&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.openTaskModal());</span><br><span class="line">        </span><br><span class="line">        // 视图切换</span><br><span class="line">        document.querySelectorAll(&#x27;.view-btn&#x27;).forEach(btn =&gt; &#123;</span><br><span class="line">            btn.addEventListener(&#x27;click&#x27;, (e) =&gt; this.switchView(e.target.dataset.view));</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 分类筛选</span><br><span class="line">        document.querySelectorAll(&#x27;.category-item&#x27;).forEach(item =&gt; &#123;</span><br><span class="line">            if (item.dataset.category) &#123;</span><br><span class="line">                item.addEventListener(&#x27;click&#x27;, () =&gt; this.filterByCategory(item.dataset.category));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 智能筛选</span><br><span class="line">        document.querySelectorAll(&#x27;.smart-filter&#x27;).forEach(filter =&gt; &#123;</span><br><span class="line">            filter.addEventListener(&#x27;click&#x27;, () =&gt; this.applySmartFilter(filter.dataset.filter));</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 搜索</span><br><span class="line">        document.getElementById(&#x27;searchInput&#x27;).addEventListener(&#x27;input&#x27;, (e) =&gt; this.searchTasks(e.target.value));</span><br><span class="line">        document.getElementById(&#x27;advancedSearchBtn&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.toggleAdvancedSearch());</span><br><span class="line">        document.getElementById(&#x27;applyFilters&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.applyAdvancedFilters());</span><br><span class="line">        document.getElementById(&#x27;clearFilters&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.clearFilters());</span><br><span class="line">        </span><br><span class="line">        // 排序</span><br><span class="line">        document.getElementById(&#x27;sortSelect&#x27;).addEventListener(&#x27;change&#x27;, (e) =&gt; &#123;</span><br><span class="line">            this.sortOrder = e.target.value;</span><br><span class="line">            this.render();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 显示/隐藏已完成</span><br><span class="line">        document.getElementById(&#x27;toggleCompleted&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.showCompleted = !this.showCompleted;</span><br><span class="line">            this.render();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 导出/导入</span><br><span class="line">        document.getElementById(&#x27;exportBtn&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.showExportModal());</span><br><span class="line">        document.getElementById(&#x27;importBtn&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; document.getElementById(&#x27;importFile&#x27;).click());</span><br><span class="line">        document.getElementById(&#x27;importFile&#x27;).addEventListener(&#x27;change&#x27;, (e) =&gt; this.importData(e.target.files[0]));</span><br><span class="line">        </span><br><span class="line">        // 任务详情面板关闭</span><br><span class="line">        document.getElementById(&#x27;closeDetailPanel&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; this.closeTaskDetail());</span><br><span class="line">        </span><br><span class="line">        // 键盘快捷键</span><br><span class="line">        document.addEventListener(&#x27;keydown&#x27;, (e) =&gt; this.handleKeyboardShortcuts(e));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    initTheme() &#123;</span><br><span class="line">        const savedTheme = localStorage.getItem(&#x27;theme&#x27;) || &#x27;light&#x27;;</span><br><span class="line">        document.documentElement.setAttribute(&#x27;data-theme&#x27;, savedTheme);</span><br><span class="line">        this.updateThemeIcon(savedTheme);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    toggleTheme() &#123;</span><br><span class="line">        const currentTheme = document.documentElement.getAttribute(&#x27;data-theme&#x27;);</span><br><span class="line">        const newTheme = currentTheme === &#x27;dark&#x27; ? &#x27;light&#x27; : &#x27;dark&#x27;;</span><br><span class="line">        </span><br><span class="line">        document.documentElement.setAttribute(&#x27;data-theme&#x27;, newTheme);</span><br><span class="line">        localStorage.setItem(&#x27;theme&#x27;, newTheme);</span><br><span class="line">        this.updateThemeIcon(newTheme);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    updateThemeIcon(theme) &#123;</span><br><span class="line">        const icon = document.querySelector(&#x27;#themeToggle i&#x27;);</span><br><span class="line">        icon.className = theme === &#x27;dark&#x27; ? &#x27;fas fa-sun&#x27; : &#x27;fas fa-moon&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    openTaskModal(task = null) &#123;</span><br><span class="line">        const modal = new TaskModal();</span><br><span class="line">        modal.open(task, (taskData) =&gt; &#123;</span><br><span class="line">            if (taskData.id) &#123;</span><br><span class="line">                this.updateTask(taskData);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                this.addTask(taskData);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    addTask(taskData) &#123;</span><br><span class="line">        const newTask = &#123;</span><br><span class="line">            ...taskData,</span><br><span class="line">            id: Date.now(),</span><br><span class="line">            createdAt: new Date().toISOString(),</span><br><span class="line">            completed: false</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        this.tasks.unshift(newTask);</span><br><span class="line">        this.saveData();</span><br><span class="line">        this.render();</span><br><span class="line">        </span><br><span class="line">        showNotification(&#x27;任务创建成功！&#x27;, &#x27;success&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    updateTask(taskData) &#123;</span><br><span class="line">        const index = this.tasks.findIndex(task =&gt; task.id === taskData.id);</span><br><span class="line">        if (index !== -1) &#123;</span><br><span class="line">            this.tasks[index] = &#123; ...this.tasks[index], ...taskData &#125;;</span><br><span class="line">            this.saveData();</span><br><span class="line">            this.render();</span><br><span class="line">            </span><br><span class="line">            showNotification(&#x27;任务更新成功！&#x27;, &#x27;success&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deleteTask(taskId) &#123;</span><br><span class="line">        if (confirm(&#x27;确定要删除这个任务吗？&#x27;)) &#123;</span><br><span class="line">            this.tasks = this.tasks.filter(task =&gt; task.id !== taskId);</span><br><span class="line">            this.saveData();</span><br><span class="line">            this.render();</span><br><span class="line">            </span><br><span class="line">            showNotification(&#x27;任务已删除&#x27;, &#x27;success&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    toggleTaskComplete(taskId) &#123;</span><br><span class="line">        const task = this.tasks.find(t =&gt; t.id === taskId);</span><br><span class="line">        if (task) &#123;</span><br><span class="line">            task.completed = !task.completed;</span><br><span class="line">            task.completedAt = task.completed ? new Date().toISOString() : null;</span><br><span class="line">            this.saveData();</span><br><span class="line">            this.render();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    switchView(view) &#123;</span><br><span class="line">        this.currentView = view;</span><br><span class="line">        </span><br><span class="line">        // 更新按钮状态</span><br><span class="line">        document.querySelectorAll(&#x27;.view-btn&#x27;).forEach(btn =&gt; &#123;</span><br><span class="line">            btn.classList.toggle(&#x27;active&#x27;, btn.dataset.view === view);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 更新标题</span><br><span class="line">        const titles = &#123;</span><br><span class="line">            &#x27;list&#x27;: &#x27;所有任务&#x27;,</span><br><span class="line">            &#x27;board&#x27;: &#x27;看板视图&#x27;,</span><br><span class="line">            &#x27;calendar&#x27;: &#x27;日历视图&#x27;,</span><br><span class="line">            &#x27;gantt&#x27;: &#x27;甘特图&#x27;</span><br><span class="line">        &#125;;</span><br><span class="line">        document.getElementById(&#x27;viewTitle&#x27;).textContent = titles[view] || &#x27;所有任务&#x27;;</span><br><span class="line">        </span><br><span class="line">        // 显示对应的视图</span><br><span class="line">        this.showView(view);</span><br><span class="line">        </span><br><span class="line">        this.render();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    showView(view) &#123;</span><br><span class="line">        // 隐藏所有视图</span><br><span class="line">        document.getElementById(&#x27;tasksList&#x27;).classList.add(&#x27;hidden&#x27;);</span><br><span class="line">        document.getElementById(&#x27;boardView&#x27;).classList.add(&#x27;hidden&#x27;);</span><br><span class="line">        document.getElementById(&#x27;calendarView&#x27;).classList.add(&#x27;hidden&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 显示选中的视图</span><br><span class="line">        switch(view) &#123;</span><br><span class="line">            case &#x27;list&#x27;:</span><br><span class="line">                document.getElementById(&#x27;tasksList&#x27;).classList.remove(&#x27;hidden&#x27;);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;board&#x27;:</span><br><span class="line">                document.getElementById(&#x27;boardView&#x27;).classList.remove(&#x27;hidden&#x27;);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;calendar&#x27;:</span><br><span class="line">                document.getElementById(&#x27;calendarView&#x27;).classList.remove(&#x27;hidden&#x27;);</span><br><span class="line">                this.renderCalendar();</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    filterByCategory(category) &#123;</span><br><span class="line">        this.currentFilter = category;</span><br><span class="line">        this.render();</span><br><span class="line">        </span><br><span class="line">        // 更新UI状态</span><br><span class="line">        document.querySelectorAll(&#x27;.category-item&#x27;).forEach(item =&gt; &#123;</span><br><span class="line">            const isActive = item.dataset.category === category;</span><br><span class="line">            item.style.backgroundColor = isActive ? &#x27;var(--hover-color)&#x27; : &#x27;&#x27;;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    applySmartFilter(filter) &#123;</span><br><span class="line">        switch(filter) &#123;</span><br><span class="line">            case &#x27;today&#x27;:</span><br><span class="line">                this.filterTasksByDate(&#x27;today&#x27;);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;priority&#x27;:</span><br><span class="line">                this.filterTasksByPriority();</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;overdue&#x27;:</span><br><span class="line">                this.filterOverdueTasks();</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;no-date&#x27;:</span><br><span class="line">                this.filterTasksWithoutDate();</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    filterTasksByDate(range) &#123;</span><br><span class="line">        const today = new Date();</span><br><span class="line">        today.setHours(0, 0, 0, 0);</span><br><span class="line">        </span><br><span class="line">        let filteredTasks;</span><br><span class="line">        </span><br><span class="line">        switch(range) &#123;</span><br><span class="line">            case &#x27;today&#x27;:</span><br><span class="line">                filteredTasks = this.tasks.filter(task =&gt; &#123;</span><br><span class="line">                    if (!task.dueDate) return false;</span><br><span class="line">                    const dueDate = new Date(task.dueDate);</span><br><span class="line">                    return dueDate.toDateString() === today.toDateString();</span><br><span class="line">                &#125;);</span><br><span class="line">                break;</span><br><span class="line">            // 其他日期范围处理</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        this.renderFilteredTasks(filteredTasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    filterTasksByPriority() &#123;</span><br><span class="line">        const filteredTasks = this.tasks.filter(task =&gt; </span><br><span class="line">            task.priority === &#x27;high&#x27; || task.priority === &#x27;urgent&#x27;</span><br><span class="line">        );</span><br><span class="line">        this.renderFilteredTasks(filteredTasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    filterOverdueTasks() &#123;</span><br><span class="line">        const today = new Date().toISOString().split(&#x27;T&#x27;)[0];</span><br><span class="line">        const filteredTasks = this.tasks.filter(task =&gt; </span><br><span class="line">            task.dueDate &amp;&amp; task.dueDate &lt; today &amp;&amp; !task.completed</span><br><span class="line">        );</span><br><span class="line">        this.renderFilteredTasks(filteredTasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    filterTasksWithoutDate() &#123;</span><br><span class="line">        const filteredTasks = this.tasks.filter(task =&gt; !task.dueDate);</span><br><span class="line">        this.renderFilteredTasks(filteredTasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    renderFilteredTasks(tasks) &#123;</span><br><span class="line">        // 临时显示筛选结果</span><br><span class="line">        this.renderTasks(tasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    searchTasks(query) &#123;</span><br><span class="line">        if (!query.trim()) &#123;</span><br><span class="line">            this.render();</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        const filteredTasks = this.tasks.filter(task =&gt; </span><br><span class="line">            task.title.toLowerCase().includes(query.toLowerCase()) ||</span><br><span class="line">            (task.description &amp;&amp; task.description.toLowerCase().includes(query.toLowerCase()))</span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">        this.renderTasks(filteredTasks);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    toggleAdvancedSearch() &#123;</span><br><span class="line">        const panel = document.getElementById(&#x27;advancedSearchPanel&#x27;);</span><br><span class="line">        panel.classList.toggle(&#x27;hidden&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    applyAdvancedFilters() &#123;</span><br><span class="line">        // 收集筛选条件</span><br><span class="line">        const filters = &#123;</span><br><span class="line">            status: Array.from(document.querySelectorAll(&#x27;input[name=&quot;status&quot;]:checked&#x27;))</span><br><span class="line">                .map(input =&gt; input.value),</span><br><span class="line">            priority: Array.from(document.querySelectorAll(&#x27;input[name=&quot;priority&quot;]:checked&#x27;))</span><br><span class="line">                .map(input =&gt; input.value),</span><br><span class="line">            dateFilter: document.getElementById(&#x27;dateFilter&#x27;).value,</span><br><span class="line">            categories: Array.from(document.getElementById(&#x27;categoryFilter&#x27;).selectedOptions)</span><br><span class="line">                .map(option =&gt; option.value)</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        // 应用筛选</span><br><span class="line">        let filteredTasks = this.tasks;</span><br><span class="line">        </span><br><span class="line">        if (filters.status.length &gt; 0) &#123;</span><br><span class="line">            filteredTasks = filteredTasks.filter(task =&gt; </span><br><span class="line">                filters.status.includes(task.status)</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if (filters.priority.length &gt; 0) &#123;</span><br><span class="line">            filteredTasks = filteredTasks.filter(task =&gt; </span><br><span class="line">                filters.priority.includes(task.priority)</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 日期筛选逻辑</span><br><span class="line">        if (filters.dateFilter !== &#x27;all&#x27;) &#123;</span><br><span class="line">            filteredTasks = this.filterByDateRange(filteredTasks, filters.dateFilter);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 分类筛选</span><br><span class="line">        if (filters.categories.length &gt; 0) &#123;</span><br><span class="line">            filteredTasks = filteredTasks.filter(task =&gt; </span><br><span class="line">                task.categories &amp;&amp; task.categories.some(cat =&gt; filters.categories.includes(cat))</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        this.renderTasks(filteredTasks);</span><br><span class="line">        this.toggleAdvancedSearch();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    filterByDateRange(tasks, range) &#123;</span><br><span class="line">        const today = new Date();</span><br><span class="line">        today.setHours(0, 0, 0, 0);</span><br><span class="line">        </span><br><span class="line">        switch(range) &#123;</span><br><span class="line">            case &#x27;today&#x27;:</span><br><span class="line">                return tasks.filter(task =&gt; &#123;</span><br><span class="line">                    if (!task.dueDate) return false;</span><br><span class="line">                    const dueDate = new Date(task.dueDate);</span><br><span class="line">                    return dueDate.toDateString() === today.toDateString();</span><br><span class="line">                &#125;);</span><br><span class="line">            case &#x27;tomorrow&#x27;:</span><br><span class="line">                const tomorrow = new Date(today);</span><br><span class="line">                tomorrow.setDate(tomorrow.getDate() + 1);</span><br><span class="line">                return tasks.filter(task =&gt; &#123;</span><br><span class="line">                    if (!task.dueDate) return false;</span><br><span class="line">                    const dueDate = new Date(task.dueDate);</span><br><span class="line">                    return dueDate.toDateString() === tomorrow.toDateString();</span><br><span class="line">                &#125;);</span><br><span class="line">            case &#x27;overdue&#x27;:</span><br><span class="line">                return tasks.filter(task =&gt; </span><br><span class="line">                    task.dueDate &amp;&amp; new Date(task.dueDate) &lt; today &amp;&amp; !task.completed</span><br><span class="line">                );</span><br><span class="line">            default:</span><br><span class="line">                return tasks;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    clearFilters() &#123;</span><br><span class="line">        // 重置所有筛选控件</span><br><span class="line">        document.querySelectorAll(&#x27;input[type=&quot;checkbox&quot;]&#x27;).forEach(cb =&gt; cb.checked = true);</span><br><span class="line">        document.getElementById(&#x27;dateFilter&#x27;).value = &#x27;all&#x27;;</span><br><span class="line">        document.getElementById(&#x27;categoryFilter&#x27;).selectedIndex = -1;</span><br><span class="line">        </span><br><span class="line">        this.render();</span><br><span class="line">        this.toggleAdvancedSearch();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    sortTasks(tasks) &#123;</span><br><span class="line">        const sorted = [...tasks];</span><br><span class="line">        </span><br><span class="line">        switch(this.sortOrder) &#123;</span><br><span class="line">            case &#x27;created-desc&#x27;:</span><br><span class="line">                return sorted.sort((a, b) =&gt; </span><br><span class="line">                    new Date(b.createdAt) - new Date(a.createdAt)</span><br><span class="line">                );</span><br><span class="line">            case &#x27;created-asc&#x27;:</span><br><span class="line">                return sorted.sort((a, b) =&gt; </span><br><span class="line">                    new Date(a.createdAt) - new Date(b.createdAt)</span><br><span class="line">                );</span><br><span class="line">            case &#x27;due-date&#x27;:</span><br><span class="line">                return sorted.sort((a, b) =&gt; &#123;</span><br><span class="line">                    if (!a.dueDate &amp;&amp; !b.dueDate) return 0;</span><br><span class="line">                    if (!a.dueDate) return 1;</span><br><span class="line">                    if (!b.dueDate) return -1;</span><br><span class="line">                    return new Date(a.dueDate) - new Date(b.dueDate);</span><br><span class="line">                &#125;);</span><br><span class="line">            case &#x27;priority&#x27;:</span><br><span class="line">                const priorityOrder = &#123; &#x27;urgent&#x27;: 0, &#x27;high&#x27;: 1, &#x27;medium&#x27;: 2, &#x27;low&#x27;: 3 &#125;;</span><br><span class="line">                return sorted.sort((a, b) =&gt; </span><br><span class="line">                    priorityOrder[a.priority] - priorityOrder[b.priority]</span><br><span class="line">                );</span><br><span class="line">            case &#x27;title&#x27;:</span><br><span class="line">                return sorted.sort((a, b) =&gt; </span><br><span class="line">                    a.title.localeCompare(b.title)</span><br><span class="line">                );</span><br><span class="line">            default:</span><br><span class="line">                return sorted;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">        // 获取要显示的任务</span><br><span class="line">        let tasksToShow = this.tasks;</span><br><span class="line">        </span><br><span class="line">        // 应用分类筛选</span><br><span class="line">        if (this.currentFilter !== &#x27;all&#x27;) &#123;</span><br><span class="line">            tasksToShow = tasksToShow.filter(task =&gt; </span><br><span class="line">                task.categories &amp;&amp; task.categories.includes(this.currentFilter)</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 过滤已完成的任务</span><br><span class="line">        if (!this.showCompleted) &#123;</span><br><span class="line">            tasksToShow = tasksToShow.filter(task =&gt; !task.completed);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 排序</span><br><span class="line">        tasksToShow = this.sortTasks(tasksToShow);</span><br><span class="line">        </span><br><span class="line">        // 更新统计信息</span><br><span class="line">        this.updateStats();</span><br><span class="line">        </span><br><span class="line">        // 渲染任务</span><br><span class="line">        this.renderTasks(tasksToShow);</span><br><span class="line">        </span><br><span class="line">        // 更新视图特定的内容</span><br><span class="line">        if (this.currentView === &#x27;board&#x27;) &#123;</span><br><span class="line">            this.renderBoardView(tasksToShow);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    renderTasks(tasks) &#123;</span><br><span class="line">        const container = document.getElementById(&#x27;tasksList&#x27;);</span><br><span class="line">        const emptyState = document.getElementById(&#x27;emptyState&#x27;);</span><br><span class="line">        </span><br><span class="line">        if (tasks.length === 0) &#123;</span><br><span class="line">            container.innerHTML = &#x27;&#x27;;</span><br><span class="line">            emptyState.classList.remove(&#x27;hidden&#x27;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        emptyState.classList.add(&#x27;hidden&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 清空容器</span><br><span class="line">        container.innerHTML = &#x27;&#x27;;</span><br><span class="line">        </span><br><span class="line">        // 渲染每个任务卡片</span><br><span class="line">        tasks.forEach(task =&gt; &#123;</span><br><span class="line">            const card = new TaskCard(task);</span><br><span class="line">            const cardElement = card.render();</span><br><span class="line">            </span><br><span class="line">            // 添加事件监听器</span><br><span class="line">            cardElement.addEventListener(&#x27;click&#x27;, () =&gt; this.showTaskDetail(task.id));</span><br><span class="line">            </span><br><span class="line">            container.appendChild(cardElement);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    renderBoardView(tasks) &#123;</span><br><span class="line">        const columns = &#123;</span><br><span class="line">            &#x27;todo&#x27;: document.querySelector(&#x27;[data-status=&quot;todo&quot;] .column-content&#x27;),</span><br><span class="line">            &#x27;in-progress&#x27;: document.querySelector(&#x27;[data-status=&quot;in-progress&quot;] .column-content&#x27;),</span><br><span class="line">            &#x27;done&#x27;: document.querySelector(&#x27;[data-status=&quot;done&quot;] .column-content&#x27;)</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        // 清空所有列</span><br><span class="line">        Object.values(columns).forEach(column =&gt; column.innerHTML = &#x27;&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 更新列计数</span><br><span class="line">        const todoCount = tasks.filter(t =&gt; t.status === &#x27;todo&#x27;).length;</span><br><span class="line">        const inProgressCount = tasks.filter(t =&gt; t.status === &#x27;in-progress&#x27;).length;</span><br><span class="line">        const doneCount = tasks.filter(t =&gt; t.status === &#x27;done&#x27;).length;</span><br><span class="line">        </span><br><span class="line">        document.querySelector(&#x27;[data-status=&quot;todo&quot;] .column-count&#x27;).textContent = todoCount;</span><br><span class="line">        document.querySelector(&#x27;[data-status=&quot;in-progress&quot;] .column-count&#x27;).textContent = inProgressCount;</span><br><span class="line">        document.querySelector(&#x27;[data-status=&quot;done&quot;] .column-count&#x27;).textContent = doneCount;</span><br><span class="line">        </span><br><span class="line">        // 渲染任务到对应列</span><br><span class="line">        tasks.forEach(task =&gt; &#123;</span><br><span class="line">            const column = columns[task.status];</span><br><span class="line">            if (column) &#123;</span><br><span class="line">                const card = new TaskCard(task);</span><br><span class="line">                const cardElement = card.render();</span><br><span class="line">                cardElement.addEventListener(&#x27;click&#x27;, () =&gt; this.showTaskDetail(task.id));</span><br><span class="line">                column.appendChild(cardElement);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    renderCalendar() &#123;</span><br><span class="line">        const calendarGrid = document.querySelector(&#x27;.calendar-grid&#x27;);</span><br><span class="line">        const currentMonthElement = document.getElementById(&#x27;currentMonth&#x27;);</span><br><span class="line">        </span><br><span class="line">        const today = new Date();</span><br><span class="line">        const currentMonth = today.getMonth();</span><br><span class="line">        const currentYear = today.getFullYear();</span><br><span class="line">        </span><br><span class="line">        // 设置月份标题</span><br><span class="line">        currentMonthElement.textContent = `$&#123;currentYear&#125;年$&#123;currentMonth + 1&#125;月`;</span><br><span class="line">        </span><br><span class="line">        // 生成日历</span><br><span class="line">        const firstDay = new Date(currentYear, currentMonth, 1);</span><br><span class="line">        const lastDay = new Date(currentYear, currentMonth + 1, 0);</span><br><span class="line">        const daysInMonth = lastDay.getDate();</span><br><span class="line">        const startingDay = firstDay.getDay();</span><br><span class="line">        </span><br><span class="line">        // 清空日历</span><br><span class="line">        calendarGrid.innerHTML = &#x27;&#x27;;</span><br><span class="line">        </span><br><span class="line">        // 添加星期标题</span><br><span class="line">        const weekdays = [&#x27;日&#x27;, &#x27;一&#x27;, &#x27;二&#x27;, &#x27;三&#x27;, &#x27;四&#x27;, &#x27;五&#x27;, &#x27;六&#x27;];</span><br><span class="line">        weekdays.forEach(day =&gt; &#123;</span><br><span class="line">            const dayElement = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            dayElement.className = &#x27;calendar-day-header&#x27;;</span><br><span class="line">            dayElement.textContent = day;</span><br><span class="line">            calendarGrid.appendChild(dayElement);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 添加空白单元格</span><br><span class="line">        for (let i = 0; i &lt; startingDay; i++) &#123;</span><br><span class="line">            const emptyCell = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            emptyCell.className = &#x27;calendar-day&#x27;;</span><br><span class="line">            calendarGrid.appendChild(emptyCell);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 添加日期单元格</span><br><span class="line">        for (let day = 1; day &lt;= daysInMonth; day++) &#123;</span><br><span class="line">            const dayElement = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            dayElement.className = &#x27;calendar-day&#x27;;</span><br><span class="line">            </span><br><span class="line">            // 检查是否是今天</span><br><span class="line">            if (day === today.getDate() &amp;&amp; </span><br><span class="line">                currentMonth === today.getMonth() &amp;&amp; </span><br><span class="line">                currentYear === today.getFullYear()) &#123;</span><br><span class="line">                dayElement.classList.add(&#x27;today&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            const dayNumber = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            dayNumber.className = &#x27;calendar-day-number&#x27;;</span><br><span class="line">            dayNumber.textContent = day;</span><br><span class="line">            dayElement.appendChild(dayNumber);</span><br><span class="line">            </span><br><span class="line">            // 添加当天的任务</span><br><span class="line">            const dateStr = `$&#123;currentYear&#125;-$&#123;String(currentMonth + 1).padStart(2, &#x27;0&#x27;)&#125;-$&#123;String(day).padStart(2, &#x27;0&#x27;)&#125;`;</span><br><span class="line">            const dayTasks = this.tasks.filter(task =&gt; task.dueDate === dateStr);</span><br><span class="line">            </span><br><span class="line">            if (dayTasks.length &gt; 0) &#123;</span><br><span class="line">                const taskCount = document.createElement(&#x27;div&#x27;);</span><br><span class="line">                taskCount.className = &#x27;calendar-task-count&#x27;;</span><br><span class="line">                taskCount.textContent = `$&#123;dayTasks.length&#125;个任务`;</span><br><span class="line">                dayElement.appendChild(taskCount);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            calendarGrid.appendChild(dayElement);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    showTaskDetail(taskId) &#123;</span><br><span class="line">        const task = this.tasks.find(t =&gt; t.id === taskId);</span><br><span class="line">        if (!task) return;</span><br><span class="line">        </span><br><span class="line">        this.selectedTaskId = taskId;</span><br><span class="line">        </span><br><span class="line">        // 更新面板内容</span><br><span class="line">        const panelContent = document.querySelector(&#x27;.panel-content&#x27;);</span><br><span class="line">        panelContent.innerHTML = this.renderTaskDetail(task);</span><br><span class="line">        </span><br><span class="line">        // 显示面板</span><br><span class="line">        document.getElementById(&#x27;taskDetailPanel&#x27;).classList.remove(&#x27;hidden&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 添加事件监听器</span><br><span class="line">        panelContent.querySelector(&#x27;.edit-task&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.openTaskModal(task);</span><br><span class="line">            this.closeTaskDetail();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        panelContent.querySelector(&#x27;.delete-task&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.deleteTask(taskId);</span><br><span class="line">            this.closeTaskDetail();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        panelContent.querySelector(&#x27;.toggle-complete&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.toggleTaskComplete(taskId);</span><br><span class="line">            this.closeTaskDetail();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    renderTaskDetail(task) &#123;</span><br><span class="line">        return `</span><br><span class="line">            &lt;div class=&quot;task-detail&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;detail-header&quot;&gt;</span><br><span class="line">                    &lt;h2&gt;$&#123;task.title&#125;&lt;/h2&gt;</span><br><span class="line">                    &lt;div class=&quot;detail-actions&quot;&gt;</span><br><span class="line">                        &lt;button class=&quot;btn-text edit-task&quot;&gt;</span><br><span class="line">                            &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; 编辑</span><br><span class="line">                        &lt;/button&gt;</span><br><span class="line">                        &lt;button class=&quot;btn-text delete-task&quot;&gt;</span><br><span class="line">                            &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt; 删除</span><br><span class="line">                        &lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;div class=&quot;detail-meta&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;meta-item&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;meta-label&quot;&gt;状态:&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;task-status $&#123;task.status&#125;&quot;&gt;$&#123;this.getStatusText(task.status)&#125;&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;meta-item&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;meta-label&quot;&gt;优先级:&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;priority-dot $&#123;task.priority&#125;&quot;&gt;&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;$&#123;this.getPriorityText(task.priority)&#125;&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;meta-item&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;meta-label&quot;&gt;创建时间:&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;$&#123;this.formatDate(task.createdAt)&#125;&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    $&#123;task.dueDate ? `</span><br><span class="line">                    &lt;div class=&quot;meta-item&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;meta-label&quot;&gt;截止日期:&lt;/span&gt;</span><br><span class="line">                        &lt;span class=&quot;$&#123;this.isOverdue(task) ? &#x27;overdue&#x27; : &#x27;&#x27;&#125;&quot;&gt;</span><br><span class="line">                            $&#123;this.formatDate(task.dueDate)&#125;</span><br><span class="line">                        &lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    ` : &#x27;&#x27;&#125;</span><br><span class="line">                    $&#123;task.completedAt ? `</span><br><span class="line">                    &lt;div class=&quot;meta-item&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;meta-label&quot;&gt;完成时间:&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;$&#123;this.formatDate(task.completedAt)&#125;&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    ` : &#x27;&#x27;&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                $&#123;task.description ? `</span><br><span class="line">                &lt;div class=&quot;detail-section&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;描述&lt;/h3&gt;</span><br><span class="line">                    &lt;div class=&quot;detail-description&quot;&gt;$&#123;this.renderMarkdown(task.description)&#125;&lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">                </span><br><span class="line">                $&#123;task.categories &amp;&amp; task.categories.length &gt; 0 ? `</span><br><span class="line">                &lt;div class=&quot;detail-section&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;分类&lt;/h3&gt;</span><br><span class="line">                    &lt;div class=&quot;detail-categories&quot;&gt;</span><br><span class="line">                        $&#123;task.categories.map(cat =&gt; `</span><br><span class="line">                            &lt;span class=&quot;category-tag&quot;&gt;$&#123;this.getCategoryText(cat)&#125;&lt;/span&gt;</span><br><span class="line">                        `).join(&#x27;&#x27;)&#125;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">                </span><br><span class="line">                $&#123;task.estimatedTime ? `</span><br><span class="line">                &lt;div class=&quot;detail-section&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;时间估算&lt;/h3&gt;</span><br><span class="line">                    &lt;div&gt;$&#123;task.estimatedTime&#125; 分钟&lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">                </span><br><span class="line">                &lt;div class=&quot;detail-actions&quot;&gt;</span><br><span class="line">                    &lt;button class=&quot;btn toggle-complete $&#123;task.completed ? &#x27;btn-secondary&#x27; : &#x27;btn-primary&#x27;&#125;&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas $&#123;task.completed ? &#x27;fa-undo&#x27; : &#x27;fa-check&#x27;&#125;&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        $&#123;task.completed ? &#x27;标记为未完成&#x27; : &#x27;标记为完成&#x27;&#125;</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    closeTaskDetail() &#123;</span><br><span class="line">        document.getElementById(&#x27;taskDetailPanel&#x27;).classList.add(&#x27;hidden&#x27;);</span><br><span class="line">        this.selectedTaskId = null;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    showExportModal() &#123;</span><br><span class="line">        const modal = document.getElementById(&#x27;exportModal&#x27;);</span><br><span class="line">        modal.classList.remove(&#x27;hidden&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 设置事件监听器</span><br><span class="line">        modal.querySelector(&#x27;.close-export-modal&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            modal.classList.add(&#x27;hidden&#x27;);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        modal.querySelector(&#x27;#exportData&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.exportData();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    exportData() &#123;</span><br><span class="line">        const exportType = document.querySelector(&#x27;input[name=&quot;exportType&quot;]:checked&#x27;).value;</span><br><span class="line">        const exportScope = document.querySelector(&#x27;input[name=&quot;exportScope&quot;]:checked&#x27;).value;</span><br><span class="line">        </span><br><span class="line">        let dataToExport;</span><br><span class="line">        </span><br><span class="line">        switch(exportScope) &#123;</span><br><span class="line">            case &#x27;all&#x27;:</span><br><span class="line">                dataToExport = this.tasks;</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;filtered&#x27;:</span><br><span class="line">                // 这里应该获取当前筛选的任务</span><br><span class="line">                dataToExport = this.tasks;</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;selected&#x27;:</span><br><span class="line">                // 这里应该获取选中的任务</span><br><span class="line">                dataToExport = this.tasks;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        switch(exportType) &#123;</span><br><span class="line">            case &#x27;excel&#x27;:</span><br><span class="line">                exportToExcel(dataToExport);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;json&#x27;:</span><br><span class="line">                exportToJSON(dataToExport);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;text&#x27;:</span><br><span class="line">                exportToText(dataToExport);</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        document.getElementById(&#x27;exportModal&#x27;).classList.add(&#x27;hidden&#x27;);</span><br><span class="line">        showNotification(&#x27;导出成功！&#x27;, &#x27;success&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    importData(file) &#123;</span><br><span class="line">        if (!file) return;</span><br><span class="line">        </span><br><span class="line">        const reader = new FileReader();</span><br><span class="line">        reader.onload = (e) =&gt; &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                const data = JSON.parse(e.target.result);</span><br><span class="line">                if (Array.isArray(data)) &#123;</span><br><span class="line">                    this.tasks = data;</span><br><span class="line">                    this.saveData();</span><br><span class="line">                    this.render();</span><br><span class="line">                    showNotification(&#x27;数据导入成功！&#x27;, &#x27;success&#x27;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; catch (error) &#123;</span><br><span class="line">                showNotification(&#x27;文件格式错误，请导入正确的JSON文件&#x27;, &#x27;error&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        reader.readAsText(file);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    updateStats() &#123;</span><br><span class="line">        const total = this.tasks.length;</span><br><span class="line">        const completed = this.tasks.filter(t =&gt; t.completed).length;</span><br><span class="line">        const completionRate = total &gt; 0 ? Math.round((completed / total) * 100) : 0;</span><br><span class="line">        </span><br><span class="line">        // 更新统计数字</span><br><span class="line">        document.getElementById(&#x27;totalTasks&#x27;).textContent = total;</span><br><span class="line">        document.getElementById(&#x27;completedTasks&#x27;).textContent = completed;</span><br><span class="line">        document.getElementById(&#x27;completionRate&#x27;).textContent = `$&#123;completionRate&#125;%`;</span><br><span class="line">        </span><br><span class="line">        // 更新分类计数</span><br><span class="line">        const categories = [&#x27;work&#x27;, &#x27;personal&#x27;, &#x27;shopping&#x27;, &#x27;learning&#x27;];</span><br><span class="line">        categories.forEach(cat =&gt; &#123;</span><br><span class="line">            const count = this.tasks.filter(task =&gt; </span><br><span class="line">                task.categories &amp;&amp; task.categories.includes(cat)</span><br><span class="line">            ).length;</span><br><span class="line">            document.getElementById(`$&#123;cat&#125;Count`).textContent = count;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 更新智能筛选计数</span><br><span class="line">        const today = new Date().toISOString().split(&#x27;T&#x27;)[0];</span><br><span class="line">        const todayCount = this.tasks.filter(task =&gt; </span><br><span class="line">            task.dueDate === today &amp;&amp; !task.completed</span><br><span class="line">        ).length;</span><br><span class="line">        document.getElementById(&#x27;todayCount&#x27;).textContent = todayCount;</span><br><span class="line">        </span><br><span class="line">        const priorityCount = this.tasks.filter(task =&gt; </span><br><span class="line">            (task.priority === &#x27;high&#x27; || task.priority === &#x27;urgent&#x27;) &amp;&amp; !task.completed</span><br><span class="line">        ).length;</span><br><span class="line">        document.getElementById(&#x27;priorityCount&#x27;).textContent = priorityCount;</span><br><span class="line">        </span><br><span class="line">        const overdueCount = this.tasks.filter(task =&gt; </span><br><span class="line">            task.dueDate &amp;&amp; task.dueDate &lt; today &amp;&amp; !task.completed</span><br><span class="line">        ).length;</span><br><span class="line">        document.getElementById(&#x27;overdueCount&#x27;).textContent = overdueCount;</span><br><span class="line">        </span><br><span class="line">        const noDateCount = this.tasks.filter(task =&gt; </span><br><span class="line">            !task.dueDate &amp;&amp; !task.completed</span><br><span class="line">        ).length;</span><br><span class="line">        document.getElementById(&#x27;noDateCount&#x27;).textContent = noDateCount;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // 工具方法</span><br><span class="line">    getStatusText(status) &#123;</span><br><span class="line">        const statusMap = &#123;</span><br><span class="line">            &#x27;todo&#x27;: &#x27;待办&#x27;,</span><br><span class="line">            &#x27;in-progress&#x27;: &#x27;进行中&#x27;,</span><br><span class="line">            &#x27;done&#x27;: &#x27;已完成&#x27;,</span><br><span class="line">            &#x27;archived&#x27;: &#x27;已归档&#x27;</span><br><span class="line">        &#125;;</span><br><span class="line">        return statusMap[status] || status;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    getPriorityText(priority) &#123;</span><br><span class="line">        const priorityMap = &#123;</span><br><span class="line">            &#x27;low&#x27;: &#x27;低&#x27;,</span><br><span class="line">            &#x27;medium&#x27;: &#x27;中&#x27;,</span><br><span class="line">            &#x27;high&#x27;: &#x27;高&#x27;,</span><br><span class="line">            &#x27;urgent&#x27;: &#x27;紧急&#x27;</span><br><span class="line">        &#125;;</span><br><span class="line">        return priorityMap[priority] || priority;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    getCategoryText(category) &#123;</span><br><span class="line">        const categoryMap = &#123;</span><br><span class="line">            &#x27;work&#x27;: &#x27;工作&#x27;,</span><br><span class="line">            &#x27;personal&#x27;: &#x27;个人&#x27;,</span><br><span class="line">            &#x27;shopping&#x27;: &#x27;购物&#x27;,</span><br><span class="line">            &#x27;health&#x27;: &#x27;健康&#x27;,</span><br><span class="line">            &#x27;learning&#x27;: &#x27;学习&#x27;</span><br><span class="line">        &#125;;</span><br><span class="line">        return categoryMap[category] || category;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    formatDate(dateString) &#123;</span><br><span class="line">        if (!dateString) return &#x27;&#x27;;</span><br><span class="line">        const date = new Date(dateString);</span><br><span class="line">        return date.toLocaleDateString(&#x27;zh-CN&#x27;, &#123;</span><br><span class="line">            year: &#x27;numeric&#x27;,</span><br><span class="line">            month: &#x27;long&#x27;,</span><br><span class="line">            day: &#x27;numeric&#x27;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    isOverdue(task) &#123;</span><br><span class="line">        if (!task.dueDate || task.completed) return false;</span><br><span class="line">        const today = new Date();</span><br><span class="line">        today.setHours(0, 0, 0, 0);</span><br><span class="line">        return new Date(task.dueDate) &lt; today;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    renderMarkdown(text) &#123;</span><br><span class="line">        // 简单的Markdown渲染</span><br><span class="line">        return text</span><br><span class="line">            .replace(/\[(.*?)\]\((.*?)\)/g, &#x27;&lt;a href=&quot;$2&quot; target=&quot;_blank&quot;&gt;$1&lt;/a&gt;&#x27;)</span><br><span class="line">            .replace(/\*\*(.*?)\*\*/g, &#x27;&lt;strong&gt;$1&lt;/strong&gt;&#x27;)</span><br><span class="line">            .replace(/\*(.*?)\*/g, &#x27;&lt;em&gt;$1&lt;/em&gt;&#x27;)</span><br><span class="line">            .replace(/`(.*?)`/g, &#x27;&lt;code&gt;$1&lt;/code&gt;&#x27;)</span><br><span class="line">            .replace(/\n/g, &#x27;&lt;br&gt;&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    handleKeyboardShortcuts(e) &#123;</span><br><span class="line">        // 防止在输入框中触发</span><br><span class="line">        if (e.target.tagName === &#x27;INPUT&#x27; || e.target.tagName === &#x27;TEXTAREA&#x27;) return;</span><br><span class="line">        </span><br><span class="line">        switch(e.key) &#123;</span><br><span class="line">            case &#x27;n&#x27;:</span><br><span class="line">                if (e.ctrlKey || e.metaKey) &#123;</span><br><span class="line">                    e.preventDefault();</span><br><span class="line">                    this.openTaskModal();</span><br><span class="line">                &#125;</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;Escape&#x27;:</span><br><span class="line">                this.closeTaskDetail();</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;/&#x27;:</span><br><span class="line">                if (!e.ctrlKey &amp;&amp; !e.metaKey) &#123;</span><br><span class="line">                    e.preventDefault();</span><br><span class="line">                    document.getElementById(&#x27;searchInput&#x27;).focus();</span><br><span class="line">                &#125;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 初始化应用</span><br><span class="line">document.addEventListener(&#x27;DOMContentLoaded&#x27;, () =&gt; &#123;</span><br><span class="line">    const app = new TodoApp();</span><br><span class="line">    window.todoApp = app; // 全局访问，方便调试</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="4-组件示例-components-task-card-js"><a href="#4-组件示例-components-task-card-js" class="headerlink" title="4. 组件示例 (components&#x2F;task-card.js)"></a>4. 组件示例 (components&#x2F;task-card.js)</h2><p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">// components/task-card.js</span><br><span class="line">// 任务卡片组件</span><br><span class="line"></span><br><span class="line">class TaskCard &#123;</span><br><span class="line">    constructor(task) &#123;</span><br><span class="line">        this.task = task;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">        const card = document.createElement(&#x27;div&#x27;);</span><br><span class="line">        card.className = &#x27;task-card&#x27;;</span><br><span class="line">        card.dataset.id = this.task.id;</span><br><span class="line">        </span><br><span class="line">        const isOverdue = this.isOverdue();</span><br><span class="line">        const priorityClass = this.getPriorityClass();</span><br><span class="line">        </span><br><span class="line">        card.innerHTML = `</span><br><span class="line">            &lt;div class=&quot;task-card-header&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;task-checkbox $&#123;this.task.completed ? &#x27;checked&#x27; : &#x27;&#x27;&#125;&quot;&gt;</span><br><span class="line">                    $&#123;this.task.completed ? &#x27;&lt;i class=&quot;fas fa-check&quot;&gt;&lt;/i&gt;&#x27; : &#x27;&#x27;&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;task-title $&#123;this.task.completed ? &#x27;completed&#x27; : &#x27;&#x27;&#125;&quot;&gt;</span><br><span class="line">                    $&#123;this.escapeHtml(this.task.title)&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;priority-dot $&#123;priorityClass&#125;&quot;&gt;&lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            $&#123;this.task.description ? `</span><br><span class="line">            &lt;div class=&quot;task-description&quot;&gt;</span><br><span class="line">                $&#123;this.truncateText(this.escapeHtml(this.task.description), 100)&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            ` : &#x27;&#x27;&#125;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;task-meta&quot;&gt;</span><br><span class="line">                $&#123;this.task.dueDate ? `</span><br><span class="line">                &lt;div class=&quot;task-due $&#123;isOverdue ? &#x27;overdue&#x27; : &#x27;&#x27;&#125;&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-calendar&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;span&gt;$&#123;this.formatDueDate()&#125;&lt;/span&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">                </span><br><span class="line">                $&#123;this.task.categories &amp;&amp; this.task.categories.length &gt; 0 ? `</span><br><span class="line">                &lt;div class=&quot;task-categories&quot;&gt;</span><br><span class="line">                    $&#123;this.task.categories.map(cat =&gt; `</span><br><span class="line">                        &lt;span class=&quot;task-category&quot;&gt;$&#123;this.getCategoryText(cat)&#125;&lt;/span&gt;</span><br><span class="line">                    `).join(&#x27;&#x27;)&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;task-actions&quot;&gt;</span><br><span class="line">                &lt;button class=&quot;icon-btn edit-task&quot; title=&quot;编辑&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &lt;button class=&quot;icon-btn delete-task&quot; title=&quot;删除&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `;</span><br><span class="line">        </span><br><span class="line">        // 添加事件监听器</span><br><span class="line">        const checkbox = card.querySelector(&#x27;.task-checkbox&#x27;);</span><br><span class="line">        checkbox.addEventListener(&#x27;click&#x27;, (e) =&gt; &#123;</span><br><span class="line">            e.stopPropagation();</span><br><span class="line">            this.toggleComplete();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        const editBtn = card.querySelector(&#x27;.edit-task&#x27;);</span><br><span class="line">        editBtn.addEventListener(&#x27;click&#x27;, (e) =&gt; &#123;</span><br><span class="line">            e.stopPropagation();</span><br><span class="line">            this.editTask();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        const deleteBtn = card.querySelector(&#x27;.delete-task&#x27;);</span><br><span class="line">        deleteBtn.addEventListener(&#x27;click&#x27;, (e) =&gt; &#123;</span><br><span class="line">            e.stopPropagation();</span><br><span class="line">            this.deleteTask();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        return card;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    isOverdue() &#123;</span><br><span class="line">        if (!this.task.dueDate || this.task.completed) return false;</span><br><span class="line">        const today = new Date();</span><br><span class="line">        today.setHours(0, 0, 0, 0);</span><br><span class="line">        return new Date(this.task.dueDate) &lt; today;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    getPriorityClass() &#123;</span><br><span class="line">        return this.task.priority || &#x27;medium&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    formatDueDate() &#123;</span><br><span class="line">        if (!this.task.dueDate) return &#x27;&#x27;;</span><br><span class="line">        </span><br><span class="line">        const dueDate = new Date(this.task.dueDate);</span><br><span class="line">        const today = new Date();</span><br><span class="line">        today.setHours(0, 0, 0, 0);</span><br><span class="line">        </span><br><span class="line">        const tomorrow = new Date(today);</span><br><span class="line">        tomorrow.setDate(tomorrow.getDate() + 1);</span><br><span class="line">        </span><br><span class="line">        if (dueDate.toDateString() === today.toDateString()) &#123;</span><br><span class="line">            return &#x27;今天&#x27;;</span><br><span class="line">        &#125; else if (dueDate.toDateString() === tomorrow.toDateString()) &#123;</span><br><span class="line">            return &#x27;明天&#x27;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return dueDate.toLocaleDateString(&#x27;zh-CN&#x27;, &#123;</span><br><span class="line">                month: &#x27;short&#x27;,</span><br><span class="line">                day: &#x27;numeric&#x27;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    getCategoryText(category) &#123;</span><br><span class="line">        const categoryMap = &#123;</span><br><span class="line">            &#x27;work&#x27;: &#x27;工作&#x27;,</span><br><span class="line">            &#x27;personal&#x27;: &#x27;个人&#x27;,</span><br><span class="line">            &#x27;shopping&#x27;: &#x27;购物&#x27;,</span><br><span class="line">            &#x27;health&#x27;: &#x27;健康&#x27;,</span><br><span class="line">            &#x27;learning&#x27;: &#x27;学习&#x27;</span><br><span class="line">        &#125;;</span><br><span class="line">        return categoryMap[category] || category;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    truncateText(text, maxLength) &#123;</span><br><span class="line">        if (text.length &lt;= maxLength) return text;</span><br><span class="line">        return text.substring(0, maxLength) + &#x27;...&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    escapeHtml(text) &#123;</span><br><span class="line">        const div = document.createElement(&#x27;div&#x27;);</span><br><span class="line">        div.textContent = text;</span><br><span class="line">        return div.innerHTML;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    toggleComplete() &#123;</span><br><span class="line">        // 触发自定义事件</span><br><span class="line">        const event = new CustomEvent(&#x27;taskToggle&#x27;, &#123;</span><br><span class="line">            detail: &#123; taskId: this.task.id &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        document.dispatchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    editTask() &#123;</span><br><span class="line">        const event = new CustomEvent(&#x27;taskEdit&#x27;, &#123;</span><br><span class="line">            detail: &#123; taskId: this.task.id &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        document.dispatchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deleteTask() &#123;</span><br><span class="line">        const event = new CustomEvent(&#x27;taskDelete&#x27;, &#123;</span><br><span class="line">            detail: &#123; taskId: this.task.id &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        document.dispatchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default TaskCard;</span><br></pre></td></tr></table></figure>



<h2 id="5-工具函数-utils-storage-js"><a href="#5-工具函数-utils-storage-js" class="headerlink" title="5. 工具函数 (utils&#x2F;storage.js)"></a>5. 工具函数 (utils&#x2F;storage.js)</h2><p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">// utils/storage.js</span><br><span class="line">// 本地存储管理</span><br><span class="line"></span><br><span class="line">export function saveTasks(tasks) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        localStorage.setItem(&#x27;todolist_tasks&#x27;, JSON.stringify(tasks));</span><br><span class="line">        return true;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;保存任务失败:&#x27;, error);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function loadTasks() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        const tasksJson = localStorage.getItem(&#x27;todolist_tasks&#x27;);</span><br><span class="line">        return tasksJson ? JSON.parse(tasksJson) : null;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;加载任务失败:&#x27;, error);</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function saveSettings(settings) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        localStorage.setItem(&#x27;todolist_settings&#x27;, JSON.stringify(settings));</span><br><span class="line">        return true;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;保存设置失败:&#x27;, error);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function loadSettings() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        const settingsJson = localStorage.getItem(&#x27;todolist_settings&#x27;);</span><br><span class="line">        return settingsJson ? JSON.parse(settingsJson) : &#123;&#125;;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;加载设置失败:&#x27;, error);</span><br><span class="line">        return &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function saveCategory(category) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        const categories = loadCategories();</span><br><span class="line">        if (!categories.find(c =&gt; c.id === category.id)) &#123;</span><br><span class="line">            categories.push(category);</span><br><span class="line">            localStorage.setItem(&#x27;todolist_categories&#x27;, JSON.stringify(categories));</span><br><span class="line">        &#125;</span><br><span class="line">        return true;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;保存分类失败:&#x27;, error);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function loadCategories() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        const categoriesJson = localStorage.getItem(&#x27;todolist_categories&#x27;);</span><br><span class="line">        return categoriesJson ? JSON.parse(categoriesJson) : [</span><br><span class="line">            &#123; id: &#x27;work&#x27;, name: &#x27;工作&#x27;, color: &#x27;#52c41a&#x27; &#125;,</span><br><span class="line">            &#123; id: &#x27;personal&#x27;, name: &#x27;个人&#x27;, color: &#x27;#fa8c16&#x27; &#125;,</span><br><span class="line">            &#123; id: &#x27;shopping&#x27;, name: &#x27;购物&#x27;, color: &#x27;#f5222d&#x27; &#125;,</span><br><span class="line">            &#123; id: &#x27;learning&#x27;, name: &#x27;学习&#x27;, color: &#x27;#1890ff&#x27; &#125;</span><br><span class="line">        ];</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;加载分类失败:&#x27;, error);</span><br><span class="line">        return [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 清理旧数据</span><br><span class="line">export function cleanupOldData(days = 30) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        const tasks = loadTasks();</span><br><span class="line">        if (!tasks) return;</span><br><span class="line">        </span><br><span class="line">        const cutoffDate = new Date();</span><br><span class="line">        cutoffDate.setDate(cutoffDate.getDate() - days);</span><br><span class="line">        </span><br><span class="line">        const filteredTasks = tasks.filter(task =&gt; &#123;</span><br><span class="line">            // 只保留最近30天的任务或未完成的任务</span><br><span class="line">            if (!task.completed) return true;</span><br><span class="line">            </span><br><span class="line">            const completedDate = new Date(task.completedAt || task.createdAt);</span><br><span class="line">            return completedDate &gt;= cutoffDate;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        saveTasks(filteredTasks);</span><br><span class="line">        return filteredTasks.length;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;清理数据失败:&#x27;, error);</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 导出数据</span><br><span class="line">export function exportData() &#123;</span><br><span class="line">    const data = &#123;</span><br><span class="line">        tasks: loadTasks(),</span><br><span class="line">        categories: loadCategories(),</span><br><span class="line">        settings: loadSettings(),</span><br><span class="line">        exportDate: new Date().toISOString(),</span><br><span class="line">        version: &#x27;1.0&#x27;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    return JSON.stringify(data, null, 2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 导入数据</span><br><span class="line">export function importData(jsonData) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        const data = JSON.parse(jsonData);</span><br><span class="line">        </span><br><span class="line">        if (data.tasks) saveTasks(data.tasks);</span><br><span class="line">        if (data.categories) &#123;</span><br><span class="line">            localStorage.setItem(&#x27;todolist_categories&#x27;, JSON.stringify(data.categories));</span><br><span class="line">        &#125;</span><br><span class="line">        if (data.settings) saveSettings(data.settings);</span><br><span class="line">        </span><br><span class="line">        return true;</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">        console.error(&#x27;导入数据失败:&#x27;, error);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="6-使用说明-README-md"><a href="#6-使用说明-README-md" class="headerlink" title="6. 使用说明 (README.md)"></a>6. 使用说明 (README.md)</h2><p>markdown</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># 智能待办清单 - 纯前端版</span><br><span class="line"></span><br><span class="line">一个功能丰富、界面美观的待办清单应用，完全使用HTML、CSS和JavaScript构建，无需后端服务器。</span><br><span class="line"></span><br><span class="line">## 功能特性</span><br><span class="line"></span><br><span class="line">### 核心功能</span><br><span class="line">- ✅ 任务创建、编辑、删除</span><br><span class="line">- ✅ 任务状态管理（待办、进行中、已完成、已归档）</span><br><span class="line">- ✅ 优先级设置（低、中、高、紧急）</span><br><span class="line">- ✅ 截止日期提醒</span><br><span class="line">- ✅ 任务分类/标签</span><br><span class="line">- ✅ 任务搜索和筛选</span><br><span class="line"></span><br><span class="line">### 高级功能</span><br><span class="line">- ✅ Markdown笔记支持</span><br><span class="line">- ✅ 多视图（列表、看板、日历）</span><br><span class="line">- ✅ 数据导出（Excel、JSON、纯文本）</span><br><span class="line">- ✅ 数据导入（JSON格式）</span><br><span class="line">- ✅ 本地数据存储</span><br><span class="line">- ✅ 响应式设计（支持移动端）</span><br><span class="line">- ✅ 深色/浅色主题切换</span><br><span class="line">- ✅ 键盘快捷键支持</span><br><span class="line"></span><br><span class="line">### 统计功能</span><br><span class="line">- ✅ 任务完成统计</span><br><span class="line">- ✅ 分类统计</span><br><span class="line">- ✅ 今日任务提醒</span><br><span class="line">- ✅ 逾期任务提醒</span><br><span class="line">- ✅ 高优先级任务提醒</span><br><span class="line"></span><br><span class="line">## 快速开始</span><br><span class="line"></span><br><span class="line">### 方法一：直接使用</span><br><span class="line">1. 下载项目文件</span><br><span class="line">2. 用浏览器打开 `index.html`</span><br><span class="line">3. 无需安装，立即使用</span><br><span class="line"></span><br><span class="line">### 方法二：本地开发</span><br><span class="line">1. 克隆项目到本地</span><br><span class="line">2. 在代码编辑器中打开项目</span><br><span class="line">3. 使用Live Server等工具运行</span><br><span class="line"></span><br><span class="line">## 文件结构</span><br></pre></td></tr></table></figure>



<p>todolist-pure&#x2F;<br>├── index.html # 主页面<br>├── login.html # 登录页面<br>├── style.css # 主样式文件<br>├── script.js # 主JavaScript文件<br>├── components&#x2F; # 组件目录<br>│ ├── task-modal.js # 任务模态框组件<br>│ ├── task-card.js # 任务卡片组件<br>│ └── …<br>├── utils&#x2F; # 工具函数<br>│ ├── storage.js # 本地存储管理<br>│ ├── export.js # 导出功能<br>│ └── …<br>├── assets&#x2F; # 静态资源<br>└── README.md # 说明文档</p>
<p>text</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">## 技术实现</span><br><span class="line"></span><br><span class="line">### 前端技术栈</span><br><span class="line">- **HTML5**: 语义化标签，现代Web标准</span><br><span class="line">- **CSS3**: Flexbox/Grid布局，CSS变量，过渡动画</span><br><span class="line">- **JavaScript (ES6+)**: 模块化编程，Class语法，异步操作</span><br><span class="line">- **Font Awesome**: 图标系统</span><br><span class="line">- **Google Fonts**: Inter字体</span><br><span class="line"></span><br><span class="line">### 核心特性实现</span><br><span class="line">1. **模块化设计**: 使用ES6模块组织代码</span><br><span class="line">2. **状态管理**: 纯前端状态管理，无框架依赖</span><br><span class="line">3. **本地存储**: 使用LocalStorage持久化数据</span><br><span class="line">4. **响应式设计**: 移动端优先，适配各种屏幕</span><br><span class="line">5. **可访问性**: 支持键盘操作，屏幕阅读器友好</span><br><span class="line"></span><br><span class="line">## 键盘快捷键</span><br><span class="line"></span><br><span class="line">- `Ctrl/Cmd + N`: 新建任务</span><br><span class="line">- `/`: 快速聚焦搜索框</span><br><span class="line">- `Esc`: 关闭详情面板</span><br><span class="line">- `Enter`: 保存任务/确认操作</span><br><span class="line"></span><br><span class="line">## 数据安全</span><br><span class="line"></span><br><span class="line">所有数据存储在浏览器本地：</span><br><span class="line">- 不会上传到任何服务器</span><br><span class="line">- 支持数据导出备份</span><br><span class="line">- 支持数据导入恢复</span><br><span class="line">- 定期自动清理旧数据</span><br><span class="line"></span><br><span class="line">## 浏览器兼容性</span><br><span class="line"></span><br><span class="line">支持所有现代浏览器：</span><br><span class="line">- Chrome 60+</span><br><span class="line">- Firefox 55+</span><br><span class="line">- Safari 11+</span><br><span class="line">- Edge 79+</span><br><span class="line"></span><br><span class="line">## 扩展开发</span><br><span class="line"></span><br><span class="line">### 添加新功能</span><br><span class="line">1. 在 `script.js` 中扩展 `TodoApp` 类</span><br><span class="line">2. 在 `style.css` 中添加相应样式</span><br><span class="line">3. 在 `index.html` 中添加UI元素（可选）</span><br><span class="line"></span><br><span class="line">### 自定义主题</span><br><span class="line">1. 修改CSS变量（`:root` 和 `[data-theme=&quot;dark&quot;]`）</span><br><span class="line">2. 添加新的颜色方案</span><br><span class="line">3. 调整间距和字体大小</span><br><span class="line"></span><br><span class="line">## 贡献指南</span><br><span class="line"></span><br><span class="line">欢迎提交Issue和Pull Request！</span><br><span class="line"></span><br><span class="line">## 许可证</span><br><span class="line"></span><br><span class="line">MIT License - 自由使用和修改</span><br></pre></td></tr></table></figure>



<h2 id="7-部署和使用"><a href="#7-部署和使用" class="headerlink" title="7. 部署和使用"></a>7. 部署和使用</h2><h3 id="本地使用"><a href="#本地使用" class="headerlink" title="本地使用"></a>本地使用</h3><ol>
<li><p><strong>下载文件</strong>：将上述所有文件保存到同一个文件夹中</p>
</li>
<li><p><strong>直接打开</strong>：双击 <code>index.html</code> 即可在浏览器中打开使用</p>
</li>
<li><p><strong>本地服务器</strong>（推荐）：</p>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 使用Python启动简单服务器</span><br><span class="line">python -m http.server 8000</span><br><span class="line"></span><br><span class="line"># 或使用Node.js的http-server</span><br><span class="line">npx http-server .</span><br></pre></td></tr></table></figure>



<p>然后在浏览器中访问 <code>http://localhost:8000</code></p>
</li>
</ol>
<h3 id="在线部署"><a href="#在线部署" class="headerlink" title="在线部署"></a>在线部署</h3><p>由于这是一个纯前端应用，可以部署到任何静态网站托管服务：</p>
<ol>
<li><p><strong>GitHub Pages</strong>（免费）：</p>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 创建GitHub仓库</span><br><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Initial commit&quot;</span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin https://github.com/yourusername/todolist-pure.git</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure>



<p>然后在仓库设置中启用GitHub Pages。</p>
</li>
<li><p><strong>Netlify</strong>（免费）：</p>
<ul>
<li>拖拽项目文件夹到Netlify</li>
<li>自动部署，获得专属URL</li>
</ul>
</li>
<li><p><strong>Vercel</strong>（免费）：</p>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vercel</span><br><span class="line">vercel</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="项目特点总结"><a href="#项目特点总结" class="headerlink" title="项目特点总结"></a>项目特点总结</h2><p>这个纯前端ToDoList项目展示了：</p>
<h3 id="1-现代JavaScript技能"><a href="#1-现代JavaScript技能" class="headerlink" title="1. 现代JavaScript技能"></a>1. <strong>现代JavaScript技能</strong></h3><ul>
<li>ES6+ 模块化开发</li>
<li>Class语法和面向对象编程</li>
<li>事件处理和自定义事件</li>
<li>异步操作和Promise</li>
<li>本地存储API使用</li>
</ul>
<h3 id="2-CSS3高级特性"><a href="#2-CSS3高级特性" class="headerlink" title="2. CSS3高级特性"></a>2. <strong>CSS3高级特性</strong></h3><ul>
<li>CSS变量实现主题切换</li>
<li>Flexbox和Grid布局</li>
<li>响应式设计</li>
<li>过渡动画和变换</li>
<li>自定义滚动条</li>
</ul>
<h3 id="3-HTML5语义化"><a href="#3-HTML5语义化" class="headerlink" title="3. HTML5语义化"></a>3. <strong>HTML5语义化</strong></h3><ul>
<li>合理的HTML结构</li>
<li>ARIA可访问性属性</li>
<li>表单验证</li>
<li>语义化标签使用</li>
</ul>
<h3 id="4-软件工程实践"><a href="#4-软件工程实践" class="headerlink" title="4. 软件工程实践"></a>4. <strong>软件工程实践</strong></h3><ul>
<li>模块化架构</li>
<li>关注点分离</li>
<li>代码复用</li>
<li>错误处理</li>
<li>性能优化</li>
</ul>
<h3 id="5-用户体验设计"><a href="#5-用户体验设计" class="headerlink" title="5. 用户体验设计"></a>5. <strong>用户体验设计</strong></h3><ul>
<li>直观的界面布局</li>
<li>即时的用户反馈</li>
<li>键盘快捷键支持</li>
<li>加载状态指示</li>
<li>错误状态处理</li>
</ul>
<p>这个项目完全不需要后端服务器，所有数据存储在浏览器本地，非常适合个人使用或作为学习项目。所有代码都使用纯原生技术实现，不依赖任何框架，非常适合学习和理解Web开发的基础原理。</p>
<p>本回答由 AI 生成，内容仅供参考，请仔细甄别。</p>
<p>你理解错了，我不是想要一个纯前端的todolist，我是说基于最开始的那个todolist项目，单纯使用html&#x2F;css&#x2F;javasript实现前端页面</p>
<p>我们之前有一个完整的Spring Boot + Vue的TodoList项目。现在，我们希望将前端部分（Vue.js）替换为纯HTML&#x2F;CSS&#x2F;JavaScript，而后端保持不变。<br>这样，前端将使用原生JavaScript与后端API进行交互，并且不使用任何前端框架。</p>
<p>我们需要做的步骤：</p>
<ol>
<li>设计HTML页面结构，包括任务列表、任务详情、创建&#x2F;编辑任务表单、搜索和筛选等。</li>
<li>使用CSS进行样式设计，尽量保持与之前Vue版本相似的外观。</li>
<li>使用JavaScript处理用户交互，包括：<ul>
<li>页面加载时从后端获取任务数据并渲染</li>
<li>处理任务创建、更新、删除</li>
<li>处理搜索和筛选</li>
<li>处理任务状态的更新（如标记完成）</li>
<li>渲染不同的视图（列表、看板、日历等）</li>
</ul>
</li>
<li>与后端API通信，使用Fetch API或XMLHttpRequest。</li>
</ol>
<p>注意：由于是纯前端，我们将不使用任何框架，因此需要手动管理DOM和事件。</p>
<p>我们假设后端API已经存在，并且按照之前的Spring Boot项目提供以下接口（以实际后端接口为准）：</p>
<ul>
<li>获取任务列表：GET &#x2F;api&#x2F;tasks</li>
<li>创建任务：POST &#x2F;api&#x2F;tasks</li>
<li>更新任务：PUT &#x2F;api&#x2F;tasks&#x2F;{id}</li>
<li>删除任务：DELETE &#x2F;api&#x2F;tasks&#x2F;{id}</li>
<li>更新任务状态：PUT &#x2F;api&#x2F;tasks&#x2F;{id}&#x2F;status</li>
<li>搜索任务：GET &#x2F;api&#x2F;tasks&#x2F;search</li>
<li>导出任务：GET &#x2F;api&#x2F;tasks&#x2F;export</li>
</ul>
<p>由于时间关系，我们不会实现所有功能，但会实现核心功能，并展示如何组织代码。</p>
<p>我们将按照以下结构组织前端代码：</p>
<p>项目结构：<br>todolist-html&#x2F;<br>index.html # 主页面<br>style.css # 样式文件<br>script.js # 主JavaScript文件<br>api.js # 封装与后端API交互的函数<br>utils.js # 工具函数</p>
<p>由于这是一个示例，我们将重点放在任务列表的展示、创建和更新上。</p>
<p>让我们开始编写代码。</p>
<p>注意：由于安全考虑，我们需要注意跨域问题（CORS）。假设后端已经配置了允许前端域名的跨域请求。</p>
<p>我们将使用模块化的JavaScript（ES6模块）来组织代码，但这需要在服务器上运行，不能直接通过文件系统打开（因为CORS和模块加载限制）。建议使用一个简单的HTTP服务器来运行。</p>
<p>我们使用一个简单的HTML结构，然后通过JavaScript动态渲染任务。</p>
<p>考虑到复杂性，我们只实现列表视图，其他视图（看板、日历）可以类似实现。</p>
<p>我们将分步骤进行：</p>
<ol>
<li>创建HTML结构（包括头部、任务列表容器、创建任务按钮、搜索框等）</li>
<li>编写CSS样式</li>
<li>编写JavaScript代码：<br>a. 定义API调用函数<br>b. 定义渲染函数，将任务渲染到页面<br>c. 定义事件处理函数，处理用户交互</li>
</ol>
<p>由于代码量较大，我们将分部分展示。</p>
<p>首先，我们创建HTML文件（index.html）：</p>
<h1 id="基于-Spring-Boot-后端的纯-HTML-CSS-JavaScript-前端"><a href="#基于-Spring-Boot-后端的纯-HTML-CSS-JavaScript-前端" class="headerlink" title="基于 Spring Boot 后端的纯 HTML&#x2F;CSS&#x2F;JavaScript 前端"></a>基于 Spring Boot 后端的纯 HTML&#x2F;CSS&#x2F;JavaScript 前端</h1><p>我理解您的需求了：保留原来的 Spring Boot 后端，但前端使用纯 HTML&#x2F;CSS&#x2F;JavaScript（无 Vue.js 框架）。这样整个项目就是：</p>
<ul>
<li><strong>后端</strong>：Spring Boot（Java）</li>
<li><strong>前端</strong>：纯 HTML&#x2F;CSS&#x2F;JavaScript（无框架）</li>
<li><strong>通信</strong>：通过 REST API（Fetch API）</li>
<li><strong>部署</strong>：Spring Boot 嵌入前端资源</li>
</ul>
<h2 id="项目结构调整"><a href="#项目结构调整" class="headerlink" title="项目结构调整"></a>项目结构调整</h2><p>text</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">todolist-springboot-pure-html/</span><br><span class="line">├── backend/                    # Spring Boot 后端（与之前相同）</span><br><span class="line">│   └── src/main/</span><br><span class="line">│       ├── java/</span><br><span class="line">│       └── resources/</span><br><span class="line">│           ├── static/         # 存放前端静态文件</span><br><span class="line">│           │   ├── index.html</span><br><span class="line">│           │   ├── css/</span><br><span class="line">│           │   ├── js/</span><br><span class="line">│           │   └── assets/</span><br><span class="line">│           └── application.yml</span><br><span class="line">├── frontend/                   # 纯前端文件（开发目录）</span><br><span class="line">│   ├── index.html</span><br><span class="line">│   ├── css/</span><br><span class="line">│   ├── js/</span><br><span class="line">│   └── assets/</span><br><span class="line">└── build.js                    # 构建脚本（将前端文件复制到后端static目录）</span><br></pre></td></tr></table></figure>



<h2 id="1-前端-HTML-index-html"><a href="#1-前端-HTML-index-html" class="headerlink" title="1. 前端 HTML (index.html)"></a>1. 前端 HTML (index.html)</h2><p>html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh-CN&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;智能待办清单 - Spring Boot + 纯前端&lt;/title&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- CSS 框架 --&gt;</span><br><span class="line">    &lt;link href=&quot;https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 自定义样式 --&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/style.css&quot;&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 图标 --&gt;</span><br><span class="line">    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;/assets/favicon.ico&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 导航栏 --&gt;</span><br><span class="line">    &lt;nav class=&quot;navbar&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;nav-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;nav-brand&quot;&gt;</span><br><span class="line">                &lt;i class=&quot;fas fa-tasks&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;span&gt;智能待办清单&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;!-- 搜索框 --&gt;</span><br><span class="line">            &lt;div class=&quot;nav-search&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;search-box&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-search&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot; id=&quot;searchInput&quot; placeholder=&quot;搜索任务...&quot;&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;!-- 用户操作 --&gt;</span><br><span class="line">            &lt;div class=&quot;nav-actions&quot;&gt;</span><br><span class="line">                &lt;button id=&quot;themeToggle&quot; class=&quot;icon-btn&quot; title=&quot;切换主题&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-moon&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &lt;div class=&quot;user-menu&quot;&gt;</span><br><span class="line">                    &lt;img src=&quot;https://ui-avatars.com/api/?name=User&amp;background=1890ff&amp;color=fff&quot; </span><br><span class="line">                         alt=&quot;用户头像&quot; class=&quot;user-avatar&quot;&gt;</span><br><span class="line">                    &lt;span id=&quot;username&quot;&gt;加载中...&lt;/span&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-chevron-down&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;div class=&quot;user-dropdown&quot;&gt;</span><br><span class="line">                        &lt;a href=&quot;#&quot; id=&quot;logoutBtn&quot;&gt;退出登录&lt;/a&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 主容器 --&gt;</span><br><span class="line">    &lt;div class=&quot;main-container&quot;&gt;</span><br><span class="line">        &lt;!-- 侧边栏 --&gt;</span><br><span class="line">        &lt;aside class=&quot;sidebar&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;快捷操作&lt;/h3&gt;</span><br><span class="line">                &lt;button id=&quot;newTaskBtn&quot; class=&quot;sidebar-btn primary&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; 新建任务</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;分类&lt;/h3&gt;</span><br><span class="line">                &lt;div class=&quot;categories&quot; id=&quot;categoriesList&quot;&gt;</span><br><span class="line">                    &lt;!-- 分类将通过JS动态加载 --&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;sidebar-section&quot;&gt;</span><br><span class="line">                &lt;h3&gt;统计&lt;/h3&gt;</span><br><span class="line">                &lt;div class=&quot;stats&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;stat-item&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-value&quot; id=&quot;totalTasks&quot;&gt;0&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-label&quot;&gt;总任务&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;stat-item&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-value&quot; id=&quot;completedTasks&quot;&gt;0&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-label&quot;&gt;已完成&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;stat-item&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-value&quot; id=&quot;pendingTasks&quot;&gt;0&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;stat-label&quot;&gt;待完成&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/aside&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 主要内容 --&gt;</span><br><span class="line">        &lt;main class=&quot;content&quot;&gt;</span><br><span class="line">            &lt;!-- 工具栏 --&gt;</span><br><span class="line">            &lt;div class=&quot;toolbar&quot;&gt;</span><br><span class="line">                &lt;h2 id=&quot;pageTitle&quot;&gt;我的任务&lt;/h2&gt;</span><br><span class="line">                &lt;div class=&quot;toolbar-actions&quot;&gt;</span><br><span class="line">                    &lt;select id=&quot;filterStatus&quot; class=&quot;filter-select&quot;&gt;</span><br><span class="line">                        &lt;option value=&quot;ALL&quot;&gt;所有状态&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;TODO&quot;&gt;待办&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;IN_PROGRESS&quot;&gt;进行中&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;DONE&quot;&gt;已完成&lt;/option&gt;</span><br><span class="line">                    &lt;/select&gt;</span><br><span class="line">                    &lt;select id=&quot;filterPriority&quot; class=&quot;filter-select&quot;&gt;</span><br><span class="line">                        &lt;option value=&quot;ALL&quot;&gt;所有优先级&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;LOW&quot;&gt;低&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;MEDIUM&quot;&gt;中&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;HIGH&quot;&gt;高&lt;/option&gt;</span><br><span class="line">                        &lt;option value=&quot;URGENT&quot;&gt;紧急&lt;/option&gt;</span><br><span class="line">                    &lt;/select&gt;</span><br><span class="line">                    &lt;button id=&quot;exportBtn&quot; class=&quot;btn btn-secondary&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-download&quot;&gt;&lt;/i&gt; 导出</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 任务列表 --&gt;</span><br><span class="line">            &lt;div class=&quot;tasks-container&quot;&gt;</span><br><span class="line">                &lt;div id=&quot;tasksList&quot; class=&quot;tasks-list&quot;&gt;</span><br><span class="line">                    &lt;!-- 任务将通过JS动态加载 --&gt;</span><br><span class="line">                    &lt;div class=&quot;loading&quot; id=&quot;loading&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;fas fa-spinner fa-spin&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;加载任务中...&lt;/span&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/main&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 任务详情模态框 --&gt;</span><br><span class="line">    &lt;div id=&quot;taskModal&quot; class=&quot;modal&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;modal-content&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;modal-header&quot;&gt;</span><br><span class="line">                &lt;h3 id=&quot;modalTitle&quot;&gt;新建任务&lt;/h3&gt;</span><br><span class="line">                &lt;button class=&quot;close-modal&quot;&gt;&amp;times;&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;modal-body&quot;&gt;</span><br><span class="line">                &lt;form id=&quot;taskForm&quot;&gt;</span><br><span class="line">                    &lt;input type=&quot;hidden&quot; id=&quot;taskId&quot;&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label for=&quot;taskTitle&quot;&gt;标题 *&lt;/label&gt;</span><br><span class="line">                        &lt;input type=&quot;text&quot; id=&quot;taskTitle&quot; required&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label for=&quot;taskDescription&quot;&gt;描述&lt;/label&gt;</span><br><span class="line">                        &lt;textarea id=&quot;taskDescription&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-row&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;taskStatus&quot;&gt;状态&lt;/label&gt;</span><br><span class="line">                            &lt;select id=&quot;taskStatus&quot;&gt;</span><br><span class="line">                                &lt;option value=&quot;TODO&quot;&gt;待办&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;IN_PROGRESS&quot;&gt;进行中&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;DONE&quot;&gt;已完成&lt;/option&gt;</span><br><span class="line">                            &lt;/select&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;taskPriority&quot;&gt;优先级&lt;/label&gt;</span><br><span class="line">                            &lt;select id=&quot;taskPriority&quot;&gt;</span><br><span class="line">                                &lt;option value=&quot;LOW&quot;&gt;低&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;MEDIUM&quot;&gt;中&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;HIGH&quot;&gt;高&lt;/option&gt;</span><br><span class="line">                                &lt;option value=&quot;URGENT&quot;&gt;紧急&lt;/option&gt;</span><br><span class="line">                            &lt;/select&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-row&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;dueDate&quot;&gt;截止日期&lt;/label&gt;</span><br><span class="line">                            &lt;input type=&quot;datetime-local&quot; id=&quot;dueDate&quot;&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;estimatedMinutes&quot;&gt;预估时间(分钟)&lt;/label&gt;</span><br><span class="line">                            &lt;input type=&quot;number&quot; id=&quot;estimatedMinutes&quot; min=&quot;0&quot;&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;label&gt;分类&lt;/label&gt;</span><br><span class="line">                        &lt;div class=&quot;category-tags&quot; id=&quot;categorySelection&quot;&gt;</span><br><span class="line">                            &lt;!-- 分类将通过JS动态加载 --&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div class=&quot;form-actions&quot;&gt;</span><br><span class="line">                        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary close-modal&quot;&gt;取消&lt;/button&gt;</span><br><span class="line">                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;保存&lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 评论模态框 --&gt;</span><br><span class="line">    &lt;div id=&quot;commentModal&quot; class=&quot;modal&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;modal-content&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;modal-header&quot;&gt;</span><br><span class="line">                &lt;h3&gt;任务评论&lt;/h3&gt;</span><br><span class="line">                &lt;button class=&quot;close-modal&quot;&gt;&amp;times;&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;modal-body&quot;&gt;</span><br><span class="line">                &lt;div id=&quot;commentsList&quot;&gt;&lt;/div&gt;</span><br><span class="line">                &lt;form id=&quot;commentForm&quot;&gt;</span><br><span class="line">                    &lt;input type=&quot;hidden&quot; id=&quot;commentTaskId&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                        &lt;textarea id=&quot;commentContent&quot; placeholder=&quot;输入评论...&quot; rows=&quot;3&quot; required&gt;&lt;/textarea&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;添加评论&lt;/button&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 通知容器 --&gt;</span><br><span class="line">    &lt;div id=&quot;notificationContainer&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- JavaScript文件 --&gt;</span><br><span class="line">    &lt;script src=&quot;/js/auth.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;/js/api.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;/js/utils.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;/js/main.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 初始化应用 --&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        // 页面加载完成后初始化应用</span><br><span class="line">        document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span><br><span class="line">            // 检查登录状态</span><br><span class="line">            if (!Auth.isLoggedIn()) &#123;</span><br><span class="line">                window.location.href = &#x27;/login.html&#x27;;</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 初始化应用</span><br><span class="line">            TodoApp.init();</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h2 id="2-CSS-样式-style-css"><a href="#2-CSS-样式-style-css" class="headerlink" title="2. CSS 样式 (style.css)"></a>2. CSS 样式 (style.css)</h2><p>css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br></pre></td><td class="code"><pre><span class="line">/* 基础样式 */</span><br><span class="line">:root &#123;</span><br><span class="line">    --primary-color: #1890ff;</span><br><span class="line">    --primary-dark: #096dd9;</span><br><span class="line">    --success-color: #52c41a;</span><br><span class="line">    --warning-color: #faad14;</span><br><span class="line">    --error-color: #f5222d;</span><br><span class="line">    --text-primary: #262626;</span><br><span class="line">    --text-secondary: #595959;</span><br><span class="line">    --border-color: #d9d9d9;</span><br><span class="line">    --background-color: #ffffff;</span><br><span class="line">    --sidebar-bg: #fafafa;</span><br><span class="line">    --card-bg: #ffffff;</span><br><span class="line">    --shadow-color: rgba(0, 0, 0, 0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] &#123;</span><br><span class="line">    --primary-color: #177ddc;</span><br><span class="line">    --text-primary: #e6e6e6;</span><br><span class="line">    --text-secondary: #a6a6a6;</span><br><span class="line">    --background-color: #141414;</span><br><span class="line">    --sidebar-bg: #1f1f1f;</span><br><span class="line">    --card-bg: #262626;</span><br><span class="line">    --border-color: #434343;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">* &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">    font-family: &#x27;Inter&#x27;, -apple-system, BlinkMacSystemFont, sans-serif;</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    line-height: 1.6;</span><br><span class="line">    transition: background-color 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 导航栏 */</span><br><span class="line">.navbar &#123;</span><br><span class="line">    height: 64px;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">    position: sticky;</span><br><span class="line">    top: 0;</span><br><span class="line">    z-index: 100;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-container &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    height: 100%;</span><br><span class="line">    padding: 0 24px;</span><br><span class="line">    max-width: 1400px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-brand &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 12px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-brand i &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-search &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    max-width: 400px;</span><br><span class="line">    margin: 0 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    padding: 8px 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box i &#123;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    margin-right: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.search-box input &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    border: none;</span><br><span class="line">    background: transparent;</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    outline: none;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-actions &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.icon-btn &#123;</span><br><span class="line">    width: 36px;</span><br><span class="line">    height: 36px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    border: none;</span><br><span class="line">    background: none;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    transition: background-color 0.2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.icon-btn:hover &#123;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-menu &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 8px;</span><br><span class="line">    padding: 4px 8px;</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: background-color 0.2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-menu:hover &#123;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-menu:hover .user-dropdown &#123;</span><br><span class="line">    display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-avatar &#123;</span><br><span class="line">    width: 32px;</span><br><span class="line">    height: 32px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-dropdown &#123;</span><br><span class="line">    display: none;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 100%;</span><br><span class="line">    right: 0;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    min-width: 120px;</span><br><span class="line">    box-shadow: 0 4px 12px var(--shadow-color);</span><br><span class="line">    z-index: 1000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-dropdown a &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    padding: 12px 16px;</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    transition: background-color 0.2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user-dropdown a:hover &#123;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 主布局 */</span><br><span class="line">.main-container &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    min-height: calc(100vh - 64px);</span><br><span class="line">    max-width: 1400px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 侧边栏 */</span><br><span class="line">.sidebar &#123;</span><br><span class="line">    width: 280px;</span><br><span class="line">    background-color: var(--sidebar-bg);</span><br><span class="line">    border-right: 1px solid var(--border-color);</span><br><span class="line">    padding: 24px;</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-section &#123;</span><br><span class="line">    margin-bottom: 32px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-section h3 &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    margin-bottom: 16px;</span><br><span class="line">    text-transform: uppercase;</span><br><span class="line">    letter-spacing: 0.5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 12px 16px;</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 8px;</span><br><span class="line">    margin-bottom: 8px;</span><br><span class="line">    transition: all 0.2s;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn:hover &#123;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn.primary &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-btn.primary:hover &#123;</span><br><span class="line">    background-color: var(--primary-dark);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.categories &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-item &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    padding: 8px 12px;</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: background-color 0.2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-item:hover &#123;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-item.active &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-count &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    padding: 2px 6px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stats &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(3, 1fr);</span><br><span class="line">    gap: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stat-item &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    padding: 12px;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stat-value &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.stat-label &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    margin-top: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 主要内容 */</span><br><span class="line">.content &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    padding: 24px;</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.toolbar &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    align-items: center;</span><br><span class="line">    margin-bottom: 24px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.toolbar h2 &#123;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.toolbar-actions &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.filter-select &#123;</span><br><span class="line">    padding: 8px 12px;</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 任务列表 */</span><br><span class="line">.tasks-list &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-card &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: 8px;</span><br><span class="line">    padding: 16px;</span><br><span class="line">    transition: all 0.2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-card:hover &#123;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">    box-shadow: 0 4px 12px var(--shadow-color);</span><br><span class="line">    transform: translateY(-2px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: flex-start;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    margin-bottom: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-title &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-status &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    padding: 2px 8px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    margin-left: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.status-TODO &#123;</span><br><span class="line">    background-color: #ffe7ba;</span><br><span class="line">    color: #d46b08;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.status-IN_PROGRESS &#123;</span><br><span class="line">    background-color: #bae7ff;</span><br><span class="line">    color: #096dd9;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.status-DONE &#123;</span><br><span class="line">    background-color: #d9f7be;</span><br><span class="line">    color: #389e0d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-priority &#123;</span><br><span class="line">    display: inline-flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 4px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    padding: 2px 8px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    margin-left: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-LOW &#123;</span><br><span class="line">    background-color: #f6ffed;</span><br><span class="line">    color: #52c41a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-MEDIUM &#123;</span><br><span class="line">    background-color: #fff7e6;</span><br><span class="line">    color: #fa8c16;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-HIGH &#123;</span><br><span class="line">    background-color: #fff2e8;</span><br><span class="line">    color: #fa541c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.priority-URGENT &#123;</span><br><span class="line">    background-color: #fff1f0;</span><br><span class="line">    color: #f5222d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-description &#123;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    margin-bottom: 12px;</span><br><span class="line">    line-height: 1.5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-meta &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 16px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-due &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-due.overdue &#123;</span><br><span class="line">    color: var(--error-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-categories &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    gap: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tag &#123;</span><br><span class="line">    font-size: 11px;</span><br><span class="line">    padding: 2px 6px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-actions &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    gap: 8px;</span><br><span class="line">    margin-top: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.task-actions button &#123;</span><br><span class="line">    padding: 4px 8px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loading &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    padding: 48px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loading i &#123;</span><br><span class="line">    font-size: 32px;</span><br><span class="line">    margin-bottom: 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 模态框 */</span><br><span class="line">.modal &#123;</span><br><span class="line">    display: none;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: rgba(0, 0, 0, 0.5);</span><br><span class="line">    z-index: 1000;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal.active &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-content &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-radius: 8px;</span><br><span class="line">    width: 90%;</span><br><span class="line">    max-width: 600px;</span><br><span class="line">    max-height: 90vh;</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">    box-shadow: 0 8px 32px var(--shadow-color);</span><br><span class="line">    animation: modalSlideIn 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes modalSlideIn &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        opacity: 0;</span><br><span class="line">        transform: translateY(-20px);</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        opacity: 1;</span><br><span class="line">        transform: translateY(0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    padding: 20px 24px;</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-header h3 &#123;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.close-modal &#123;</span><br><span class="line">    background: none;</span><br><span class="line">    border: none;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    line-height: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-body &#123;</span><br><span class="line">    padding: 24px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 表单样式 */</span><br><span class="line">.form-group &#123;</span><br><span class="line">    margin-bottom: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-group label &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    margin-bottom: 6px;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-group input,</span><br><span class="line">.form-group textarea,</span><br><span class="line">.form-group select &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 8px 12px;</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    font-family: inherit;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-group input:focus,</span><br><span class="line">.form-group textarea:focus,</span><br><span class="line">.form-group select:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-row &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: 1fr 1fr;</span><br><span class="line">    gap: 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tags &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    gap: 8px;</span><br><span class="line">    margin-top: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tag-input &#123;</span><br><span class="line">    padding: 4px 8px;</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: all 0.2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tag-input:hover &#123;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-tag-input.selected &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">    border-color: var(--primary-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.form-actions &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: flex-end;</span><br><span class="line">    gap: 12px;</span><br><span class="line">    margin-top: 32px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 按钮 */</span><br><span class="line">.btn &#123;</span><br><span class="line">    padding: 8px 16px;</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: all 0.2s;</span><br><span class="line">    display: inline-flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 6px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-primary &#123;</span><br><span class="line">    background-color: var(--primary-color);</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-primary:hover &#123;</span><br><span class="line">    background-color: var(--primary-dark);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-secondary &#123;</span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">    color: var(--text-primary);</span><br><span class="line">    border: 1px solid var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-secondary:hover &#123;</span><br><span class="line">    background-color: var(--border-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-sm &#123;</span><br><span class="line">    padding: 4px 8px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 通知 */</span><br><span class="line">.notification-container &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    bottom: 20px;</span><br><span class="line">    right: 20px;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    gap: 8px;</span><br><span class="line">    z-index: 2000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification &#123;</span><br><span class="line">    background-color: var(--card-bg);</span><br><span class="line">    border-left: 4px solid var(--primary-color);</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    padding: 12px 16px;</span><br><span class="line">    box-shadow: 0 4px 12px var(--shadow-color);</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 12px;</span><br><span class="line">    min-width: 300px;</span><br><span class="line">    animation: notificationSlideIn 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes notificationSlideIn &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        opacity: 0;</span><br><span class="line">        transform: translateX(100%);</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        opacity: 1;</span><br><span class="line">        transform: translateX(0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification.success &#123;</span><br><span class="line">    border-left-color: var(--success-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification.error &#123;</span><br><span class="line">    border-left-color: var(--error-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification.warning &#123;</span><br><span class="line">    border-left-color: var(--warning-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification-content &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification-title &#123;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    margin-bottom: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.notification-message &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 响应式 */</span><br><span class="line">@media (max-width: 768px) &#123;</span><br><span class="line">    .main-container &#123;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .sidebar &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        border-right: none;</span><br><span class="line">        border-bottom: 1px solid var(--border-color);</span><br><span class="line">        padding: 16px;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .nav-search &#123;</span><br><span class="line">        display: none;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .form-row &#123;</span><br><span class="line">        grid-template-columns: 1fr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .toolbar &#123;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        align-items: flex-start;</span><br><span class="line">        gap: 12px;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .toolbar-actions &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        justify-content: space-between;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 评论样式 */</span><br><span class="line">.comment &#123;</span><br><span class="line">    padding: 12px;</span><br><span class="line">    border-bottom: 1px solid var(--border-color);</span><br><span class="line">    margin-bottom: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.comment:last-child &#123;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.comment-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    gap: 8px;</span><br><span class="line">    margin-bottom: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.comment-avatar &#123;</span><br><span class="line">    width: 32px;</span><br><span class="line">    height: 32px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.comment-author &#123;</span><br><span class="line">    font-weight: 500;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.comment-time &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    color: var(--text-secondary);</span><br><span class="line">    margin-left: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.comment-content &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 1.5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-JavaScript-文件结构"><a href="#3-JavaScript-文件结构" class="headerlink" title="3. JavaScript 文件结构"></a>3. JavaScript 文件结构</h2><h3 id="3-1-认证模块-auth-js"><a href="#3-1-认证模块-auth-js" class="headerlink" title="3.1 认证模块 (auth.js)"></a>3.1 认证模块 (auth.js)</h3><p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 认证模块 - 处理用户登录状态和JWT令牌</span><br><span class="line"> */</span><br><span class="line">const Auth = &#123;</span><br><span class="line">    // 获取当前用户的JWT令牌</span><br><span class="line">    getToken: function() &#123;</span><br><span class="line">        return localStorage.getItem(&#x27;jwt_token&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 设置JWT令牌</span><br><span class="line">    setToken: function(token) &#123;</span><br><span class="line">        localStorage.setItem(&#x27;jwt_token&#x27;, token);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 清除令牌（登出）</span><br><span class="line">    clearToken: function() &#123;</span><br><span class="line">        localStorage.removeItem(&#x27;jwt_token&#x27;);</span><br><span class="line">        localStorage.removeItem(&#x27;user_info&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 检查是否已登录</span><br><span class="line">    isLoggedIn: function() &#123;</span><br><span class="line">        const token = this.getToken();</span><br><span class="line">        if (!token) return false;</span><br><span class="line">        </span><br><span class="line">        // 简单检查token是否过期（实际应该解析JWT）</span><br><span class="line">        // 这里简化处理，实际项目中应该解析JWT并检查过期时间</span><br><span class="line">        return true;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 获取当前用户信息</span><br><span class="line">    getUserInfo: function() &#123;</span><br><span class="line">        const userInfo = localStorage.getItem(&#x27;user_info&#x27;);</span><br><span class="line">        return userInfo ? JSON.parse(userInfo) : null;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 设置用户信息</span><br><span class="line">    setUserInfo: function(userInfo) &#123;</span><br><span class="line">        localStorage.setItem(&#x27;user_info&#x27;, JSON.stringify(userInfo));</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 登出</span><br><span class="line">    logout: function() &#123;</span><br><span class="line">        this.clearToken();</span><br><span class="line">        window.location.href = &#x27;/login.html&#x27;;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 获取请求头（包含Authorization）</span><br><span class="line">    getAuthHeader: function() &#123;</span><br><span class="line">        const token = this.getToken();</span><br><span class="line">        return token ? &#123; &#x27;Authorization&#x27;: &#x27;Bearer &#x27; + token &#125; : &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="3-2-API-模块-api-js"><a href="#3-2-API-模块-api-js" class="headerlink" title="3.2 API 模块 (api.js)"></a>3.2 API 模块 (api.js)</h3><p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * API模块 - 封装与后端REST API的通信</span><br><span class="line"> */</span><br><span class="line">const API = &#123;</span><br><span class="line">    // API基础URL</span><br><span class="line">    BASE_URL: &#x27;/api&#x27;,</span><br><span class="line">    </span><br><span class="line">    // 通用请求方法</span><br><span class="line">    request: async function(endpoint, options = &#123;&#125;) &#123;</span><br><span class="line">        const url = this.BASE_URL + endpoint;</span><br><span class="line">        </span><br><span class="line">        // 设置默认请求头</span><br><span class="line">        const headers = &#123;</span><br><span class="line">            &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,</span><br><span class="line">            ...Auth.getAuthHeader(),</span><br><span class="line">            ...options.headers</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        // 合并选项</span><br><span class="line">        const requestOptions = &#123;</span><br><span class="line">            ...options,</span><br><span class="line">            headers</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        try &#123;</span><br><span class="line">            const response = await fetch(url, requestOptions);</span><br><span class="line">            </span><br><span class="line">            // 处理401未授权</span><br><span class="line">            if (response.status === 401) &#123;</span><br><span class="line">                Auth.logout();</span><br><span class="line">                throw new Error(&#x27;登录已过期，请重新登录&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 处理响应</span><br><span class="line">            if (!response.ok) &#123;</span><br><span class="line">                const errorData = await response.json().catch(() =&gt; (&#123;&#125;));</span><br><span class="line">                throw new Error(errorData.message || `请求失败: $&#123;response.status&#125;`);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 对于204 No Content响应，返回null</span><br><span class="line">            if (response.status === 204) &#123;</span><br><span class="line">                return null;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            return await response.json();</span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;API请求失败:&#x27;, error);</span><br><span class="line">            throw error;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 用户相关API</span><br><span class="line">    User: &#123;</span><br><span class="line">        // 获取当前用户信息</span><br><span class="line">        getCurrentUser: async function() &#123;</span><br><span class="line">            return await API.request(&#x27;/auth/me&#x27;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 更新用户信息</span><br><span class="line">        updateProfile: async function(userData) &#123;</span><br><span class="line">            return await API.request(&#x27;/auth/profile&#x27;, &#123;</span><br><span class="line">                method: &#x27;PUT&#x27;,</span><br><span class="line">                body: JSON.stringify(userData)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 任务相关API</span><br><span class="line">    Tasks: &#123;</span><br><span class="line">        // 获取任务列表</span><br><span class="line">        getTasks: async function(params = &#123;&#125;) &#123;</span><br><span class="line">            const queryString = new URLSearchParams(params).toString();</span><br><span class="line">            const endpoint = queryString ? `/tasks?$&#123;queryString&#125;` : &#x27;/tasks&#x27;;</span><br><span class="line">            return await API.request(endpoint);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 获取单个任务</span><br><span class="line">        getTask: async function(id) &#123;</span><br><span class="line">            return await API.request(`/tasks/$&#123;id&#125;`);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 创建任务</span><br><span class="line">        createTask: async function(taskData) &#123;</span><br><span class="line">            return await API.request(&#x27;/tasks&#x27;, &#123;</span><br><span class="line">                method: &#x27;POST&#x27;,</span><br><span class="line">                body: JSON.stringify(taskData)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 更新任务</span><br><span class="line">        updateTask: async function(id, taskData) &#123;</span><br><span class="line">            return await API.request(`/tasks/$&#123;id&#125;`, &#123;</span><br><span class="line">                method: &#x27;PUT&#x27;,</span><br><span class="line">                body: JSON.stringify(taskData)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 删除任务</span><br><span class="line">        deleteTask: async function(id) &#123;</span><br><span class="line">            return await API.request(`/tasks/$&#123;id&#125;`, &#123;</span><br><span class="line">                method: &#x27;DELETE&#x27;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 更新任务状态</span><br><span class="line">        updateTaskStatus: async function(id, status) &#123;</span><br><span class="line">            return await API.request(`/tasks/$&#123;id&#125;/status`, &#123;</span><br><span class="line">                method: &#x27;PUT&#x27;,</span><br><span class="line">                body: JSON.stringify(&#123; status &#125;)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 搜索任务</span><br><span class="line">        searchTasks: async function(query) &#123;</span><br><span class="line">            return await API.request(&#x27;/tasks/search&#x27;, &#123;</span><br><span class="line">                method: &#x27;POST&#x27;,</span><br><span class="line">                body: JSON.stringify(query)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 导出任务</span><br><span class="line">        exportTasks: async function(format = &#x27;excel&#x27;) &#123;</span><br><span class="line">            const response = await fetch(API.BASE_URL + `/tasks/export?format=$&#123;format&#125;`, &#123;</span><br><span class="line">                headers: Auth.getAuthHeader()</span><br><span class="line">            &#125;);</span><br><span class="line">            </span><br><span class="line">            if (!response.ok) &#123;</span><br><span class="line">                throw new Error(&#x27;导出失败&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            return await response.blob();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 分类相关API</span><br><span class="line">    Categories: &#123;</span><br><span class="line">        // 获取分类列表</span><br><span class="line">        getCategories: async function() &#123;</span><br><span class="line">            return await API.request(&#x27;/categories&#x27;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 创建分类</span><br><span class="line">        createCategory: async function(categoryData) &#123;</span><br><span class="line">            return await API.request(&#x27;/categories&#x27;, &#123;</span><br><span class="line">                method: &#x27;POST&#x27;,</span><br><span class="line">                body: JSON.stringify(categoryData)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 评论相关API</span><br><span class="line">    Comments: &#123;</span><br><span class="line">        // 获取任务评论</span><br><span class="line">        getComments: async function(taskId) &#123;</span><br><span class="line">            return await API.request(`/tasks/$&#123;taskId&#125;/comments`);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 添加评论</span><br><span class="line">        addComment: async function(taskId, content) &#123;</span><br><span class="line">            return await API.request(`/tasks/$&#123;taskId&#125;/comments`, &#123;</span><br><span class="line">                method: &#x27;POST&#x27;,</span><br><span class="line">                body: JSON.stringify(&#123; content &#125;)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        // 删除评论</span><br><span class="line">        deleteComment: async function(taskId, commentId) &#123;</span><br><span class="line">            return await API.request(`/tasks/$&#123;taskId&#125;/comments/$&#123;commentId&#125;`, &#123;</span><br><span class="line">                method: &#x27;DELETE&#x27;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="3-3-工具模块-utils-js"><a href="#3-3-工具模块-utils-js" class="headerlink" title="3.3 工具模块 (utils.js)"></a>3.3 工具模块 (utils.js)</h3><p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 工具模块 - 通用工具函数</span><br><span class="line"> */</span><br><span class="line">const Utils = &#123;</span><br><span class="line">    // 显示通知</span><br><span class="line">    showNotification: function(title, message, type = &#x27;info&#x27;) &#123;</span><br><span class="line">        const container = document.getElementById(&#x27;notificationContainer&#x27;);</span><br><span class="line">        </span><br><span class="line">        const notification = document.createElement(&#x27;div&#x27;);</span><br><span class="line">        notification.className = `notification $&#123;type&#125;`;</span><br><span class="line">        notification.innerHTML = `</span><br><span class="line">            &lt;div class=&quot;notification-content&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;notification-title&quot;&gt;$&#123;title&#125;&lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;notification-message&quot;&gt;$&#123;message&#125;&lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;button class=&quot;close-notification&quot;&gt;&amp;times;&lt;/button&gt;</span><br><span class="line">        `;</span><br><span class="line">        </span><br><span class="line">        container.appendChild(notification);</span><br><span class="line">        </span><br><span class="line">        // 添加关闭按钮事件</span><br><span class="line">        const closeBtn = notification.querySelector(&#x27;.close-notification&#x27;);</span><br><span class="line">        closeBtn.onclick = () =&gt; notification.remove();</span><br><span class="line">        </span><br><span class="line">        // 5秒后自动移除</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            if (notification.parentNode) &#123;</span><br><span class="line">                notification.remove();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, 5000);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 格式化日期</span><br><span class="line">    formatDate: function(dateString, format = &#x27;datetime&#x27;) &#123;</span><br><span class="line">        if (!dateString) return &#x27;&#x27;;</span><br><span class="line">        </span><br><span class="line">        const date = new Date(dateString);</span><br><span class="line">        </span><br><span class="line">        if (format === &#x27;date&#x27;) &#123;</span><br><span class="line">            return date.toLocaleDateString(&#x27;zh-CN&#x27;);</span><br><span class="line">        &#125; else if (format === &#x27;time&#x27;) &#123;</span><br><span class="line">            return date.toLocaleTimeString(&#x27;zh-CN&#x27;, &#123; </span><br><span class="line">                hour: &#x27;2-digit&#x27;, </span><br><span class="line">                minute: &#x27;2-digit&#x27; </span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return date.toLocaleString(&#x27;zh-CN&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 格式化相对时间（如&quot;2小时前&quot;）</span><br><span class="line">    formatRelativeTime: function(dateString) &#123;</span><br><span class="line">        const date = new Date(dateString);</span><br><span class="line">        const now = new Date();</span><br><span class="line">        const diffMs = now - date;</span><br><span class="line">        const diffMins = Math.floor(diffMs / 60000);</span><br><span class="line">        const diffHours = Math.floor(diffMs / 3600000);</span><br><span class="line">        const diffDays = Math.floor(diffMs / 86400000);</span><br><span class="line">        </span><br><span class="line">        if (diffMins &lt; 1) &#123;</span><br><span class="line">            return &#x27;刚刚&#x27;;</span><br><span class="line">        &#125; else if (diffMins &lt; 60) &#123;</span><br><span class="line">            return `$&#123;diffMins&#125;分钟前`;</span><br><span class="line">        &#125; else if (diffHours &lt; 24) &#123;</span><br><span class="line">            return `$&#123;diffHours&#125;小时前`;</span><br><span class="line">        &#125; else if (diffDays &lt; 7) &#123;</span><br><span class="line">            return `$&#123;diffDays&#125;天前`;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return this.formatDate(dateString, &#x27;date&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 检查任务是否过期</span><br><span class="line">    isTaskOverdue: function(task) &#123;</span><br><span class="line">        if (!task.dueDate || task.status === &#x27;DONE&#x27;) return false;</span><br><span class="line">        </span><br><span class="line">        const dueDate = new Date(task.dueDate);</span><br><span class="line">        const now = new Date();</span><br><span class="line">        return dueDate &lt; now;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 防抖函数</span><br><span class="line">    debounce: function(func, wait) &#123;</span><br><span class="line">        let timeout;</span><br><span class="line">        return function executedFunction(...args) &#123;</span><br><span class="line">            const later = () =&gt; &#123;</span><br><span class="line">                clearTimeout(timeout);</span><br><span class="line">                func(...args);</span><br><span class="line">            &#125;;</span><br><span class="line">            clearTimeout(timeout);</span><br><span class="line">            timeout = setTimeout(later, wait);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 节流函数</span><br><span class="line">    throttle: function(func, limit) &#123;</span><br><span class="line">        let inThrottle;</span><br><span class="line">        return function(...args) &#123;</span><br><span class="line">            if (!inThrottle) &#123;</span><br><span class="line">                func.apply(this, args);</span><br><span class="line">                inThrottle = true;</span><br><span class="line">                setTimeout(() =&gt; inThrottle = false, limit);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 生成随机颜色</span><br><span class="line">    generateRandomColor: function() &#123;</span><br><span class="line">        const colors = [</span><br><span class="line">            &#x27;#1890ff&#x27;, &#x27;#52c41a&#x27;, &#x27;#fa8c16&#x27;, &#x27;#f5222d&#x27;,</span><br><span class="line">            &#x27;#722ed1&#x27;, &#x27;#13c2c2&#x27;, &#x27;#eb2f96&#x27;, &#x27;#faad14&#x27;</span><br><span class="line">        ];</span><br><span class="line">        return colors[Math.floor(Math.random() * colors.length)];</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 转义HTML</span><br><span class="line">    escapeHtml: function(text) &#123;</span><br><span class="line">        const div = document.createElement(&#x27;div&#x27;);</span><br><span class="line">        div.textContent = text;</span><br><span class="line">        return div.innerHTML;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 下载文件</span><br><span class="line">    downloadFile: function(blob, filename) &#123;</span><br><span class="line">        const url = window.URL.createObjectURL(blob);</span><br><span class="line">        const a = document.createElement(&#x27;a&#x27;);</span><br><span class="line">        a.href = url;</span><br><span class="line">        a.download = filename;</span><br><span class="line">        document.body.appendChild(a);</span><br><span class="line">        a.click();</span><br><span class="line">        document.body.removeChild(a);</span><br><span class="line">        window.URL.revokeObjectURL(url);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="3-4-主应用模块-main-js"><a href="#3-4-主应用模块-main-js" class="headerlink" title="3.4 主应用模块 (main.js)"></a>3.4 主应用模块 (main.js)</h3><p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 主应用模块 - 管理应用状态和UI</span><br><span class="line"> */</span><br><span class="line">const TodoApp = &#123;</span><br><span class="line">    // 应用状态</span><br><span class="line">    state: &#123;</span><br><span class="line">        tasks: [],</span><br><span class="line">        categories: [],</span><br><span class="line">        currentFilter: &#x27;ALL&#x27;,</span><br><span class="line">        currentPriority: &#x27;ALL&#x27;,</span><br><span class="line">        currentCategory: null,</span><br><span class="line">        isLoading: false</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 初始化应用</span><br><span class="line">    init: function() &#123;</span><br><span class="line">        this.bindEvents();</span><br><span class="line">        this.loadUserInfo();</span><br><span class="line">        this.loadCategories();</span><br><span class="line">        this.loadTasks();</span><br><span class="line">        this.initTheme();</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 绑定事件监听器</span><br><span class="line">    bindEvents: function() &#123;</span><br><span class="line">        // 新建任务按钮</span><br><span class="line">        document.getElementById(&#x27;newTaskBtn&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.openTaskModal();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 登出按钮</span><br><span class="line">        document.getElementById(&#x27;logoutBtn&#x27;).addEventListener(&#x27;click&#x27;, (e) =&gt; &#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">            Auth.logout();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 主题切换</span><br><span class="line">        document.getElementById(&#x27;themeToggle&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.toggleTheme();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 导出按钮</span><br><span class="line">        document.getElementById(&#x27;exportBtn&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.exportTasks();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 筛选器变化</span><br><span class="line">        document.getElementById(&#x27;filterStatus&#x27;).addEventListener(&#x27;change&#x27;, (e) =&gt; &#123;</span><br><span class="line">            this.state.currentFilter = e.target.value;</span><br><span class="line">            this.loadTasks();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        document.getElementById(&#x27;filterPriority&#x27;).addEventListener(&#x27;change&#x27;, (e) =&gt; &#123;</span><br><span class="line">            this.state.currentPriority = e.target.value;</span><br><span class="line">            this.loadTasks();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 搜索框输入（防抖）</span><br><span class="line">        const searchInput = document.getElementById(&#x27;searchInput&#x27;);</span><br><span class="line">        const debouncedSearch = Utils.debounce(() =&gt; &#123;</span><br><span class="line">            this.loadTasks();</span><br><span class="line">        &#125;, 500);</span><br><span class="line">        searchInput.addEventListener(&#x27;input&#x27;, debouncedSearch);</span><br><span class="line">        </span><br><span class="line">        // 模态框关闭按钮</span><br><span class="line">        document.querySelectorAll(&#x27;.close-modal&#x27;).forEach(btn =&gt; &#123;</span><br><span class="line">            btn.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">                this.closeModal(&#x27;taskModal&#x27;);</span><br><span class="line">                this.closeModal(&#x27;commentModal&#x27;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 任务表单提交</span><br><span class="line">        document.getElementById(&#x27;taskForm&#x27;).addEventListener(&#x27;submit&#x27;, (e) =&gt; &#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">            this.saveTask();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 评论表单提交</span><br><span class="line">        document.getElementById(&#x27;commentForm&#x27;).addEventListener(&#x27;submit&#x27;, (e) =&gt; &#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">            this.addComment();</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        // 点击模态框外部关闭</span><br><span class="line">        document.querySelectorAll(&#x27;.modal&#x27;).forEach(modal =&gt; &#123;</span><br><span class="line">            modal.addEventListener(&#x27;click&#x27;, (e) =&gt; &#123;</span><br><span class="line">                if (e.target === modal) &#123;</span><br><span class="line">                    modal.classList.remove(&#x27;active&#x27;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 加载用户信息</span><br><span class="line">    loadUserInfo: function() &#123;</span><br><span class="line">        API.User.getCurrentUser()</span><br><span class="line">            .then(user =&gt; &#123;</span><br><span class="line">                Auth.setUserInfo(user);</span><br><span class="line">                document.getElementById(&#x27;username&#x27;).textContent = user.username;</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(error =&gt; &#123;</span><br><span class="line">                console.error(&#x27;获取用户信息失败:&#x27;, error);</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 加载分类</span><br><span class="line">    loadCategories: async function() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            const categories = await API.Categories.getCategories();</span><br><span class="line">            this.state.categories = categories;</span><br><span class="line">            this.renderCategories();</span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;加载分类失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;加载分类失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 渲染分类</span><br><span class="line">    renderCategories: function() &#123;</span><br><span class="line">        const container = document.getElementById(&#x27;categoriesList&#x27;);</span><br><span class="line">        const categorySelection = document.getElementById(&#x27;categorySelection&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 清空容器</span><br><span class="line">        container.innerHTML = &#x27;&#x27;;</span><br><span class="line">        categorySelection.innerHTML = &#x27;&#x27;;</span><br><span class="line">        </span><br><span class="line">        // 添加&quot;全部&quot;选项</span><br><span class="line">        const allCategory = document.createElement(&#x27;div&#x27;);</span><br><span class="line">        allCategory.className = &#x27;category-item&#x27; + (this.state.currentCategory === null ? &#x27; active&#x27; : &#x27;&#x27;);</span><br><span class="line">        allCategory.innerHTML = `</span><br><span class="line">            &lt;span&gt;全部&lt;/span&gt;</span><br><span class="line">            &lt;span class=&quot;category-count&quot;&gt;$&#123;this.state.tasks.length&#125;&lt;/span&gt;</span><br><span class="line">        `;</span><br><span class="line">        allCategory.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.state.currentCategory = null;</span><br><span class="line">            this.loadTasks();</span><br><span class="line">            this.renderCategories();</span><br><span class="line">        &#125;);</span><br><span class="line">        container.appendChild(allCategory);</span><br><span class="line">        </span><br><span class="line">        // 添加每个分类</span><br><span class="line">        this.state.categories.forEach(category =&gt; &#123;</span><br><span class="line">            // 侧边栏分类项</span><br><span class="line">            const categoryItem = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            categoryItem.className = &#x27;category-item&#x27; + </span><br><span class="line">                (this.state.currentCategory === category.id ? &#x27; active&#x27; : &#x27;&#x27;);</span><br><span class="line">            categoryItem.innerHTML = `</span><br><span class="line">                &lt;span&gt;$&#123;category.name&#125;&lt;/span&gt;</span><br><span class="line">                &lt;span class=&quot;category-count&quot;&gt;</span><br><span class="line">                    $&#123;this.state.tasks.filter(t =&gt; t.categories &amp;&amp; t.categories.includes(category.id)).length&#125;</span><br><span class="line">                &lt;/span&gt;</span><br><span class="line">            `;</span><br><span class="line">            categoryItem.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">                this.state.currentCategory = category.id;</span><br><span class="line">                this.loadTasks();</span><br><span class="line">                this.renderCategories();</span><br><span class="line">            &#125;);</span><br><span class="line">            container.appendChild(categoryItem);</span><br><span class="line">            </span><br><span class="line">            // 模态框分类标签</span><br><span class="line">            const categoryTag = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            categoryTag.className = &#x27;category-tag-input&#x27;;</span><br><span class="line">            categoryTag.textContent = category.name;</span><br><span class="line">            categoryTag.dataset.id = category.id;</span><br><span class="line">            categoryTag.addEventListener(&#x27;click&#x27;, function() &#123;</span><br><span class="line">                this.classList.toggle(&#x27;selected&#x27;);</span><br><span class="line">            &#125;);</span><br><span class="line">            categorySelection.appendChild(categoryTag);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 加载任务</span><br><span class="line">    loadTasks: async function() &#123;</span><br><span class="line">        this.state.isLoading = true;</span><br><span class="line">        this.showLoading();</span><br><span class="line">        </span><br><span class="line">        try &#123;</span><br><span class="line">            // 构建查询参数</span><br><span class="line">            const params = &#123;&#125;;</span><br><span class="line">            </span><br><span class="line">            if (this.state.currentFilter !== &#x27;ALL&#x27;) &#123;</span><br><span class="line">                params.status = this.state.currentFilter;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            if (this.state.currentPriority !== &#x27;ALL&#x27;) &#123;</span><br><span class="line">                params.priority = this.state.currentPriority;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 搜索关键词</span><br><span class="line">            const searchInput = document.getElementById(&#x27;searchInput&#x27;);</span><br><span class="line">            if (searchInput.value.trim()) &#123;</span><br><span class="line">                params.search = searchInput.value.trim();</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 获取任务</span><br><span class="line">            const response = await API.Tasks.getTasks(params);</span><br><span class="line">            this.state.tasks = response.content || response;</span><br><span class="line">            </span><br><span class="line">            // 渲染任务</span><br><span class="line">            this.renderTasks();</span><br><span class="line">            </span><br><span class="line">            // 更新统计</span><br><span class="line">            this.updateStats();</span><br><span class="line">            </span><br><span class="line">            // 更新分类计数</span><br><span class="line">            this.renderCategories();</span><br><span class="line">            </span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;加载任务失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;加载任务失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            this.state.isLoading = false;</span><br><span class="line">            this.hideLoading();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 渲染任务列表</span><br><span class="line">    renderTasks: function() &#123;</span><br><span class="line">        const container = document.getElementById(&#x27;tasksList&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 过滤任务（按分类）</span><br><span class="line">        let filteredTasks = [...this.state.tasks];</span><br><span class="line">        if (this.state.currentCategory) &#123;</span><br><span class="line">            filteredTasks = filteredTasks.filter(task =&gt; </span><br><span class="line">                task.categories &amp;&amp; task.categories.includes(this.state.currentCategory)</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 清空容器</span><br><span class="line">        container.innerHTML = &#x27;&#x27;;</span><br><span class="line">        </span><br><span class="line">        if (filteredTasks.length === 0) &#123;</span><br><span class="line">            const emptyMessage = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            emptyMessage.className = &#x27;loading&#x27;;</span><br><span class="line">            emptyMessage.innerHTML = `</span><br><span class="line">                &lt;i class=&quot;fas fa-inbox&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;span&gt;暂无任务&lt;/span&gt;</span><br><span class="line">            `;</span><br><span class="line">            container.appendChild(emptyMessage);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 渲染每个任务</span><br><span class="line">        filteredTasks.forEach(task =&gt; &#123;</span><br><span class="line">            const taskElement = this.createTaskElement(task);</span><br><span class="line">            container.appendChild(taskElement);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 创建任务元素</span><br><span class="line">    createTaskElement: function(task) &#123;</span><br><span class="line">        const isOverdue = Utils.isTaskOverdue(task);</span><br><span class="line">        </span><br><span class="line">        const element = document.createElement(&#x27;div&#x27;);</span><br><span class="line">        element.className = &#x27;task-card&#x27;;</span><br><span class="line">        element.dataset.id = task.id;</span><br><span class="line">        </span><br><span class="line">        element.innerHTML = `</span><br><span class="line">            &lt;div class=&quot;task-header&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;task-title&quot;&gt;$&#123;Utils.escapeHtml(task.title)&#125;&lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;task-status status-$&#123;task.status&#125;&quot;&gt;</span><br><span class="line">                    $&#123;this.getStatusText(task.status)&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;task-priority priority-$&#123;task.priority&#125;&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-flag&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    $&#123;this.getPriorityText(task.priority)&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            $&#123;task.description ? `</span><br><span class="line">            &lt;div class=&quot;task-description&quot;&gt;</span><br><span class="line">                $&#123;Utils.escapeHtml(task.description)&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            ` : &#x27;&#x27;&#125;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;task-meta&quot;&gt;</span><br><span class="line">                $&#123;task.dueDate ? `</span><br><span class="line">                &lt;div class=&quot;task-due $&#123;isOverdue ? &#x27;overdue&#x27; : &#x27;&#x27;&#125;&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-calendar&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;span&gt;截止: $&#123;Utils.formatDate(task.dueDate, &#x27;date&#x27;)&#125;&lt;/span&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">                </span><br><span class="line">                $&#123;task.categories &amp;&amp; task.categories.length &gt; 0 ? `</span><br><span class="line">                &lt;div class=&quot;task-categories&quot;&gt;</span><br><span class="line">                    $&#123;task.categories.map(catId =&gt; &#123;</span><br><span class="line">                        const category = this.state.categories.find(c =&gt; c.id === catId);</span><br><span class="line">                        return category ? `</span><br><span class="line">                            &lt;span class=&quot;category-tag&quot;&gt;$&#123;category.name&#125;&lt;/span&gt;</span><br><span class="line">                        ` : &#x27;&#x27;;</span><br><span class="line">                    &#125;).join(&#x27;&#x27;)&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;div class=&quot;task-actions&quot;&gt;</span><br><span class="line">                &lt;button class=&quot;btn btn-sm btn-secondary edit-task&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; 编辑</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &lt;button class=&quot;btn btn-sm btn-secondary view-comments&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-comment&quot;&gt;&lt;/i&gt; 评论</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                $&#123;task.status !== &#x27;DONE&#x27; ? `</span><br><span class="line">                &lt;button class=&quot;btn btn-sm btn-primary complete-task&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-check&quot;&gt;&lt;/i&gt; 完成</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                ` : &#x27;&#x27;&#125;</span><br><span class="line">                &lt;button class=&quot;btn btn-sm btn-secondary delete-task&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt; 删除</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `;</span><br><span class="line">        </span><br><span class="line">        // 添加事件监听器</span><br><span class="line">        const editBtn = element.querySelector(&#x27;.edit-task&#x27;);</span><br><span class="line">        editBtn.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.openTaskModal(task);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        const commentsBtn = element.querySelector(&#x27;.view-comments&#x27;);</span><br><span class="line">        commentsBtn.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            this.openCommentModal(task.id);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        const completeBtn = element.querySelector(&#x27;.complete-task&#x27;);</span><br><span class="line">        if (completeBtn) &#123;</span><br><span class="line">            completeBtn.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">                this.completeTask(task.id);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        const deleteBtn = element.querySelector(&#x27;.delete-task&#x27;);</span><br><span class="line">        deleteBtn.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">            if (confirm(&#x27;确定要删除这个任务吗？&#x27;)) &#123;</span><br><span class="line">                this.deleteTask(task.id);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        return element;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 打开任务模态框</span><br><span class="line">    openTaskModal: function(task = null) &#123;</span><br><span class="line">        const modal = document.getElementById(&#x27;taskModal&#x27;);</span><br><span class="line">        const form = document.getElementById(&#x27;taskForm&#x27;);</span><br><span class="line">        const title = document.getElementById(&#x27;modalTitle&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 重置表单</span><br><span class="line">        form.reset();</span><br><span class="line">        </span><br><span class="line">        if (task) &#123;</span><br><span class="line">            // 编辑模式</span><br><span class="line">            title.textContent = &#x27;编辑任务&#x27;;</span><br><span class="line">            document.getElementById(&#x27;taskId&#x27;).value = task.id;</span><br><span class="line">            document.getElementById(&#x27;taskTitle&#x27;).value = task.title;</span><br><span class="line">            document.getElementById(&#x27;taskDescription&#x27;).value = task.description || &#x27;&#x27;;</span><br><span class="line">            document.getElementById(&#x27;taskStatus&#x27;).value = task.status;</span><br><span class="line">            document.getElementById(&#x27;taskPriority&#x27;).value = task.priority;</span><br><span class="line">            </span><br><span class="line">            if (task.dueDate) &#123;</span><br><span class="line">                // 转换日期时间格式</span><br><span class="line">                const date = new Date(task.dueDate);</span><br><span class="line">                const localDateTime = date.toISOString().slice(0, 16);</span><br><span class="line">                document.getElementById(&#x27;dueDate&#x27;).value = localDateTime;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            document.getElementById(&#x27;estimatedMinutes&#x27;).value = task.estimatedMinutes || &#x27;&#x27;;</span><br><span class="line">            </span><br><span class="line">            // 设置分类选中状态</span><br><span class="line">            if (task.categories) &#123;</span><br><span class="line">                document.querySelectorAll(&#x27;.category-tag-input&#x27;).forEach(tag =&gt; &#123;</span><br><span class="line">                    if (task.categories.includes(tag.dataset.id)) &#123;</span><br><span class="line">                        tag.classList.add(&#x27;selected&#x27;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // 新建模式</span><br><span class="line">            title.textContent = &#x27;新建任务&#x27;;</span><br><span class="line">            document.getElementById(&#x27;taskId&#x27;).value = &#x27;&#x27;;</span><br><span class="line">            document.getElementById(&#x27;taskStatus&#x27;).value = &#x27;TODO&#x27;;</span><br><span class="line">            document.getElementById(&#x27;taskPriority&#x27;).value = &#x27;MEDIUM&#x27;;</span><br><span class="line">            </span><br><span class="line">            // 清除分类选中状态</span><br><span class="line">            document.querySelectorAll(&#x27;.category-tag-input&#x27;).forEach(tag =&gt; &#123;</span><br><span class="line">                tag.classList.remove(&#x27;selected&#x27;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        modal.classList.add(&#x27;active&#x27;);</span><br><span class="line">        document.getElementById(&#x27;taskTitle&#x27;).focus();</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 保存任务</span><br><span class="line">    saveTask: async function() &#123;</span><br><span class="line">        const taskId = document.getElementById(&#x27;taskId&#x27;).value;</span><br><span class="line">        const isEdit = !!taskId;</span><br><span class="line">        </span><br><span class="line">        // 收集表单数据</span><br><span class="line">        const taskData = &#123;</span><br><span class="line">            title: document.getElementById(&#x27;taskTitle&#x27;).value,</span><br><span class="line">            description: document.getElementById(&#x27;taskDescription&#x27;).value,</span><br><span class="line">            status: document.getElementById(&#x27;taskStatus&#x27;).value,</span><br><span class="line">            priority: document.getElementById(&#x27;taskPriority&#x27;).value,</span><br><span class="line">            estimatedMinutes: document.getElementById(&#x27;estimatedMinutes&#x27;).value || null</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        // 截止日期</span><br><span class="line">        const dueDate = document.getElementById(&#x27;dueDate&#x27;).value;</span><br><span class="line">        if (dueDate) &#123;</span><br><span class="line">            taskData.dueDate = new Date(dueDate).toISOString();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // 选中的分类</span><br><span class="line">        const selectedCategories = Array.from(</span><br><span class="line">            document.querySelectorAll(&#x27;.category-tag-input.selected&#x27;)</span><br><span class="line">        ).map(tag =&gt; tag.dataset.id);</span><br><span class="line">        </span><br><span class="line">        if (selectedCategories.length &gt; 0) &#123;</span><br><span class="line">            taskData.categories = selectedCategories;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        try &#123;</span><br><span class="line">            let response;</span><br><span class="line">            if (isEdit) &#123;</span><br><span class="line">                response = await API.Tasks.updateTask(taskId, taskData);</span><br><span class="line">                Utils.showNotification(&#x27;成功&#x27;, &#x27;任务更新成功&#x27;, &#x27;success&#x27;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                response = await API.Tasks.createTask(taskData);</span><br><span class="line">                Utils.showNotification(&#x27;成功&#x27;, &#x27;任务创建成功&#x27;, &#x27;success&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            // 关闭模态框并刷新任务列表</span><br><span class="line">            this.closeModal(&#x27;taskModal&#x27;);</span><br><span class="line">            this.loadTasks();</span><br><span class="line">            </span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;保存任务失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;保存任务失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 完成任务</span><br><span class="line">    completeTask: async function(taskId) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            await API.Tasks.updateTaskStatus(taskId, &#x27;DONE&#x27;);</span><br><span class="line">            Utils.showNotification(&#x27;成功&#x27;, &#x27;任务标记为已完成&#x27;, &#x27;success&#x27;);</span><br><span class="line">            this.loadTasks();</span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;完成任务失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;完成任务失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 删除任务</span><br><span class="line">    deleteTask: async function(taskId) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            await API.Tasks.deleteTask(taskId);</span><br><span class="line">            Utils.showNotification(&#x27;成功&#x27;, &#x27;任务删除成功&#x27;, &#x27;success&#x27;);</span><br><span class="line">            this.loadTasks();</span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;删除任务失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;删除任务失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 打开评论模态框</span><br><span class="line">    openCommentModal: async function(taskId) &#123;</span><br><span class="line">        const modal = document.getElementById(&#x27;commentModal&#x27;);</span><br><span class="line">        document.getElementById(&#x27;commentTaskId&#x27;).value = taskId;</span><br><span class="line">        </span><br><span class="line">        try &#123;</span><br><span class="line">            const comments = await API.Comments.getComments(taskId);</span><br><span class="line">            this.renderComments(comments);</span><br><span class="line">            modal.classList.add(&#x27;active&#x27;);</span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;加载评论失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;加载评论失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 渲染评论</span><br><span class="line">    renderComments: function(comments) &#123;</span><br><span class="line">        const container = document.getElementById(&#x27;commentsList&#x27;);</span><br><span class="line">        container.innerHTML = &#x27;&#x27;;</span><br><span class="line">        </span><br><span class="line">        if (comments.length === 0) &#123;</span><br><span class="line">            container.innerHTML = &#x27;&lt;div class=&quot;comment&quot;&gt;暂无评论&lt;/div&gt;&#x27;;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        comments.forEach(comment =&gt; &#123;</span><br><span class="line">            const commentElement = document.createElement(&#x27;div&#x27;);</span><br><span class="line">            commentElement.className = &#x27;comment&#x27;;</span><br><span class="line">            commentElement.innerHTML = `</span><br><span class="line">                &lt;div class=&quot;comment-header&quot;&gt;</span><br><span class="line">                    &lt;img src=&quot;https://ui-avatars.com/api/?name=$&#123;comment.authorName&#125;&amp;background=1890ff&amp;color=fff&quot; </span><br><span class="line">                         alt=&quot;$&#123;comment.authorName&#125;&quot; class=&quot;comment-avatar&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;comment-author&quot;&gt;$&#123;comment.authorName&#125;&lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;comment-time&quot;&gt;$&#123;Utils.formatRelativeTime(comment.createdAt)&#125;&lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;comment-content&quot;&gt;$&#123;Utils.escapeHtml(comment.content)&#125;&lt;/div&gt;</span><br><span class="line">            `;</span><br><span class="line">            container.appendChild(commentElement);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 添加评论</span><br><span class="line">    addComment: async function() &#123;</span><br><span class="line">        const taskId = document.getElementById(&#x27;commentTaskId&#x27;).value;</span><br><span class="line">        const content = document.getElementById(&#x27;commentContent&#x27;).value;</span><br><span class="line">        </span><br><span class="line">        if (!content.trim()) &#123;</span><br><span class="line">            Utils.showNotification(&#x27;提示&#x27;, &#x27;评论内容不能为空&#x27;, &#x27;warning&#x27;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        try &#123;</span><br><span class="line">            await API.Comments.addComment(taskId, content);</span><br><span class="line">            </span><br><span class="line">            // 清空输入框并刷新评论列表</span><br><span class="line">            document.getElementById(&#x27;commentContent&#x27;).value = &#x27;&#x27;;</span><br><span class="line">            const comments = await API.Comments.getComments(taskId);</span><br><span class="line">            this.renderComments(comments);</span><br><span class="line">            </span><br><span class="line">            Utils.showNotification(&#x27;成功&#x27;, &#x27;评论添加成功&#x27;, &#x27;success&#x27;);</span><br><span class="line">            </span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;添加评论失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;添加评论失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 导出任务</span><br><span class="line">    exportTasks: async function() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            const format = prompt(&#x27;请选择导出格式 (excel, json, pdf):&#x27;, &#x27;excel&#x27;);</span><br><span class="line">            if (!format || ![&#x27;excel&#x27;, &#x27;json&#x27;, &#x27;pdf&#x27;].includes(format)) &#123;</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            Utils.showNotification(&#x27;提示&#x27;, &#x27;正在导出数据...&#x27;, &#x27;info&#x27;);</span><br><span class="line">            </span><br><span class="line">            const blob = await API.Tasks.exportTasks(format);</span><br><span class="line">            </span><br><span class="line">            // 生成文件名</span><br><span class="line">            const timestamp = new Date().toISOString().slice(0, 19).replace(/[:]/g, &#x27;-&#x27;);</span><br><span class="line">            const filename = `tasks_$&#123;timestamp&#125;.$&#123;format&#125;`;</span><br><span class="line">            </span><br><span class="line">            // 下载文件</span><br><span class="line">            Utils.downloadFile(blob, filename);</span><br><span class="line">            </span><br><span class="line">            Utils.showNotification(&#x27;成功&#x27;, &#x27;数据导出成功&#x27;, &#x27;success&#x27;);</span><br><span class="line">            </span><br><span class="line">        &#125; catch (error) &#123;</span><br><span class="line">            console.error(&#x27;导出失败:&#x27;, error);</span><br><span class="line">            Utils.showNotification(&#x27;错误&#x27;, &#x27;导出失败&#x27;, &#x27;error&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 更新统计信息</span><br><span class="line">    updateStats: function() &#123;</span><br><span class="line">        const totalTasks = this.state.tasks.length;</span><br><span class="line">        const completedTasks = this.state.tasks.filter(t =&gt; t.status === &#x27;DONE&#x27;).length;</span><br><span class="line">        const pendingTasks = totalTasks - completedTasks;</span><br><span class="line">        </span><br><span class="line">        document.getElementById(&#x27;totalTasks&#x27;).textContent = totalTasks;</span><br><span class="line">        document.getElementById(&#x27;completedTasks&#x27;).textContent = completedTasks;</span><br><span class="line">        document.getElementById(&#x27;pendingTasks&#x27;).textContent = pendingTasks;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 显示加载状态</span><br><span class="line">    showLoading: function() &#123;</span><br><span class="line">        const container = document.getElementById(&#x27;tasksList&#x27;);</span><br><span class="line">        container.innerHTML = `</span><br><span class="line">            &lt;div class=&quot;loading&quot;&gt;</span><br><span class="line">                &lt;i class=&quot;fas fa-spinner fa-spin&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;span&gt;加载中...&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 隐藏加载状态</span><br><span class="line">    hideLoading: function() &#123;</span><br><span class="line">        // 由renderTasks处理</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 关闭模态框</span><br><span class="line">    closeModal: function(modalId) &#123;</span><br><span class="line">        document.getElementById(modalId).classList.remove(&#x27;active&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 初始化主题</span><br><span class="line">    initTheme: function() &#123;</span><br><span class="line">        const savedTheme = localStorage.getItem(&#x27;theme&#x27;) || &#x27;light&#x27;;</span><br><span class="line">        document.documentElement.setAttribute(&#x27;data-theme&#x27;, savedTheme);</span><br><span class="line">        this.updateThemeIcon(savedTheme);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 切换主题</span><br><span class="line">    toggleTheme: function() &#123;</span><br><span class="line">        const currentTheme = document.documentElement.getAttribute(&#x27;data-theme&#x27;);</span><br><span class="line">        const newTheme = currentTheme === &#x27;dark&#x27; ? &#x27;light&#x27; : &#x27;dark&#x27;;</span><br><span class="line">        </span><br><span class="line">        document.documentElement.setAttribute(&#x27;data-theme&#x27;, newTheme);</span><br><span class="line">        localStorage.setItem(&#x27;theme&#x27;, newTheme);</span><br><span class="line">        this.updateThemeIcon(newTheme);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 更新主题图标</span><br><span class="line">    updateThemeIcon: function(theme) &#123;</span><br><span class="line">        const icon = document.querySelector(&#x27;#themeToggle i&#x27;);</span><br><span class="line">        icon.className = theme === &#x27;dark&#x27; ? &#x27;fas fa-sun&#x27; : &#x27;fas fa-moon&#x27;;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 工具方法</span><br><span class="line">    getStatusText: function(status) &#123;</span><br><span class="line">        const statusMap = &#123;</span><br><span class="line">            &#x27;TODO&#x27;: &#x27;待办&#x27;,</span><br><span class="line">            &#x27;IN_PROGRESS&#x27;: &#x27;进行中&#x27;,</span><br><span class="line">            &#x27;DONE&#x27;: &#x27;已完成&#x27;</span><br><span class="line">        &#125;;</span><br><span class="line">        return statusMap[status] || status;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    getPriorityText: function(priority) &#123;</span><br><span class="line">        const priorityMap = &#123;</span><br><span class="line">            &#x27;LOW&#x27;: &#x27;低&#x27;,</span><br><span class="line">            &#x27;MEDIUM&#x27;: &#x27;中&#x27;,</span><br><span class="line">            &#x27;HIGH&#x27;: &#x27;高&#x27;,</span><br><span class="line">            &#x27;URGENT&#x27;: &#x27;紧急&#x27;</span><br><span class="line">        &#125;;</span><br><span class="line">        return priorityMap[priority] || priority;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h2 id="4-后端调整-Spring-Boot-静态资源配置"><a href="#4-后端调整-Spring-Boot-静态资源配置" class="headerlink" title="4. 后端调整 - Spring Boot 静态资源配置"></a>4. 后端调整 - Spring Boot 静态资源配置</h2><p>在 Spring Boot 项目的 <code>application.yml</code> 中配置：</p>
<p>yaml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  web:</span><br><span class="line">    resources:</span><br><span class="line">      static-locations: classpath:/static/</span><br><span class="line">  mvc:</span><br><span class="line">    static-path-pattern: /**</span><br></pre></td></tr></table></figure>



<p>在 Spring Boot 配置类中添加：</p>
<p>java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class WebConfig implements WebMvcConfigurer &#123;</span><br><span class="line">    </span><br><span class="line">    @Override</span><br><span class="line">    public void addResourceHandlers(ResourceHandlerRegistry registry) &#123;</span><br><span class="line">        // 处理静态资源</span><br><span class="line">        registry.addResourceHandler(&quot;/**&quot;)</span><br><span class="line">                .addResourceLocations(&quot;classpath:/static/&quot;)</span><br><span class="line">                .setCacheControl(CacheControl.maxAge(365, TimeUnit.DAYS));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @Override</span><br><span class="line">    public void addCorsMappings(CorsRegistry registry) &#123;</span><br><span class="line">        registry.addMapping(&quot;/api/**&quot;)</span><br><span class="line">                .allowedOrigins(&quot;http://localhost:8080&quot;)</span><br><span class="line">                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)</span><br><span class="line">                .allowedHeaders(&quot;*&quot;)</span><br><span class="line">                .allowCredentials(true)</span><br><span class="line">                .maxAge(3600);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-构建脚本-build-js"><a href="#5-构建脚本-build-js" class="headerlink" title="5. 构建脚本 (build.js)"></a>5. 构建脚本 (build.js)</h2><p>创建构建脚本，将前端文件复制到 Spring Boot 的 static 目录：</p>
<p>javascript</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// build.js - 构建脚本</span><br><span class="line">const fs = require(&#x27;fs-extra&#x27;);</span><br><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">// 目录路径</span><br><span class="line">const frontendDir = path.join(__dirname, &#x27;frontend&#x27;);</span><br><span class="line">const backendStaticDir = path.join(__dirname, &#x27;backend/src/main/resources/static&#x27;);</span><br><span class="line"></span><br><span class="line">// 清理并创建目录</span><br><span class="line">fs.removeSync(backendStaticDir);</span><br><span class="line">fs.ensureDirSync(backendStaticDir);</span><br><span class="line"></span><br><span class="line">// 复制文件函数</span><br><span class="line">async function copyFiles() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        // 复制所有前端文件</span><br><span class="line">        await fs.copy(frontendDir, backendStaticDir);</span><br><span class="line">        </span><br><span class="line">        console.log(&#x27;✅ 前端文件已复制到后端 static 目录&#x27;);</span><br><span class="line">        </span><br><span class="line">        // 列出复制的文件</span><br><span class="line">        const files = await fs.readdir(backendStaticDir);</span><br><span class="line">        console.log(`📁 文件数量: $&#123;files.length&#125;`);</span><br><span class="line">        </span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">        console.error(&#x27;❌ 复制文件失败:&#x27;, err);</span><br><span class="line">        process.exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 运行构建</span><br><span class="line">copyFiles();</span><br></pre></td></tr></table></figure>



<h2 id="6-部署和运行"><a href="#6-部署和运行" class="headerlink" title="6. 部署和运行"></a>6. 部署和运行</h2><h3 id="方式一：开发模式"><a href="#方式一：开发模式" class="headerlink" title="方式一：开发模式"></a>方式一：开发模式</h3><ol>
<li><strong>启动后端</strong>：</li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd backend</span><br><span class="line">./mvnw spring-boot:run</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>前端开发</strong>：</li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 在frontend目录下开发</span><br><span class="line"># 修改后运行构建脚本</span><br><span class="line">node build.js</span><br><span class="line"># 后端会自动重新加载静态资源</span><br></pre></td></tr></table></figure>



<h3 id="方式二：生产构建"><a href="#方式二：生产构建" class="headerlink" title="方式二：生产构建"></a>方式二：生产构建</h3><ol>
<li><strong>构建前端</strong>：</li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 运行构建脚本</span><br><span class="line">node build.js</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>打包后端</strong>：</li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd backend</span><br><span class="line">./mvnw clean package</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>运行应用</strong>：</li>
</ol>
<p>bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar target/todolist-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>访问应用</strong>：</li>
</ol>
<ul>
<li>打开浏览器访问：<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a></li>
</ul>
<h2 id="7-项目特点"><a href="#7-项目特点" class="headerlink" title="7. 项目特点"></a>7. 项目特点</h2><p>这个实现具有以下特点：</p>
<h3 id="1-前后端分离架构"><a href="#1-前后端分离架构" class="headerlink" title="1. 前后端分离架构"></a>1. <strong>前后端分离架构</strong></h3><ul>
<li>前端使用纯 HTML&#x2F;CSS&#x2F;JavaScript</li>
<li>后端提供 RESTful API</li>
<li>通过 Fetch API 进行通信</li>
</ul>
<h3 id="2-模块化设计"><a href="#2-模块化设计" class="headerlink" title="2. 模块化设计"></a>2. <strong>模块化设计</strong></h3><ul>
<li>认证模块 (<code>auth.js</code>) - 处理 JWT 认证</li>
<li>API 模块 (<code>api.js</code>) - 封装所有 API 调用</li>
<li>工具模块 (<code>utils.js</code>) - 通用工具函数</li>
<li>主应用模块 (<code>main.js</code>) - 管理应用状态和 UI</li>
</ul>
<h3 id="3-现代-JavaScript-特性"><a href="#3-现代-JavaScript-特性" class="headerlink" title="3. 现代 JavaScript 特性"></a>3. <strong>现代 JavaScript 特性</strong></h3><ul>
<li>ES6+ 语法（模块、箭头函数、模板字符串等）</li>
<li>Async&#x2F;Await 处理异步操作</li>
<li>事件委托和动态元素创建</li>
<li>本地存储和状态管理</li>
</ul>
<h3 id="4-响应式设计"><a href="#4-响应式设计" class="headerlink" title="4. 响应式设计"></a>4. <strong>响应式设计</strong></h3><ul>
<li>移动端友好的布局</li>
<li>CSS 变量实现主题切换</li>
<li>灵活的组件样式</li>
</ul>
<h3 id="5-完整的-CRUD-功能"><a href="#5-完整的-CRUD-功能" class="headerlink" title="5. 完整的 CRUD 功能"></a>5. <strong>完整的 CRUD 功能</strong></h3><ul>
<li>任务的创建、读取、更新、删除</li>
<li>分类管理</li>
<li>评论系统</li>
<li>数据导出功能</li>
</ul>
<h3 id="6-用户体验优化"><a href="#6-用户体验优化" class="headerlink" title="6. 用户体验优化"></a>6. <strong>用户体验优化</strong></h3><ul>
<li>加载状态指示</li>
<li>实时通知系统</li>
<li>防抖搜索</li>
<li>模态框交互</li>
</ul>
<p>这个解决方案保留了 Spring Boot 后端的所有功能，同时提供了一个现代化、高性能的纯前端界面。所有前端代码都是原生 JavaScript，不依赖任何框架，适合学习和理解底层 Web 开发原理。</p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/post/c70f4ff7.html" rel="prev" title="JavaScript卡牌游戏设计与实现">
                  <i class="fa fa-angle-left"></i> JavaScript卡牌游戏设计与实现
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/post/76a16698.html" rel="next" title="Java多人在线聊天室设计与实现">
                  Java多人在线聊天室设计与实现 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa-regular fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder"></span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">368k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">22:18</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>

  <script class="next-config" data-name="wavedrom" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/wavedrom.min.js","integrity":"sha256-INLAoJc6quTNfiMWkGZniYO2cxE8mHpddnLow1m6RFs="}}</script>
  <script class="next-config" data-name="wavedrom_skin" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/skins/default.js","integrity":"sha256-fduc/Zszk5ezWws2uInY/ALWVmIrmV6VTgXbsYSReFI="}}</script>
  <script src="/js/third-party/tags/wavedrom.js"></script>




  





</body>
</html>
